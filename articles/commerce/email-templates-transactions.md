---
title: Tapahtumasidonnaisten tapahtumien sähköpostimallien luominen
description: Tässä ohjeaiheessa käsitellään tapahtumasidonnaisten tapahtumien sähköpostimallien luontia, lataamista ja määrittämistä Microsoft Dynamics 365 Commercessa.
author: bicyclingfool
manager: annbe
ms.date: 03/01/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: stuharg
ms.search.validFrom: 2020-01-20
ms.dyn365.ops.version: Release 10.0.8
ms.openlocfilehash: 756e2a64ef4c33c347106968eb6bc79a413c3ff7
ms.sourcegitcommit: 88babb2fffe97e93bbde543633fc492120f2a4fc
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 03/06/2021
ms.locfileid: "5555242"
---
# <a name="create-email-templates-for-transactional-events"></a><span data-ttu-id="ea47a-103">Tapahtuman tapahtumien sähköpostimallien luominen</span><span class="sxs-lookup"><span data-stu-id="ea47a-103">Create email templates for transactional events</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="ea47a-104">Tässä ohjeaiheessa käsitellään tapahtumasidonnaisten tapahtumien sähköpostimallien luontia, lataamista ja määrittämistä Microsoft Dynamics 365 Commercessa.</span><span class="sxs-lookup"><span data-stu-id="ea47a-104">This topic describes how to create, upload, and configure email templates for transactional events in Microsoft Dynamics 365 Commerce.</span></span>

## <a name="overview"></a><span data-ttu-id="ea47a-105">Yleiskuvaus</span><span class="sxs-lookup"><span data-stu-id="ea47a-105">Overview</span></span>

<span data-ttu-id="ea47a-106">Dynamics 365 Commerce on valmis ratkaisu sellaisten sähköpostien lähettämiseen, jotka ilmoittavat asiakkaille tapahtumasidonnaisista tapahtumista (kuten tilauksen tekemisestä, noutamista odottavasta tilauksesta tai lähetetystä tilauksesta).</span><span class="sxs-lookup"><span data-stu-id="ea47a-106">Dynamics 365 Commerce provides an out-of-box solution for sending emails that alert customers about transactional events (for example, when an order is placed, an order is ready for pickup, or an order has been shipped).</span></span> <span data-ttu-id="ea47a-107">Tässä ohjeaiheessa on ohjeet tapahtumasidonnaisten sähköpostiviestien lähettämiseen käytettyjen sähköpostimallien luomiseen, päivittämiseen ja määrittämiseen.</span><span class="sxs-lookup"><span data-stu-id="ea47a-107">This topic describes the steps for creating, uploading, and configuring the email templates that are used to send transactional emails.</span></span>

## <a name="create-an-email-template"></a><span data-ttu-id="ea47a-108">Luo sähköpostimalli</span><span class="sxs-lookup"><span data-stu-id="ea47a-108">Create an email template</span></span>

<span data-ttu-id="ea47a-109">Ennen tietyn tapahtumasidonnaisen tapahtuman yhdistämistä sähköpostimalliin on luotava malli.</span><span class="sxs-lookup"><span data-stu-id="ea47a-109">Before you can map a specific transactional event to an email template, you must create the template.</span></span>

<span data-ttu-id="ea47a-110">Voit luoda sähköpostimallin seuraavien ohjeiden avulla.</span><span class="sxs-lookup"><span data-stu-id="ea47a-110">To create an email template, follow these steps.</span></span>

1. <span data-ttu-id="ea47a-111">Siirry Commerce Headquarters -sovelluksessa kohtaan **Retail ja Commerce \> Headquarters -sovelluksen määritys \> Organisaation sähköpostimallit** tai **Organisaation hallinta \> Määritys \> Organisaation sähköpostimallit**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-111">In Commerce headquarters, go to **Retail and Commerce \> Headquarters setup \> Organization email templates** or **Organization administration \> Setup \> Organization email templates**.</span></span>
1. <span data-ttu-id="ea47a-112">Valitse **Uusi**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-112">Select **New**.</span></span>
1. <span data-ttu-id="ea47a-113">Määritä seuraavat kentät **Yleiset**-kohdassa:</span><span class="sxs-lookup"><span data-stu-id="ea47a-113">Under **General**, set the following fields:</span></span>

    - <span data-ttu-id="ea47a-114">**Sähköpostitunnus** – sähköpostitunnus on mallin yksilöivä tunniste ja arvo, joka näytetään, kun tapahtumaan yhdistettävä malli valitaan.</span><span class="sxs-lookup"><span data-stu-id="ea47a-114">**Email ID** – The email ID is the unique identifier for a template, and it's the value that is shown when you select a template to map to an event.</span></span>
    - <span data-ttu-id="ea47a-115">**Sähköpostin kuvaus** – Tähän valinnaiseen kenttään voi kirjoittaa mallin kuvauksen.</span><span class="sxs-lookup"><span data-stu-id="ea47a-115">**Email description** – You can use this optional field to provide a description of the template.</span></span> <span data-ttu-id="ea47a-116">Annettava arvo näkyy vain Commercen pääkonttoriosassa.</span><span class="sxs-lookup"><span data-stu-id="ea47a-116">The value that you enter appears only in Commerce headquarters.</span></span>
    - <span data-ttu-id="ea47a-117">**Lähettäjän nimi** – annettu nimi näkyy useimpien sähköpostiohjelmien Lähettäjä-kentässä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-117">**Sender name** – The name that you enter appears in the "from" field of most email clients.</span></span>
    - <span data-ttu-id="ea47a-118">**Lähettäjän sähköposti** – anna sähköpostiosoite, jota käytetään sähköpostien lähettämiseen tätä mallia käytettäessä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-118">**Sender email** – Enter the email address that should be used for emails that are sent by using this template.</span></span>
    - <span data-ttu-id="ea47a-119">**Oletuskielikoodi** – tämä kenttä määrittää oletusarvoisesti lähetetyn sähköpostin lokalisoidun version, jos mallin käynnistävässä kanavassa ei ole määritetty mitään kieltä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-119">**Default language code** – This field specifies the localized version of the email that is sent by default, if no language is provided by the channel that invokes this template.</span></span>

1. <span data-ttu-id="ea47a-120">Valitse **Sähköpostiviestin sisältö** -kohdassa **Uusi**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-120">Under **Email message content**, select **New**.</span></span>
1. <span data-ttu-id="ea47a-121">Anna sähköpostimallin kieli **Kieli**-kentässä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-121">In the **Language** field, enter the language for the email template.</span></span> <span data-ttu-id="ea47a-122">Voit lisätä muita kieliä ja lokalisoituja malleja myöhemmin.</span><span class="sxs-lookup"><span data-stu-id="ea47a-122">You can add more languages and localized templates later.</span></span>
1. <span data-ttu-id="ea47a-123">Kirjoita **Aihe**-kenttään sähköpostin aihe, joka näkyy sähköpostin aihekentässä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-123">In the **Subject** field, enter the email subject that should appear in the subject field of the email.</span></span>
1. <span data-ttu-id="ea47a-124">Lataa sähköpostimalli valitsemalla **Muokkaa**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-124">Select **Edit** to upload your email template.</span></span>

## <a name="create-an-email-message-body-by-using-html"></a><span data-ttu-id="ea47a-125">Sähköpostiviestin tekstin luonti HTML-koodin avulla</span><span class="sxs-lookup"><span data-stu-id="ea47a-125">Create an email message body by using HTML</span></span>

<span data-ttu-id="ea47a-126">Sähköpostiviestin tekstissä on käytetty HTML-koodia.</span><span class="sxs-lookup"><span data-stu-id="ea47a-126">The message body of your email is composed in HTML.</span></span> <span data-ttu-id="ea47a-127">Voit käyttää mitä tahansa asettelua, tyyliä ja brändäystä, joiden käytön HTML ja CSS-tyylisivut sallivat.</span><span class="sxs-lookup"><span data-stu-id="ea47a-127">You can use any layout, styling, and branding that HTML and inline Cascading Style Sheets (CSS) allow for.</span></span> <span data-ttu-id="ea47a-128">Voit käyttää myös kuvia, jos niitä isännöidään julkisesti saatavana olevassa verkkopäätepisteessä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-128">You can also use images, if you host them on a publicly available web endpoint.</span></span> <span data-ttu-id="ea47a-129">Lisää kuva antamalla kuvan URL-osoite HTML **&lt;img&gt;** -tunnisteen **src**-määritteessä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-129">To add an image, enter the image's URL in the **src** attribute of the HTML **&lt;img&gt;** tag.</span></span>

> [!NOTE]
> <span data-ttu-id="ea47a-130">Sähköpostiohjelmissa on asettelu- ja tyylirajoituksia, jotka voivat edellyttää viestin tekstissä käytettävän HTML-koodin ja CSS-tyylisivujen muokkaamista.</span><span class="sxs-lookup"><span data-stu-id="ea47a-130">Email clients impose layout and style limitations that might require adjustments to the HTML and CSS that you use for the message body.</span></span> <span data-ttu-id="ea47a-131">Tämän vuoksi kannattaa tutustua sellaisen HTML-koodin luomisen parhaisiin käytäntöihin, joita suositut sähköpostiohjelmat tukevat.</span><span class="sxs-lookup"><span data-stu-id="ea47a-131">We recommend that you familiarize yourself with the best practices for creating HTML that will be supported by the most popular email clients.</span></span>

## <a name="add-placeholders-to-the-email-message-body"></a><span data-ttu-id="ea47a-132">Paikkamerkkien lisääminen sähköpostiviestin tekstiin</span><span class="sxs-lookup"><span data-stu-id="ea47a-132">Add placeholders to the email message body</span></span>

<span data-ttu-id="ea47a-133">Sähköpostiviestissä voi olla paikkamerkkejä, jotka korvataan asiakas- ja tapahtumakohtaisilla arvoilla, kun sähköpostiviesti luodaan.</span><span class="sxs-lookup"><span data-stu-id="ea47a-133">Your email can contain placeholders that are replaced with customer-specific and transaction-specific values when the email is generated.</span></span> <span data-ttu-id="ea47a-134">Paikkamerkkien ympärillä on aina prosenttimerkit (%) ja ne lisätään suoraan HTML-tiedostoon.</span><span class="sxs-lookup"><span data-stu-id="ea47a-134">Placeholders are always surrounded by percent signs (%) and are inserted directly into the HTML document.</span></span>

<span data-ttu-id="ea47a-135">Esimerkki:</span><span class="sxs-lookup"><span data-stu-id="ea47a-135">Here is an example.</span></span>

```html
<p>
    Hello %customername%,<br />
    Order number %salesid%, can be picked up from the <b>%pickupstorename%</b> store.
</p>
```

### <a name="order-placeholders-sales-order-level"></a><span data-ttu-id="ea47a-136">Tilauksen paikkamerkit (myyntitilaustaso)</span><span class="sxs-lookup"><span data-stu-id="ea47a-136">Order placeholders (sales order level)</span></span>

<span data-ttu-id="ea47a-137">Seuraavilla paikkamerkeillä noudetaan ja näytetään tiedot, jotka on määritetty myyntitilaustasolla (eikä myyntirivitasolla).</span><span class="sxs-lookup"><span data-stu-id="ea47a-137">The following placeholders retrieve and show data that is defined at the sales order level (as opposed to the sales line level).</span></span>

| <span data-ttu-id="ea47a-138">Paikkamerkin nimi</span><span class="sxs-lookup"><span data-stu-id="ea47a-138">Placeholder name</span></span>     | <span data-ttu-id="ea47a-139">Paikkamerkin arvo</span><span class="sxs-lookup"><span data-stu-id="ea47a-139">Placeholder value</span></span>                                            |
| -------------------- | ------------------------------------------------------------ |
| <span data-ttu-id="ea47a-140">customername</span><span class="sxs-lookup"><span data-stu-id="ea47a-140">customername</span></span>         | <span data-ttu-id="ea47a-141">Tilauksen tehneen asiakkaan nimi.</span><span class="sxs-lookup"><span data-stu-id="ea47a-141">The name of the customer who placed the order.</span></span>               |
| <span data-ttu-id="ea47a-142">salesid</span><span class="sxs-lookup"><span data-stu-id="ea47a-142">salesid</span></span>              | <span data-ttu-id="ea47a-143">Tilauksen myyntitunnus.</span><span class="sxs-lookup"><span data-stu-id="ea47a-143">The sales ID of the order.</span></span>                                   |
| <span data-ttu-id="ea47a-144">deliveryaddress</span><span class="sxs-lookup"><span data-stu-id="ea47a-144">deliveryaddress</span></span>      | <span data-ttu-id="ea47a-145">Lähetettyjen tilausten toimitusosoite.</span><span class="sxs-lookup"><span data-stu-id="ea47a-145">The delivery address for shipped orders.</span></span>                     |
| <span data-ttu-id="ea47a-146">customeraddress</span><span class="sxs-lookup"><span data-stu-id="ea47a-146">customeraddress</span></span>      | <span data-ttu-id="ea47a-147">Asiakkaan osoite.</span><span class="sxs-lookup"><span data-stu-id="ea47a-147">The address of the customer.</span></span>                                 |
| <span data-ttu-id="ea47a-148">customeremailaddress</span><span class="sxs-lookup"><span data-stu-id="ea47a-148">customeremailaddress</span></span> | <span data-ttu-id="ea47a-149">Sähköpostiosoite, jonka asiakas on antanut uloskuittauksen aikana.</span><span class="sxs-lookup"><span data-stu-id="ea47a-149">The email address that the customer entered at checkout.</span></span>     |
| <span data-ttu-id="ea47a-150">deliverydate</span><span class="sxs-lookup"><span data-stu-id="ea47a-150">deliverydate</span></span>         | <span data-ttu-id="ea47a-151">Toimituspäivä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-151">The delivery date.</span></span>                                           |
| <span data-ttu-id="ea47a-152">shipdate</span><span class="sxs-lookup"><span data-stu-id="ea47a-152">shipdate</span></span>             | <span data-ttu-id="ea47a-153">Lähetyspäivä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-153">The ship date.</span></span>                                               |
| <span data-ttu-id="ea47a-154">modeofdelivery</span><span class="sxs-lookup"><span data-stu-id="ea47a-154">modeofdelivery</span></span>       | <span data-ttu-id="ea47a-155">Tilauksen toimitustapa.</span><span class="sxs-lookup"><span data-stu-id="ea47a-155">The delivery mode of the order.</span></span>                              |
| <span data-ttu-id="ea47a-156">kulut</span><span class="sxs-lookup"><span data-stu-id="ea47a-156">charges</span></span>              | <span data-ttu-id="ea47a-157">Tilauksen kokonaiskulut.</span><span class="sxs-lookup"><span data-stu-id="ea47a-157">The total charges for the order.</span></span>                             |
| <span data-ttu-id="ea47a-158">vero</span><span class="sxs-lookup"><span data-stu-id="ea47a-158">tax</span></span>                  | <span data-ttu-id="ea47a-159">Tilauksen verot yhteensä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-159">The total tax for the order.</span></span>                                 |
| <span data-ttu-id="ea47a-160">yhteensä</span><span class="sxs-lookup"><span data-stu-id="ea47a-160">total</span></span>                | <span data-ttu-id="ea47a-161">Tilauksen kokonaissumma.</span><span class="sxs-lookup"><span data-stu-id="ea47a-161">The total amount for the order.</span></span>                              |
| <span data-ttu-id="ea47a-162">ordernetamount</span><span class="sxs-lookup"><span data-stu-id="ea47a-162">ordernetamount</span></span>       | <span data-ttu-id="ea47a-163">Tilauksen kokonaissumma ilman veroja.</span><span class="sxs-lookup"><span data-stu-id="ea47a-163">The total amount for the order, minus the total tax.</span></span>         |
| <span data-ttu-id="ea47a-164">alennus</span><span class="sxs-lookup"><span data-stu-id="ea47a-164">discount</span></span>             | <span data-ttu-id="ea47a-165">Tilauksen kokonaisalennus.</span><span class="sxs-lookup"><span data-stu-id="ea47a-165">The total discount for the order.</span></span>                            |
| <span data-ttu-id="ea47a-166">storename</span><span class="sxs-lookup"><span data-stu-id="ea47a-166">storename</span></span>            | <span data-ttu-id="ea47a-167">Sen myymälän nimi, jossa tilaus tehtiin.</span><span class="sxs-lookup"><span data-stu-id="ea47a-167">The name of the store where the order was placed.</span></span>            |
| <span data-ttu-id="ea47a-168">storeaddress</span><span class="sxs-lookup"><span data-stu-id="ea47a-168">storeaddress</span></span>         | <span data-ttu-id="ea47a-169">Tilauksen tehneen myymälän osoite.</span><span class="sxs-lookup"><span data-stu-id="ea47a-169">The address of the store that placed the order.</span></span>              |
| <span data-ttu-id="ea47a-170">storeopenfrom</span><span class="sxs-lookup"><span data-stu-id="ea47a-170">storeopenfrom</span></span>        | <span data-ttu-id="ea47a-171">Tilauksen tehneen myymälän avaamisaika.</span><span class="sxs-lookup"><span data-stu-id="ea47a-171">The opening time of the store that placed the order.</span></span>         |
| <span data-ttu-id="ea47a-172">storeopento</span><span class="sxs-lookup"><span data-stu-id="ea47a-172">storeopento</span></span>          | <span data-ttu-id="ea47a-173">Tilauksen tehneen myymälän sulkemisaika.</span><span class="sxs-lookup"><span data-stu-id="ea47a-173">The closing time of the store that placed the order.</span></span>         |
| <span data-ttu-id="ea47a-174">pickupstorename</span><span class="sxs-lookup"><span data-stu-id="ea47a-174">pickupstorename</span></span>      | <span data-ttu-id="ea47a-175">Sen myymälän nimi, josta tilaus noudetaan.</span><span class="sxs-lookup"><span data-stu-id="ea47a-175">The name of the store where the order will be picked up.</span></span>     |
| <span data-ttu-id="ea47a-176">pickupstoreaddress</span><span class="sxs-lookup"><span data-stu-id="ea47a-176">pickupstoreaddress</span></span>   | <span data-ttu-id="ea47a-177">Sen myymälän osoite, josta tilaus noudetaan.</span><span class="sxs-lookup"><span data-stu-id="ea47a-177">The address of the store where the order will be picked up.</span></span>  |
| <span data-ttu-id="ea47a-178">pickupopenstorefrom</span><span class="sxs-lookup"><span data-stu-id="ea47a-178">pickupopenstorefrom</span></span>  | <span data-ttu-id="ea47a-179">Sen myymälän avaamisaika, josta tilaus noudetaan.</span><span class="sxs-lookup"><span data-stu-id="ea47a-179">The opening time of the store where the order will be picked up.</span></span> |
| <span data-ttu-id="ea47a-180">pickupopenstoreto</span><span class="sxs-lookup"><span data-stu-id="ea47a-180">pickupopenstoreto</span></span>    | <span data-ttu-id="ea47a-181">Sen myymälän sulkemisaika, josta tilaus noudetaan.</span><span class="sxs-lookup"><span data-stu-id="ea47a-181">The closing time of the store where the order will be picked up.</span></span> |

### <a name="order-line-placeholders-sales-line-level"></a><span data-ttu-id="ea47a-182">Tilausrivin paikkamerkit (myyntirivitaso)</span><span class="sxs-lookup"><span data-stu-id="ea47a-182">Order line placeholders (sales line level)</span></span>

<span data-ttu-id="ea47a-183">Seuraavilla paikkamerkeillä noudetaan ja näytetään myyntitilauksen yksittäisten tuotteiden (rivien) tiedot.</span><span class="sxs-lookup"><span data-stu-id="ea47a-183">The following placeholders retrieve and show data for individual products (lines) in the sales order.</span></span>

| <span data-ttu-id="ea47a-184">Paikkamerkin nimi</span><span class="sxs-lookup"><span data-stu-id="ea47a-184">Placeholder name</span></span>               | <span data-ttu-id="ea47a-185">Paikkamerkin arvo</span><span class="sxs-lookup"><span data-stu-id="ea47a-185">Placeholder value</span></span> |
|--------------------------------|-------------------|
| <span data-ttu-id="ea47a-186">productid</span><span class="sxs-lookup"><span data-stu-id="ea47a-186">productid</span></span>                      | <span data-ttu-id="ea47a-187">Rivin tuotetunnus.</span><span class="sxs-lookup"><span data-stu-id="ea47a-187">The product ID for the line.</span></span> |
| <span data-ttu-id="ea47a-188">lineproductname</span><span class="sxs-lookup"><span data-stu-id="ea47a-188">lineproductname</span></span>                | <span data-ttu-id="ea47a-189">Tuotteen nimi.</span><span class="sxs-lookup"><span data-stu-id="ea47a-189">The name of the product.</span></span> |
| <span data-ttu-id="ea47a-190">lineproductdescription</span><span class="sxs-lookup"><span data-stu-id="ea47a-190">lineproductdescription</span></span>         | <span data-ttu-id="ea47a-191">Tuotteen kuvaus.</span><span class="sxs-lookup"><span data-stu-id="ea47a-191">The description of the product.</span></span> |
| <span data-ttu-id="ea47a-192">linequantity</span><span class="sxs-lookup"><span data-stu-id="ea47a-192">linequantity</span></span>                   | <span data-ttu-id="ea47a-193">Riville tilattujen yksikköjen määrä sekä mittayksikkö (kuten **kpl** tai **pari**).</span><span class="sxs-lookup"><span data-stu-id="ea47a-193">The number of units that were ordered for the line, plus the unit of measure (for example, **ea**, or **pair**).</span></span> |
| <span data-ttu-id="ea47a-194">lineunit</span><span class="sxs-lookup"><span data-stu-id="ea47a-194">lineunit</span></span>                       | <span data-ttu-id="ea47a-195">Rivin mittayksikkö.</span><span class="sxs-lookup"><span data-stu-id="ea47a-195">The unit of measure for the line.</span></span> |
| <span data-ttu-id="ea47a-196">linequantity_withoutunit</span><span class="sxs-lookup"><span data-stu-id="ea47a-196">linequantity_withoutunit</span></span>       | <span data-ttu-id="ea47a-197">Riville tilattujen yksikköjen määrä ilman mittayksikköä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-197">The number of units that were ordered for the line, without the unit of measure.</span></span> |
| <span data-ttu-id="ea47a-198">linequantitypicked</span><span class="sxs-lookup"><span data-stu-id="ea47a-198">linequantitypicked</span></span>             | <span data-ttu-id="ea47a-199">**PickOrder**-tapahtumaa käytettäessä kerättyjen yksiköiden määrä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-199">When the **PickOrder** event is used, the number of units that were picked.</span></span> <span data-ttu-id="ea47a-200">Muussa tapauksessa **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ea47a-200">Otherwise, **0** (zero).</span></span> |
| <span data-ttu-id="ea47a-201">linequantitypicked_withoutunit</span><span class="sxs-lookup"><span data-stu-id="ea47a-201">linequantitypicked_withoutunit</span></span> | <span data-ttu-id="ea47a-202">**PickOrder**-tapahtumaa käytettäessä kerättyjen yksiköiden määrä ilman mittayksikköä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-202">When the **PickOrder** event is used, the number of units that were picked, without the unit of measure.</span></span> <span data-ttu-id="ea47a-203">Muussa tapauksessa **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ea47a-203">Otherwise, **0** (zero).</span></span> |
| <span data-ttu-id="ea47a-204">linequantitypacked</span><span class="sxs-lookup"><span data-stu-id="ea47a-204">linequantitypacked</span></span>             | <span data-ttu-id="ea47a-205">**PackOrder**- ja **Tilaus valmis noudettavaksi** -tapahtumia käytettäessä pakattujen yksiköiden määrä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-205">When the **PackOrder** and **Order ready for pickup** events are used, the number of units that were packed.</span></span> <span data-ttu-id="ea47a-206">Muussa tapauksessa **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ea47a-206">Otherwise, **0** (zero).</span></span> |
| <span data-ttu-id="ea47a-207">linequantitypacked_withoutuom</span><span class="sxs-lookup"><span data-stu-id="ea47a-207">linequantitypacked_withoutuom</span></span>  | <span data-ttu-id="ea47a-208">**PackOrder**- ja **Tilaus valmis noudettavaksi** -tapahtumia käytettäessä pakattujen yksiköiden määrä ilman mittayksikköä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-208">When the **PackOrder** and **Order ready for pickup** events are used, the number of units that were packed, without the unit of measure.</span></span> <span data-ttu-id="ea47a-209">Muussa tapauksessa **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ea47a-209">Otherwise, **0** (zero).</span></span> |
| <span data-ttu-id="ea47a-210">linequantityshipped</span><span class="sxs-lookup"><span data-stu-id="ea47a-210">linequantityshipped</span></span>            | <span data-ttu-id="ea47a-211">Aina **0** lukuun ottamatta seuraavalla rivillä kuvattavia erikoistapahtumia käytettäessä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-211">Always **0**, except when specific events are used, as described in the next row.</span></span> |
| <span data-ttu-id="ea47a-212">linequantityshipped_withoutuom</span><span class="sxs-lookup"><span data-stu-id="ea47a-212">linequantityshipped_withoutuom</span></span> | <span data-ttu-id="ea47a-213">**ShipOrder**-tapahtumaa käytettäessä kerättyjen yksiköiden määrä ilman mittayksikköä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-213">When the **ShipOrder** event is used, the number of units that were picked, without the unit of measure.</span></span> <span data-ttu-id="ea47a-214">Muussa tapauksessa **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ea47a-214">Otherwise, **0** (zero).</span></span> |
| <span data-ttu-id="ea47a-215">lineprice</span><span class="sxs-lookup"><span data-stu-id="ea47a-215">lineprice</span></span>                      | <span data-ttu-id="ea47a-216">Yhden yksikön hinta.</span><span class="sxs-lookup"><span data-stu-id="ea47a-216">The price of a single unit.</span></span> |
| <span data-ttu-id="ea47a-217">linenetamount</span><span class="sxs-lookup"><span data-stu-id="ea47a-217">linenetamount</span></span>                  | <span data-ttu-id="ea47a-218">Rivin hinta sen jälkeen, kun yksikkömäärä ja alennus on käytetty.</span><span class="sxs-lookup"><span data-stu-id="ea47a-218">The price of the line after the number of units and discount are applied.</span></span> |
| <span data-ttu-id="ea47a-219">linediscount</span><span class="sxs-lookup"><span data-stu-id="ea47a-219">linediscount</span></span>                   | <span data-ttu-id="ea47a-220">Yksittäisen yksikön alennus.</span><span class="sxs-lookup"><span data-stu-id="ea47a-220">The discount for an individual unit.</span></span> |
| <span data-ttu-id="ea47a-221">lineshipdate</span><span class="sxs-lookup"><span data-stu-id="ea47a-221">lineshipdate</span></span>                   | <span data-ttu-id="ea47a-222">Rivin lähetyspäivä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-222">The ship date for the line.</span></span> |
| <span data-ttu-id="ea47a-223">linedeliverydate</span><span class="sxs-lookup"><span data-stu-id="ea47a-223">linedeliverydate</span></span>               | <span data-ttu-id="ea47a-224">Rivin toimituspäivä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-224">The delivery date for the line.</span></span> |
| <span data-ttu-id="ea47a-225">linedeliverymode</span><span class="sxs-lookup"><span data-stu-id="ea47a-225">linedeliverymode</span></span>               | <span data-ttu-id="ea47a-226">Rivin toimitustapa.</span><span class="sxs-lookup"><span data-stu-id="ea47a-226">The delivery mode for the line.</span></span> |
| <span data-ttu-id="ea47a-227">linedeliveryaddress</span><span class="sxs-lookup"><span data-stu-id="ea47a-227">linedeliveryaddress</span></span>            | <span data-ttu-id="ea47a-228">Rivin toimitusosoite.</span><span class="sxs-lookup"><span data-stu-id="ea47a-228">The delivery address for the line.</span></span> |
| <span data-ttu-id="ea47a-229">giftcardnumber</span><span class="sxs-lookup"><span data-stu-id="ea47a-229">giftcardnumber</span></span>                 | <span data-ttu-id="ea47a-230">Lahjakortin numero, kun kyseessä on lahjakorttityypin tuotteet.</span><span class="sxs-lookup"><span data-stu-id="ea47a-230">The gift card number, for products of the gift card type.</span></span> |
| <span data-ttu-id="ea47a-231">giftcardbalance</span><span class="sxs-lookup"><span data-stu-id="ea47a-231">giftcardbalance</span></span>                | <span data-ttu-id="ea47a-232">Lahjakortin saldo, kun kyseessä on lahjakorttityypin tuotteet.</span><span class="sxs-lookup"><span data-stu-id="ea47a-232">The gift card balance, for products of the gift card type.</span></span> |
| <span data-ttu-id="ea47a-233">giftcardmessage</span><span class="sxs-lookup"><span data-stu-id="ea47a-233">giftcardmessage</span></span>                | <span data-ttu-id="ea47a-234">Lahjakortin viesti, kun kyseessä on lahjakorttityypin tuotteet.</span><span class="sxs-lookup"><span data-stu-id="ea47a-234">The gift card message, for products of the gift card type.</span></span> |
| <span data-ttu-id="ea47a-235">giftcardpin</span><span class="sxs-lookup"><span data-stu-id="ea47a-235">giftcardpin</span></span>                    | <span data-ttu-id="ea47a-236">Lahjakortin henkilökohtainen tunnusluku (PIN), kun kyseessä on lahjakorttityypin tuotteet.</span><span class="sxs-lookup"><span data-stu-id="ea47a-236">The personal identification number (PIN) of the gift card, for products of the gift card type.</span></span> <span data-ttu-id="ea47a-237">(Tämä paikkamerkki koskee vain ulkoisia lahjakortteja.)</span><span class="sxs-lookup"><span data-stu-id="ea47a-237">(This placeholder is specific to external gift cards.)</span></span> |
| <span data-ttu-id="ea47a-238">giftcardexpiration</span><span class="sxs-lookup"><span data-stu-id="ea47a-238">giftcardexpiration</span></span>             | <span data-ttu-id="ea47a-239">Lahjakortin vanhentumispäivä, kun kyseessä on lahjakorttityypin tuotteet.</span><span class="sxs-lookup"><span data-stu-id="ea47a-239">The expiration date of the gift card, for products of the gift card type.</span></span> <span data-ttu-id="ea47a-240">(Tämä paikkamerkki koskee vain ulkoisia lahjakortteja.)</span><span class="sxs-lookup"><span data-stu-id="ea47a-240">(This placeholder is specific to external gift cards.)</span></span> |
| <span data-ttu-id="ea47a-241">giftcardrecipientname</span><span class="sxs-lookup"><span data-stu-id="ea47a-241">giftcardrecipientname</span></span>          | <span data-ttu-id="ea47a-242">Lahjakortin vastaanottajan nimi, kun kyseessä on lahjakorttityypin tuotteet.</span><span class="sxs-lookup"><span data-stu-id="ea47a-242">The name of the gift card recipient, for products of the gift card type.</span></span> |
| <span data-ttu-id="ea47a-243">giftcardbuyername</span><span class="sxs-lookup"><span data-stu-id="ea47a-243">giftcardbuyername</span></span>              | <span data-ttu-id="ea47a-244">Lahjakortin ostajan nimi, kun kyseessä on lahjakorttityypin tuotteet.</span><span class="sxs-lookup"><span data-stu-id="ea47a-244">The name of the gift card buyer, for products of the gift card type.</span></span> |

### <a name="format-of-order-line-placeholders-in-the-email-message-body"></a><span data-ttu-id="ea47a-245">Tilausrivin paikkamerkkien muoto sähköpostiviestin tekstissä</span><span class="sxs-lookup"><span data-stu-id="ea47a-245">Format of order line placeholders in the email message body</span></span>

<span data-ttu-id="ea47a-246">Kun yksittäiselle tilausriville luodaan HTML-koodi sähköpostiviestin tekstissä, aseta rivien toistuville HTML- ja paikkamerkkilohkojen ympärille seuraavat HTML-kommenttitunnisteiden paikkamerkit.</span><span class="sxs-lookup"><span data-stu-id="ea47a-246">When you create the HTML for the individual order lines in the email message body, surround the repeating block of HTML and placeholders for the lines with the following placeholders that are put inside HTML comment tags.</span></span>

```html
<!--%tablebegin.salesline%-->

(Insert the repeating block of HTML and placeholders for individual lines here.)

<!--%tableend.salesline%-->
```

<span data-ttu-id="ea47a-247">Esimerkki:</span><span class="sxs-lookup"><span data-stu-id="ea47a-247">Here is an example.</span></span>

```HTML
<table>
    <tr>
        <td>Product name</td>
        <td>Quantity</td>
        <td>Price</td>
    </tr>
    <!--%tablebegin.salesline%-->
    <tr>
        <td>%lineproductname%</td>
        <td>%linequantity_withoutunit%</td>
        <td>%lineprice%</td>
    </tr>
    <!--%tableend.salesline%-->
</table>
```

## <a name="create-a-template-for-emailed-receipts"></a><span data-ttu-id="ea47a-248">Sähköpostitse lähetettävien kuittien mallin luominen</span><span class="sxs-lookup"><span data-stu-id="ea47a-248">Create a template for emailed receipts</span></span>

<span data-ttu-id="ea47a-249">Kuitit voidaan lähettää sähköpostitse asiakkaille, jotka tekevät ostoksia vähittäismyymälässä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-249">Receipts can be emailed to customers who make purchases at a retail point of sale (POS).</span></span> <span data-ttu-id="ea47a-250">Yleisesti ottaen sähköpostitse lähetettävän kuittimallin luontivaiheet ovat samat kuin muiden tapahtumasidonnaisten tapahtumien mallien luonnissa.</span><span class="sxs-lookup"><span data-stu-id="ea47a-250">In general, the steps for creating the emailed receipt template are the same as the steps for creating templates for other transactional events.</span></span> <span data-ttu-id="ea47a-251">Seuraavat muutokset on kuitenkin tehtävä:</span><span class="sxs-lookup"><span data-stu-id="ea47a-251">However, the following changes are required:</span></span>

- <span data-ttu-id="ea47a-252">Kuitin teksti lisätään sähköpostiin **%message%**-paikkamerkin avulla.</span><span class="sxs-lookup"><span data-stu-id="ea47a-252">The text of the receipt is inserted into the email by using the **%message%** placeholder.</span></span> <span data-ttu-id="ea47a-253">Kuitin tekstin oikea hahmonnus varmistetaan asettamalla **%message%**-paikkamerkin ympärille HTML-tunnisteet **&lt;pre&gt;** ja **&lt;/pre&gt;**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-253">To ensure that the receipt body is correctly rendered, surround the **%message%** placeholder with HTML **&lt;pre&gt;** and **&lt;/pre&gt;** tags.</span></span>
- <span data-ttu-id="ea47a-254">**%receiptid%**-paikkamerkkiä voidaan käyttää näyttämään kuitin tunnusta vastaavan QR-koodin tai viivakoodin.</span><span class="sxs-lookup"><span data-stu-id="ea47a-254">The **%receiptid%** placeholder can be used to show a QR code or bar code that represents the receipt ID.</span></span> <span data-ttu-id="ea47a-255">(QR-koodit ja viivakoodit luodaan dynaamisesti, ja niitä voi tuottaa kolmannen osapuolen palvelu.) Lisätietoja siitä, miten sähköpostilla postitetussa kuitissa näytetään QR-koodi tai viivakoodi, on kohdassa [QR-koodin tai viivakoodin lisääminen tapahtuma- tai kuittisähköposteihin](add-qr-code-barcode-email.md).</span><span class="sxs-lookup"><span data-stu-id="ea47a-255">(QR codes and bar codes are dynamically generated and served by a third-party service.) For more information about how to show a QR code or bar code in an emailed receipt, see [Add a QR code or bar code to transactional and receipt emails](add-qr-code-barcode-email.md).</span></span>

## <a name="upload-the-email-html"></a><span data-ttu-id="ea47a-256">Sähköpostin HTML-koodin lataaminen</span><span class="sxs-lookup"><span data-stu-id="ea47a-256">Upload the email HTML</span></span>

<span data-ttu-id="ea47a-257">Kun viestin tekstin HTML-koodi on luotu ja testattu, se on ladattava Commercen pääkonttoriosaan.</span><span class="sxs-lookup"><span data-stu-id="ea47a-257">After you've created and tested the HTML for your message body, it must be uploaded to Commerce headquarters.</span></span> <span data-ttu-id="ea47a-258">Tällä hetkellä sähköpostin HTML-koodi ei voi viedä.</span><span class="sxs-lookup"><span data-stu-id="ea47a-258">Currently, email HTML can't be exported.</span></span> <span data-ttu-id="ea47a-259">Tämän vuoksi HTML-koodin pääkopiota on ylläpidettävä Commercen pääkonttoriosan ulkopuolella.</span><span class="sxs-lookup"><span data-stu-id="ea47a-259">Therefore, you must maintain the master copy of your HTML outside Commerce headquarters.</span></span>

<span data-ttu-id="ea47a-260">Lataa uusi tai muokattu sähköpostimallin HTML-koodi seuraavasti:</span><span class="sxs-lookup"><span data-stu-id="ea47a-260">To upload a new or edited email template HTML, follow these steps.</span></span>

1. <span data-ttu-id="ea47a-261">Valitse Commercen pääkonttoriosassa **Vähittäismyynti ja kauppa \> Pääkonttorin asetukset \> Organisaation sähköpostimallit**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-261">In Commerce headquarters, go to **Retail and Commerce \> Headquarters setup \> Organization email templates**.</span></span>
1. <span data-ttu-id="ea47a-262">Valitse sen kielen rivi, jonka HTML-koodin haluat lisätä tai korvata.</span><span class="sxs-lookup"><span data-stu-id="ea47a-262">Select the row for the language that you want to add or replace HTML for.</span></span> <span data-ttu-id="ea47a-263">Vaihtoehtoisesti voit luoda rivin uudelleen kielelle valitsemalla **Uusi**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-263">Alternatively, select **New** to create a row for a new language.</span></span>
1. <span data-ttu-id="ea47a-264">Valitse **Muokkaa**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-264">Select **Edit**.</span></span>
1. <span data-ttu-id="ea47a-265">Valitse avautuvassa valintaikkunassa **Selaa**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-265">In the dialog box that appears, select **Browse**.</span></span> <span data-ttu-id="ea47a-266">Siirry ladattavaan HTML-tiedostoon, valitse se ja valitse sitten **Avaa**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-266">Browse to the HTML document that you want to upload, select it, and then select **Open**.</span></span>
1. <span data-ttu-id="ea47a-267">Valitse **Lataa palvelimeen**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-267">Select **Upload**.</span></span>
1. <span data-ttu-id="ea47a-268">Kun sähköpostin HTML näkyy esikatseluikkunassa, valitse **OK**.</span><span class="sxs-lookup"><span data-stu-id="ea47a-268">After your email HTML appears in the preview window, select **OK**.</span></span>
1. <span data-ttu-id="ea47a-269">Varmista, että rivin **Leipäteksti on** -valintaruutu on valittu.</span><span class="sxs-lookup"><span data-stu-id="ea47a-269">Make sure that the **Has body** check box is selected for the row.</span></span>

<span data-ttu-id="ea47a-270">Jos Commercen pääkonttoriosa on jo määritetty lähettämään sähköpostia, uusi tai päivitetty sähköposti lähetetään kaikille asiakkaille, jotka suorittavat malliin yhdistetyn tapahtuman käynnistävän tapahtuman.</span><span class="sxs-lookup"><span data-stu-id="ea47a-270">If you've already configured Commerce headquarters to send email, your new or updated email will be sent to all customers who perform a transaction that invokes the event that is mapped to the template.</span></span>

<span data-ttu-id="ea47a-271">Lisätietoja sähköpostien määrittämisestä Dynamics 365 Commercessa on kohdassa [Sähköpostiviestin määrittäminen ja lähettäminen](../fin-ops-core/fin-ops/organization-administration/configure-email.md).</span><span class="sxs-lookup"><span data-stu-id="ea47a-271">For more information about how to configure emails in Dynamics 365 Commerce, see [Configure and send email](../fin-ops-core/fin-ops/organization-administration/configure-email.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="ea47a-272">Lisäresurssit</span><span class="sxs-lookup"><span data-stu-id="ea47a-272">Additional resources</span></span> 

[<span data-ttu-id="ea47a-273">Sähköposti-ilmoitusprofiilin määrittäminen</span><span class="sxs-lookup"><span data-stu-id="ea47a-273">Set up an email notification profile</span></span>](email-notification-profiles.md)

[<span data-ttu-id="ea47a-274">Sähköpostiviestin määrittäminen ja lähettäminen</span><span class="sxs-lookup"><span data-stu-id="ea47a-274">Configure and send email</span></span>](../fin-ops-core/fin-ops/organization-administration/configure-email.md)

[<span data-ttu-id="ea47a-275">Aseta sähköpostikuitit</span><span class="sxs-lookup"><span data-stu-id="ea47a-275">Set up email receipts</span></span>](https://docs.microsoft.com/dynamicsax-2012/appuser-itpro/set-up-email-receipts)

[<span data-ttu-id="ea47a-276">Sähköpostikuittien lähettäminen Modern POS:stä </span><span class="sxs-lookup"><span data-stu-id="ea47a-276">Send email receipts from Modern POS </span></span>](email-receipts.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
