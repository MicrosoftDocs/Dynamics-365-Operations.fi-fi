---
title: Toimialueet Dynamics 365 Commercessa
description: Tässä aiheessa kerrotaan, miten toimialueita käsitellään Microsoft Dynamics 365 Commercessa.
author: BrShoo
ms.date: 03/17/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: BrShoo
ms.search.validFrom: ''
ms.dyn365.ops.version: Release 10.0.12
ms.openlocfilehash: 8d4381c64b69f8b62dcb509407c4f04dcee696ae
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 03/31/2021
ms.locfileid: "5792796"
---
# <a name="domains-in-dynamics-365-commerce"></a><span data-ttu-id="e5b49-103">Toimialueet Dynamics 365 Commercessa</span><span class="sxs-lookup"><span data-stu-id="e5b49-103">Domains in Dynamics 365 Commerce</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="e5b49-104">Tässä aiheessa kerrotaan, miten toimialueita käsitellään Microsoft Dynamics 365 Commercessa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-104">This topic describes how domains are handled in Microsoft Dynamics 365 Commerce.</span></span>

<span data-ttu-id="e5b49-105">Toimialueet ovat verkko-osoitteita, joiden avulla siirrytään Dynamics 365 Commerce -sivustoissa selaimen avulla.</span><span class="sxs-lookup"><span data-stu-id="e5b49-105">Domains are web addresses used to navigate to Dynamics 365 Commerce sites in a web browser.</span></span> <span data-ttu-id="e5b49-106">Voit ohjata toimialueen hallintaa valitun toimialuenimipalvelimen (DNS) tarjoajan avulla.</span><span class="sxs-lookup"><span data-stu-id="e5b49-106">You control management of your domain with a chosen Domain Name Server (DNS) provider.</span></span> <span data-ttu-id="e5b49-107">Toimialueisiin viitataan Dynamics 365 Commerce -sivuston luontiohjelmassa. Niiden avulla määritetään, miten sivustoa käytetään julkaisun jälkeen.</span><span class="sxs-lookup"><span data-stu-id="e5b49-107">Domains are referenced throughout Dynamics 365 Commerce site builder to coordinate how a site will be accessed when published.</span></span> <span data-ttu-id="e5b49-108">Tässä aiheessa on tietoja toimialueiden käsittelemisestä ja niihin viittaamisesta Commerce-sivuston kehityksen ja käynnistyksen elinkaaren aikana.</span><span class="sxs-lookup"><span data-stu-id="e5b49-108">This topic reviews how domains are handled and referenced throughout the lifecycle of the Commerce site development and launch.</span></span>

## <a name="provisioning-and-supported-host-names"></a><span data-ttu-id="e5b49-109">Valmistelu ja tuetut isäntänimet</span><span class="sxs-lookup"><span data-stu-id="e5b49-109">Provisioning and supported host names</span></span>

<span data-ttu-id="e5b49-110">Kun sähköisen kaupankäynnin ympäristöä valmistellaan [Microsoft Dynamics Lifecycle Services (LCS)](https://lcs.dynamics.com/) -sovelluksessa, sähköisen kaupankäynnin valmistelunäytön **Tuetut isäntänimet** -ruutua käytetään Commerce-ympäristön toimialueiden syöttämiseen.</span><span class="sxs-lookup"><span data-stu-id="e5b49-110">When provisioning an e-commerce environment in [Microsoft Dynamics Lifecycle Services (LCS)](https://lcs.dynamics.com/), the **Supported host names** box on the e-commerce provisioning screen is used to enter domains that will be associated with the deployed Commerce environment.</span></span> <span data-ttu-id="e5b49-111">Nämä toimialueet ovat asiakkaille tarkoitettuja DNS-nimiä, joissa sähköisen kaupankäynnin verkkosivustoja isännöidään.</span><span class="sxs-lookup"><span data-stu-id="e5b49-111">These domains will be the customer-facing Domain Name Server (DNS) names where e-commerce websites will be hosted.</span></span> <span data-ttu-id="e5b49-112">Toimialueelle siirtyminen ei tässä vaiheessa aloita liikenteen ohjaamista Dynamics 365 Commercen toimialueelle.</span><span class="sxs-lookup"><span data-stu-id="e5b49-112">Entering a domain at this stage does not start diverting traffic for the domain to Dynamics 365 Commerce.</span></span> <span data-ttu-id="e5b49-113">Toimialueen liikenne reititetään vain Commercen päätepisteeseen, kun DNS CNAME -tietue päivitetään käyttämään Commercen päätepistettä ja toimialuetta.</span><span class="sxs-lookup"><span data-stu-id="e5b49-113">Traffic for a domain will only be routed to the Commerce endpoint when the DNS CNAME record is updated to use the Commerce endpoint with the domain.</span></span>

> [!NOTE]
> <span data-ttu-id="e5b49-114">**Tuetut isäntänimet** -ruutuun voidaan syöttää useita toimialueita erottamalla ne puolipisteillä.</span><span class="sxs-lookup"><span data-stu-id="e5b49-114">Multiple domains can be entered into the **Supported host names** box by separating them with semi-colons.</span></span>

<span data-ttu-id="e5b49-115">Seuraavassa kuvassa on LCS:n sähköisen kaupankäynnin valmistelunäyttö, jossa on **Tuetut isäntänimet** -ruutu korostettuna.</span><span class="sxs-lookup"><span data-stu-id="e5b49-115">The following illustration shows the LCS e-commerce provisioning screen with the **Supported host names** box highlighted.</span></span> 

![LCS:n sähköisen kaupankäynnin valmistelunäyttö ja **Tuetut isäntänimet** -ruutu korostettuna](./media/Domains_ProvisioningeCommerceScreen_publish.png)

<span data-ttu-id="e5b49-117">Voit luoda palvelupyynnön lisätoimialueiden lisäämiseksi ympäristöön, jos valmistelu on jo tapahtunut.</span><span class="sxs-lookup"><span data-stu-id="e5b49-117">You can create a service request to add additional domains to an environment if provisioning has already occurred.</span></span> <span data-ttu-id="e5b49-118">Jos haluat luoda palvelupyynnön LCS:ssä, siirry ympäristössäsi kohtaan **Tuki \> Tukea vaativat ongelmat** ja valitse **Lähetä tapaus**.</span><span class="sxs-lookup"><span data-stu-id="e5b49-118">To create a service request in LCS, within your environment go to **Support \> Support issues** and select **Submit an incident**.</span></span>

## <a name="commerce-generated-urls"></a><span data-ttu-id="e5b49-119">Commercen luomat URL-osoitteet</span><span class="sxs-lookup"><span data-stu-id="e5b49-119">Commerce-generated URLs</span></span>

<span data-ttu-id="e5b49-120">Sähköisen kaupankäynnin Dynamics 365 Commerce -ympäristön valmistelun yhteydessä Commerce luo URL-osoitteen, joka on ympäristön työosoite.</span><span class="sxs-lookup"><span data-stu-id="e5b49-120">When provisioning a Dynamics 365 Commerce e-commerce environment, Commerce will generate a URL that will be the working address for the environment.</span></span> <span data-ttu-id="e5b49-121">Tähän URL-osoitteeseen viitataan sähköisen kaupankäynnin sivuston linkissä, joka näkyy LCS:ssä ympäristön valmistelun jälkeen.</span><span class="sxs-lookup"><span data-stu-id="e5b49-121">This URL is referenced in the e-commerce site link shown in LCS after the environment is provisioned.</span></span> <span data-ttu-id="e5b49-122">Commercen luoman URL-osoitteen muoto on `https://<e-commerce tenant name>.commerce.dynamics.com`, jossa sähköisen kaupankäynnin vuokraajan nimi on Commercen ympäristöön LCS:lle syötetty nimi.</span><span class="sxs-lookup"><span data-stu-id="e5b49-122">A Commerce-generated URL is in the format `https://<e-commerce tenant name>.commerce.dynamics.com`, where the e-commerce tenant name is the name entered in LCS for the Commerce environment.</span></span>

<span data-ttu-id="e5b49-123">Voit käyttää tuotantosivuston isäntänimiä myös eristysympäristössä.</span><span class="sxs-lookup"><span data-stu-id="e5b49-123">You can use production site host names in a sandbox environment as well.</span></span> <span data-ttu-id="e5b49-124">Tämä vaihtoehto on ihanteellinen, kun kopioit sivuston eristysympäristöstä tuotantoon.</span><span class="sxs-lookup"><span data-stu-id="e5b49-124">This option is ideal when you will be copying a site from a sandbox environment to production.</span></span>

## <a name="site-setup"></a><span data-ttu-id="e5b49-125">Sivuston asetukset</span><span class="sxs-lookup"><span data-stu-id="e5b49-125">Site setup</span></span>

<span data-ttu-id="e5b49-126">Kun sähköisen kaupankäynnin ympäristö valmistellaan, sivusto on määritettävä Comerce-sivuston luontiohjelmassa ja liitettävä sivusto toimivaan URL-osoitteeseen.</span><span class="sxs-lookup"><span data-stu-id="e5b49-126">After your e-commerce environment is provisioned, you must set up your site in Commerce site builder to associate your site to the working URL.</span></span>

<span data-ttu-id="e5b49-127">Kun määrität sivuston ensimmäisen kerran sivuston luontiohjelmassa, **Määritä sivusto** -valintaikkuna tulee näkyviin.</span><span class="sxs-lookup"><span data-stu-id="e5b49-127">When you first set up a site in site builder, the **Setup your Site** dialog box will appear.</span></span>

<span data-ttu-id="e5b49-128">Seuraavassa kuvassa näkyy Oletus-nimisen sivuston **Määritä sivusto** -valintaruutu, kun käytät sivustoa ensimmäisen kerran sivuston luontiohjelmassa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-128">The following illustration shows the **Setup your Site** dialog box for a site named "default" when you access the site for the first time in site builder.</span></span>

![**Määritä sivusto** -valintaruutu](./media/Domains_SetupyoursiteScreen.png)

<span data-ttu-id="e5b49-130">**Valitse toimialue** -ruudussa voit liittää yhden sivustolle LCS:ssä annetuista tuetuista isäntänimistä sivuston luontiohjelmassa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-130">The **Select a domain** box allows you to associate one of the supported host names provided for your site in LCS to your site in site builder.</span></span>

<span data-ttu-id="e5b49-131">**Polku**-ruutu voidaan jättää tyhjäksi tai lisäpolun merkkijono voidaan lisätä. Se vaikuttaa käytössä olevaan URL-osoitteeseen.</span><span class="sxs-lookup"><span data-stu-id="e5b49-131">The **Path** box can be left blank, or an additional path string can be added that will be reflected in your working URL.</span></span> <span data-ttu-id="e5b49-132">Jos **Polku**-ruutu jätetään tyhjäksi, Commercen luoma perus-URL-osoite liitetään sivuston luontiohjelmassa määritettävään sivustoon.</span><span class="sxs-lookup"><span data-stu-id="e5b49-132">Leaving the **Path** box blank associates the base Commerce-generated URL with the site being set up in site builder.</span></span> <span data-ttu-id="e5b49-133">Polkujen on oltava yksilöllisiä kullekin sivusto-/toimialueparille.</span><span class="sxs-lookup"><span data-stu-id="e5b49-133">Paths must be unique for each site/domain pair.</span></span> <span data-ttu-id="e5b49-134">Valitun sivuston ja toimialueen ympäristön sivustoista vain yksi voi käyttää tyhjää polkua ja vain yksi voidaan liittää yksilöllisen polun merkkijonoon.</span><span class="sxs-lookup"><span data-stu-id="e5b49-134">Within the site and domain selected, only one site in the environment can use the blank path or be associated with a unique path string.</span></span> <span data-ttu-id="e5b49-135">Mistä tahansa sivuston määrityksen yhteydessä **Polku**-kenttään lisätystä merkkijonosta tulee Commercen luoman perus-URL-osoitteen alipolku. Sen avulla sivustoa käytetään selaimella.</span><span class="sxs-lookup"><span data-stu-id="e5b49-135">Any string added to the **Path** field during site setup will become a subpath of the base Commerce-generated URL used to access the site in a web browser.</span></span>

> [!NOTE]
> <span data-ttu-id="e5b49-136">Polku tunnetaan myös nimellä **match path**, kun kanava lisätään sivuston luontiohjelman **Sivuston asetukset \> Kanavat** -konfigutaation osassa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-136">The path is also known as the **Match path** when adding a channel in the **Site Settings \> Channels** configuration section of site builder.</span></span>

<span data-ttu-id="e5b49-137">Jos sähköisen kaupankäynnin vuokraajassa nimeltä xyz on esimerkiksi sivuston luontiohjelman sivusto nimeltä fabrikam ja määrität sivuston, jolla on tyhjä polku, voit käyttää julkaistua sivuston sisältöä verkkoselaimessa siirtymällä suoraan Commercen luomaan perus-URL-osoitteeseen seuraavasti:</span><span class="sxs-lookup"><span data-stu-id="e5b49-137">For example, if you have a site in site builder called "fabrikam" in an e-commerce tenant named "xyz," and if you set up the site with a blank path, then you would access the published site content in a web browser by going directly to the base Commerce-generated URL:</span></span>

`https://xyz.commerce.dynamics.com`

<span data-ttu-id="e5b49-138">Vaihtoehtoisesti voit käyttää julkaistua sivuston sisältöä selaimessa seuraavan URL-osoitteen avulla, jos olet lisännyt fabrikam-polun sivuston asetusten aikana:</span><span class="sxs-lookup"><span data-stu-id="e5b49-138">Alternately, if you had added a path of "fabrikam" during this same site's setup, you would access the published site content in a web browser using the following URL:</span></span>

`https://xyz.commerce.dynamics.com/fabrikam`

## <a name="pages-and-urls"></a><span data-ttu-id="e5b49-139">Sivut ja URL-osoitteet</span><span class="sxs-lookup"><span data-stu-id="e5b49-139">Pages and URLs</span></span>

<span data-ttu-id="e5b49-140">Kun sivustosi on määritetty poluksi, kaikki sivuston luontiohjelman sivuihin liittyvät URL-osoitteet perustuvat toimivaan URL-osoitteeseen (Commercen luoma URL-osoite tai Commercen luoma URL-osoite ja polku).</span><span class="sxs-lookup"><span data-stu-id="e5b49-140">After your site is set up with a path, all URLs associated with pages in site builder will build on the working URL (the Commerce-generated URL, or the Commerce-generated URL plus the path) for the site.</span></span> <span data-ttu-id="e5b49-141">Uuden URL-osoitteen luominen sivuston luontiohjelmassa (**URL-osoitteet/ > +Uusi**) valitsemalla sivu **Uusi URL-osoite**-valintaruudun luettelossa ja syöttämällä URL-polku tälle sivulle liittää kyseisen URL-osoitteen valittuun sivuun.</span><span class="sxs-lookup"><span data-stu-id="e5b49-141">Creating a new URL in site builder (**URLS /> +New**) by selecting a page from the list in the **New URL** dialog box and entering the URL path for that page will associate that URL with the selected page.</span></span> <span data-ttu-id="e5b49-142">Tämän jälkeen URL-polun arvo lisätään sivuston toimivaan URL-osoitteeseen. Osoitteen avulla käytetään sivua. Osoitteen nimi on `./<URL path>` **URL-osoitteet**-sivun URL-osoitteiden luettelossa sivuston luontiohjelmassa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-142">The URL path value then appends to the site's working URL to access the page, and is labeled as `./<URL path>` in the URL list of the **URLs** page in site builder.</span></span>

<span data-ttu-id="e5b49-143">Seuraavassa kuvassa näkyy **Uusi URL-osoite**-valintaruutu sivuston luontiohjelmassa sekä URL-osoitteen esimerkkipolku korostettuna.</span><span class="sxs-lookup"><span data-stu-id="e5b49-143">The following illustration shows the **New URL** dialog box in site builder with an example URL path highlighted.</span></span> 

![**Uusi URL-osoite**-valintaruutu sivuston luontiohjelmassa](./media/Domains_PageSetup2a.png)

<span data-ttu-id="e5b49-145">Seuraavassa kuvassa näkyy **URL-osoitteet**-sivu sivuston luontiohjelmassa sekä URL-osoite korostettuna luettelossa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-145">The following illustration shows the **URLs** page in site builder with an example URL highlighted in the list.</span></span>

![Käyttäjän työnkulku -vaihtoehdon suorittaminen käytännön työnkulussa](./media/Domains_URLsInSiteBuilder2a.png)

## <a name="domains-in-site-builder"></a><span data-ttu-id="e5b49-147">Toimialueet sivuston luontiohjelmassa</span><span class="sxs-lookup"><span data-stu-id="e5b49-147">Domains in site builder</span></span>

<span data-ttu-id="e5b49-148">Tuetut isäntänimien arvot ovat käytettävissä. Ne voidaan liittää toimialueena, kun sivustoa määritetään.</span><span class="sxs-lookup"><span data-stu-id="e5b49-148">The supported host names values are available to be associated as a domain when setting up a site.</span></span> <span data-ttu-id="e5b49-149">Kun tuettua isäntänimen arvoa valitaan toimialueeksi, näkyvissä on valittu toimialue. Siihen viitataan sivuston luontiohjelmassa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-149">When selecting a supported host name value as the domain, you will see the chosen domain referenced throughout site builder.</span></span> <span data-ttu-id="e5b49-150">Tämä toimialue on vain viite Commerce-ympäristössä. Kyseisen toimialueen suoraa liikennettä ei vielä välitetä Dynamics 365 Commerceen.</span><span class="sxs-lookup"><span data-stu-id="e5b49-150">This domain is only a reference within the Commerce environment, live traffic for that domain will not yet be forwarded to Dynamics 365 Commerce.</span></span>

<span data-ttu-id="e5b49-151">Jos olet määrittänyt sivuston luontiohjelmassa kaksi sivustoa, joilla on eri toimialueet, voit liittää **?domain=**-määritteen käytettävään URL-osoitteeseen ja käyttää julkaistun sivuston sisältöä selaimessa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-151">When working with sites in site builder, if you have two sites set up with two different domains, you can append the **?domain=** attribute to your working URL to access the published site content in a browser.</span></span>

<span data-ttu-id="e5b49-152">Ajatellaan, että xyz-niminen ympäristö on valmisteltu ja sivuston luontiohjelmassa on luotu ja liitetty kaksi sivustoa. Toisen toimialue on `www.fabrikam.com` ja toisen `www.constoso.com`.</span><span class="sxs-lookup"><span data-stu-id="e5b49-152">For example, environment "xyz" has been provisioned, and two sites have been created and associated in site builder: one with the domain `www.fabrikam.com` and the other with the domain `www.constoso.com`.</span></span> <span data-ttu-id="e5b49-153">Kukin sivusto on määritetty käyttämällä tyhjää polkua.</span><span class="sxs-lookup"><span data-stu-id="e5b49-153">Each site was set up using a blank path.</span></span> <span data-ttu-id="e5b49-154">Näitä kahta sivustoa voidaan tämän jälkeen käyttää selaimessa **?domain=**-määritteen avulla seuraavasti:</span><span class="sxs-lookup"><span data-stu-id="e5b49-154">These two sites could then be accessed in a web browser as follows using the **?domain=** attribute:</span></span>
- `https://xyz.commerce.dynamics.com?domain=www.fabrikam.com`
- `https://xyz.commerce.dynamics.com?domain=www.contoso.com`

<span data-ttu-id="e5b49-155">Kun toimialueen kyselymerkkijonoa ei anneta ympäristössä, jossa on useita toimialueita, Commerce käyttää ensimmäistä toimialuetta.</span><span class="sxs-lookup"><span data-stu-id="e5b49-155">When a domain query string is not given in an environment with multiple domains provided, Commerce uses the first domain you provided.</span></span> <span data-ttu-id="e5b49-156">Jos esimerkiksi polku fabrikam annettiin ensin sivuston asetuksen aikana, URL-osoitetta `https://xyz.commerce.dynamics.com` voidaan käyttää julkaistun sivuston sisällön käyttämisessä URL-osoitteessa `www.fabrikam.com`.</span><span class="sxs-lookup"><span data-stu-id="e5b49-156">For example, if the path "fabrikam" was provided first during site setup, the URL `https://xyz.commerce.dynamics.com` could be used to access the published site content site for `www.fabrikam.com`.</span></span>

## <a name="traffic-forwarding-in-production"></a><span data-ttu-id="e5b49-157">Liikenteen välittäminen tuotannossa</span><span class="sxs-lookup"><span data-stu-id="e5b49-157">Traffic forwarding in production</span></span>

<span data-ttu-id="e5b49-158">Voit simuloida useita toimialueita käyttämällä toimialueen kyselymerkkijonon parametreja itse commerce.dynamics.com-päätepisteessä.</span><span class="sxs-lookup"><span data-stu-id="e5b49-158">You can simulate multiple domains using domain query string parameters on the commerce.dynamics.com endpoint itself.</span></span> <span data-ttu-id="e5b49-159">Kun haluat julkaista tuotannon, sinun on välitettävä liikenne muokattuun toimialueeseen `<e-commerce tenant name>.commerce.dynamics.com`-päätepisteessä.</span><span class="sxs-lookup"><span data-stu-id="e5b49-159">But when you need to go live in production, you must forward the traffic for your custom domain to the `<e-commerce tenant name>.commerce.dynamics.com` endpoint.</span></span>

<span data-ttu-id="e5b49-160">`<e-commerce tenant name>.commerce.dynamics.com`-päätepiste ei tue mukautetun toimialueen SSL (Secure Sockets Layer) -salausta. Määritä siis mukautetut toimialueet käyttämällä Front Door Service -palvelua tai sisällön toimitusverkostoa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-160">The `<e-commerce tenant name>.commerce.dynamics.com` endpoint does not support custom domain Secure Sockets Layers (SSLs), so you must set up custom domains using a front door service or content delivery network (CDN).</span></span> 

<span data-ttu-id="e5b49-161">Jos haluat määrittää mukautettuja toimialueita Front Door Service -palvelun tai sisällön toimitusverkoston (CDN) avulla, käytettävissä on seuraavat kaksi vaihtoehtoa:</span><span class="sxs-lookup"><span data-stu-id="e5b49-161">To set up custom domains using a front door service or CDN, you have two options:</span></span>

- <span data-ttu-id="e5b49-162">Määritä Front Door Service -palvelu, kuten Azure Front Door Service, joka käsittelee edustaliikennettä, ja muodosta yhteys Commerce-ympäristöön.</span><span class="sxs-lookup"><span data-stu-id="e5b49-162">Set up a front door service like Azure Front Door to handle front-end traffic and connect to your Commerce environment.</span></span> <span data-ttu-id="e5b49-163">Tämä parantaa toimialueiden ja varmenteiden hallintaa sekä enemmän yksityiskohtaisia suojauskäytäntöjä.</span><span class="sxs-lookup"><span data-stu-id="e5b49-163">This provides greater control over domain and certificate management and more granular security policies.</span></span>
- <span data-ttu-id="e5b49-164">Käytä Commercen mukana toimitettua Azure Front Door -esiintymää.</span><span class="sxs-lookup"><span data-stu-id="e5b49-164">Use the Commerce-supplied Azure Front Door instance.</span></span> <span data-ttu-id="e5b49-165">Tämä edellyttää Dynamics 365 Commercen ryhmän koordinointitoimintoja toimialueen todentamiseksi ja SSL-varmenteiden hankkimista tuotannon toimialueelle.</span><span class="sxs-lookup"><span data-stu-id="e5b49-165">This requires coordinating action with the Dynamics 365 Commerce team for domain verification and obtaining SSL certificates for your production domain.</span></span>

<span data-ttu-id="e5b49-166">Lisätietoja CDN-palvelun määrittämisestä suoraan on kohdassa [Sisällön toimitusverkoston (CDN) tuen lisääminen](add-cdn-support.md).</span><span class="sxs-lookup"><span data-stu-id="e5b49-166">For information about how to set up a CDN service directly, see [Add support for a content delivery network (CDN)](add-cdn-support.md).</span></span>

<span data-ttu-id="e5b49-167">Jos haluat käyttää Commercen mukana toimitettua Azure Front Door -esiintymää, sinun on luotava Commercen käyttöönottoryhmän CDN-määrityksen apua koskeva palvelupyyntö.</span><span class="sxs-lookup"><span data-stu-id="e5b49-167">To use the Commerce-supplied Azure Front Door instance, you must create a service request for CDN setup assistance from the Commerce onboarding team.</span></span> 

- <span data-ttu-id="e5b49-168">Anna yrityksen nimi, tuotannon toimialue, ympäristön tunnus ja tuotannon sähköisen kaupankäynnin vuokraajan nimi.</span><span class="sxs-lookup"><span data-stu-id="e5b49-168">You will need to provide your company name, the production domain, environment ID, and production e-commerce tenant name.</span></span> 
- <span data-ttu-id="e5b49-169">Vahvista, onko tämä olemassa oleva toimialue (käytetään parhaillaan aktiivisissa sivustoissa) vai uusi toimialue.</span><span class="sxs-lookup"><span data-stu-id="e5b49-169">You will need to confirm if this is an existing domain (used for a currently active site) or a new domain.</span></span> 
- <span data-ttu-id="e5b49-170">Jos kyseessä on uusi toimialue, toimialueen vahvistus ja SSL-varmenne voidaan saada yhdessä vaiheessa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-170">For a new domain, the domain verification and SSL certificate can be achieved in a single step.</span></span> 
- <span data-ttu-id="e5b49-171">Toimialueelle, joka palvelee olemassa olevaa sivustoa, tarvitaan monivaiheinen prosessi. Sen avulla voidaan määrittää toimialueen vahvistus ja SSL-varmenne.</span><span class="sxs-lookup"><span data-stu-id="e5b49-171">For a domain serving an existing website, there is a multistep process required to establish the domain verification and SSL certificate.</span></span> <span data-ttu-id="e5b49-172">Tämä prosessi sisältää 7 työpäivän palvelutasosopimuksen toimialueen julkaisemiselle. Tämä siksi, että peräkkäisiä vaiheita on useita.</span><span class="sxs-lookup"><span data-stu-id="e5b49-172">This process has a 7-working-day service level agreement (SLA) for a domain to go live, because it includes multiple sequential steps.</span></span>

<span data-ttu-id="e5b49-173">Jos haluat luoda palvelupyynnön LCS:ssä, siirry ympäristössäsi kohtaan **Tuki \> Tukea vaativat ongelmat** ja valitse **Lähetä tapaus**.</span><span class="sxs-lookup"><span data-stu-id="e5b49-173">To create a service request in LCS, within your environment go to **Support \> Support issues** and select **Submit an incident**.</span></span>

> [!NOTE]
> <span data-ttu-id="e5b49-174">Mukautettuja toimialueita, joissa on SSL, tuetaan vain tuotantoympäristöissä.</span><span class="sxs-lookup"><span data-stu-id="e5b49-174">Custom domains with SSL are only supported on production environments.</span></span> <span data-ttu-id="e5b49-175">Muissa kuin tuotantoympäristöissä, kuten eristysympäristössä ja käyttäjän hyväksyntätestauksessa voidaan Commercen luomaa URL-osoitetta julkisen sisällön käyttämisessä selaimessa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-175">For non-production environments such as sandbox and user acceptance testing (UAT), use the Commerce-generated URL to access published content in a web browser.</span></span>

## <a name="ssl-certificate-process"></a><span data-ttu-id="e5b49-176">SSL-varmenneprosessi</span><span class="sxs-lookup"><span data-stu-id="e5b49-176">SSL certificate process</span></span>

<span data-ttu-id="e5b49-177">Kun palvelupyyntö on lähetetty, Commercen ryhmä tekee kanssasi seuraavat vaiheet.</span><span class="sxs-lookup"><span data-stu-id="e5b49-177">When a service request is filed, the Commerce team will coordinate the following steps with you.</span></span>

<span data-ttu-id="e5b49-178">Uudet toimialueet:</span><span class="sxs-lookup"><span data-stu-id="e5b49-178">For new domains:</span></span>
- <span data-ttu-id="e5b49-179">Commercen ryhmä määrittää Azure Front Door -esiintymän (Commercen isännöimä).</span><span class="sxs-lookup"><span data-stu-id="e5b49-179">The Commerce team will set up the Azure Front Door instance (Commerce-hosted).</span></span>
- <span data-ttu-id="e5b49-180">Tämän jälkeen Commercen ryhmä antaa CNAME-tietueen, joka osoittaa mukautettuun toimialueeseen.</span><span class="sxs-lookup"><span data-stu-id="e5b49-180">The Commerce team will then provide the CNAME record to point your custom domain.</span></span>
- <span data-ttu-id="e5b49-181">Kun CNAME-tietue on päivitetty, Commercen isännöimä Azure Front Door -esiintymä voi vahvistaa toimialueen omistajan ja saada SSL-varmenteen.</span><span class="sxs-lookup"><span data-stu-id="e5b49-181">After the CNAME record is updated, the Commerce-hosted Azure Front Door instance will be able to verify the domain ownership and get the SSL certificate.</span></span>

<span data-ttu-id="e5b49-182">Olemassa olevat / aktiiviset toimialueet:</span><span class="sxs-lookup"><span data-stu-id="e5b49-182">For existing/active domains:</span></span>
- <span data-ttu-id="e5b49-183">Commercemn ryhmä ohjaa sinua lisäämään `afdverify.<custom-domain>` CNAME -tietueen. Sen avulla määritetään toimialueen DNS-tarjoaja.</span><span class="sxs-lookup"><span data-stu-id="e5b49-183">The Commerce team will instruct you to add an `afdverify.<custom-domain>` CNAME record to provide to your domain DNS provider.</span></span>
- <span data-ttu-id="e5b49-184">Kun olet valmis, Commercen ryhmä lisää toimialueen Azure Front Door -esiintymään ja määrittää lisää DNS TXT -tietueita. Ne lisätään toimialueen DNS:ään.</span><span class="sxs-lookup"><span data-stu-id="e5b49-184">When complete, the Commerce team will add the domain to the Azure Front Door instance and provide additional DNS TXT records to be added to the DNS for the domain.</span></span>
- <span data-ttu-id="e5b49-185">Kun TXT-tietueet ovat valmiit, Commercen ryhmä Azure Front Door -päivitykset toimialueelle, joka määrittää SSL-varmenteen.</span><span class="sxs-lookup"><span data-stu-id="e5b49-185">After the TXT records are completed, the Commerce team will complete the Azure Front Door updates for the domain that will set up the SSL certificate.</span></span>

## <a name="apex-domains"></a><span data-ttu-id="e5b49-186">Apex-toimialueet</span><span class="sxs-lookup"><span data-stu-id="e5b49-186">Apex domains</span></span>

<span data-ttu-id="e5b49-187">Commercen toimittama Azure Front Door -esiintymä ei tue apex-toimialueita (juuritoimialueita, jotka eivät sisällä aliverkkotunnuksia).</span><span class="sxs-lookup"><span data-stu-id="e5b49-187">The Commerce-supplied Azure Front Door instance does not support apex domains (root domains that do not contain subdomains).</span></span> <span data-ttu-id="e5b49-188">Apex-toimialueet vaativat IP-osoitteen selvittämisen, ja Commercen Azure Front Door -esiintymä on olemassa vain virtuaalisten päätepisteiden yhteydessä.</span><span class="sxs-lookup"><span data-stu-id="e5b49-188">Apex domains require an IP address to resolve, and the Commerce Azure Front Door instance exists with virtual endpoints only.</span></span> <span data-ttu-id="e5b49-189">Jos haluat käyttää apex-toimialuetta, sinulla on kaksi vaihtoehtoa:</span><span class="sxs-lookup"><span data-stu-id="e5b49-189">To use an apex domain, you have two options:</span></span>

- <span data-ttu-id="e5b49-190">**Vaihtoehto 1**: Käytä DNS-toimittajaa ja ohjaa apex-toimialue uudelleen www-toimialueelle.</span><span class="sxs-lookup"><span data-stu-id="e5b49-190">**Option 1** - Use your DNS provider to redirect the apex domain to a "www" domain.</span></span> <span data-ttu-id="e5b49-191">Esimerkiksi fabrikam.com ohjaa uudelleen osoitteeseen `www.fabrikam.com`, jossa `www.fabrikam.com` on CNAME-tietue, joka viittaa Commercen isännöimään Azure Front Door -esiintymään.</span><span class="sxs-lookup"><span data-stu-id="e5b49-191">For example, fabrikam.com redirects to `www.fabrikam.com` where `www.fabrikam.com` is the CNAME record that points to the Commerce-hosted Azure Front Door instance.</span></span>

- <span data-ttu-id="e5b49-192">**Vaihtoehto 2** - Määritä CDN / Front Door -esiintymään itse, jolloin voit isännöidä apex-toimialuetta.</span><span class="sxs-lookup"><span data-stu-id="e5b49-192">**Option 2** - Set up a CDN/front door instance on your own to host the apex domain.</span></span>

> [!NOTE]
> <span data-ttu-id="e5b49-193">Jos käytät Azure Front Door -palvelua, sinun on määritettävä myös Azure DNS -palvelu samassa tilauksessa.</span><span class="sxs-lookup"><span data-stu-id="e5b49-193">If you are using Azure Front Door, you must also set up an Azure DNS in the same subscription.</span></span> <span data-ttu-id="e5b49-194">Azure DNS:n isännöimä apex-toimialue voi osoittaa Azure Front Door -palveluun alias-tietueena.</span><span class="sxs-lookup"><span data-stu-id="e5b49-194">The apex domain hosted on Azure DNS can point to your Azure Front Door as an alias record.</span></span> <span data-ttu-id="e5b49-195">Tämä on ainoa ratkaisu, koska apex-toimialueiden on aina osoitettava IP-osoitteeseen.</span><span class="sxs-lookup"><span data-stu-id="e5b49-195">This is the only work around, as apex domains must always point to an IP address.</span></span>

  ## <a name="additional-resources"></a><span data-ttu-id="e5b49-196">Lisäresurssit</span><span class="sxs-lookup"><span data-stu-id="e5b49-196">Additional resources</span></span>

  [<span data-ttu-id="e5b49-197">Uuden sähköisen kaupankäynnin vuokraajan käyttöönotto</span><span class="sxs-lookup"><span data-stu-id="e5b49-197">Deploy a new e-commerce tenant</span></span>](deploy-ecommerce-site.md)

  [<span data-ttu-id="e5b49-198">Määritä verkkokauppakanava</span><span class="sxs-lookup"><span data-stu-id="e5b49-198">Set up an online store channel</span></span>](online-stores.md)

  [<span data-ttu-id="e5b49-199">Sähköisen kaupankäynnin sivuston luominen</span><span class="sxs-lookup"><span data-stu-id="e5b49-199">Create an e-commerce site</span></span>](create-ecommerce-site.md)

  [<span data-ttu-id="e5b49-200">Dynamics 365 Commerce -sivuston liittäminen online-kanavaan</span><span class="sxs-lookup"><span data-stu-id="e5b49-200">Associate a Dynamics 365 Commerce site with an online channel</span></span>](associate-site-online-store.md)

  [<span data-ttu-id="e5b49-201">Robots.txt-tiedostojen hallinta</span><span class="sxs-lookup"><span data-stu-id="e5b49-201">Manage robots.txt files</span></span>](manage-robots-txt-files.md)

  [<span data-ttu-id="e5b49-202">URL-uudelleenohjausten joukkolataus palveluun</span><span class="sxs-lookup"><span data-stu-id="e5b49-202">Upload URL redirects in bulk</span></span>](upload-bulk-redirects.md)

  [<span data-ttu-id="e5b49-203">B2C-vuokraajan määrittäminen Commercessa</span><span class="sxs-lookup"><span data-stu-id="e5b49-203">Set up a B2C tenant in Commerce</span></span>](set-up-B2C-tenant.md)

  [<span data-ttu-id="e5b49-204">Mukautettujen sivujen määrittäminen käyttäjän kirjautumisia varten</span><span class="sxs-lookup"><span data-stu-id="e5b49-204">Set up custom pages for user logins</span></span>](custom-pages-user-logins.md)

  [<span data-ttu-id="e5b49-205">Useiden B2C-vuokraajien määrittäminen Commerce-ympäristössä</span><span class="sxs-lookup"><span data-stu-id="e5b49-205">Configure multiple B2C tenants in a Commerce environment</span></span>](configure-multi-B2C-tenants.md)

  [<span data-ttu-id="e5b49-206">Sisältöverkon (CDN) tuen lisääminen</span><span class="sxs-lookup"><span data-stu-id="e5b49-206">Add support for a content delivery network (CDN)</span></span>](add-cdn-support.md)

  [<span data-ttu-id="e5b49-207">Sijaintiin perustuvan myymälän tunnistuksen käyttöönotto</span><span class="sxs-lookup"><span data-stu-id="e5b49-207">Enable location-based store detection</span></span>](enable-store-detection.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]