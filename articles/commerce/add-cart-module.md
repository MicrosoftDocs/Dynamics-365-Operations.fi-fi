---
title: Ostoskorimoduuli
description: Tässä ohjeaiheessa on tietoja ostoskorimoduuleista ja niiden lisäämisestä Microsoft Dynamics 365 Commercen sivuston sivuille.
author: anupamar-ms
manager: annbe
ms.date: 10/31/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Retail, Core, Operations
ms.search.region: Global
ms.search.industry: ''
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: 1c910f08e5999ec586b5cb656d5769e9d4abd069
ms.sourcegitcommit: 295d940a345879b3dfc5991e387b91c7257019ea
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 11/01/2019
ms.locfileid: "2696758"
---
# <a name="cart-module"></a><span data-ttu-id="7ec48-103">Ostoskorimoduuli</span><span class="sxs-lookup"><span data-stu-id="7ec48-103">Cart module</span></span>

[!include [banner](includes/preview-banner.md)]
[!include [banner](includes/banner.md)]

<span data-ttu-id="7ec48-104">Tässä ohjeaiheessa on tietoja ostoskorimoduuleista ja niiden lisäämisestä Microsoft Dynamics 365 Commercen sivuston sivuille.</span><span class="sxs-lookup"><span data-stu-id="7ec48-104">This topic covers cart modules and describes how to add them to site pages in Microsoft Dynamics 365 Commerce.</span></span>

## <a name="overview"></a><span data-ttu-id="7ec48-105">Yleiskatsaus</span><span class="sxs-lookup"><span data-stu-id="7ec48-105">Overview</span></span>

<span data-ttu-id="7ec48-106">Ostoskorimoduuli on säilö, jota käytetään kaikkien niiden moduulien isännöintiin, joita tarvitaan näytettäessä ostoskorissa olevat nimikkeet.</span><span class="sxs-lookup"><span data-stu-id="7ec48-106">A cart module is container that is used to host all the modules that are required to showcase items that are in the cart.</span></span> <span data-ttu-id="7ec48-107">Se sisältää esimerkiksi kaikki ostoskoriin lisätyt nimikkeet, tilauksen yhteenvedon ja tarjouskoodit.</span><span class="sxs-lookup"><span data-stu-id="7ec48-107">For example, it includes all the items that have been added to the cart, the order summary, and promotional codes.</span></span>

<span data-ttu-id="7ec48-108">Ostoskorimoduuli hahmontaa tiedot ostoskorin tunnuksen mukaan.</span><span class="sxs-lookup"><span data-stu-id="7ec48-108">The cart module renders data based on the cart ID.</span></span> <span data-ttu-id="7ec48-109">Ostoskorin tunnus on selaimen eväste, joka on käytettävissä koko sivustossa.</span><span class="sxs-lookup"><span data-stu-id="7ec48-109">The cart ID is a browser cookie that is available throughout the site.</span></span>

## <a name="cart-module-properties-and-slots"></a><span data-ttu-id="7ec48-110">Ostoskorimoduulin ominaisuudet ja paikat</span><span class="sxs-lookup"><span data-stu-id="7ec48-110">Cart module properties and slots</span></span>

<span data-ttu-id="7ec48-111">Ostoskorimoduuli on säilö, joka ohjaa joitakin perusominaisuuksia, kuten otsikkoa ja leveyttä.</span><span class="sxs-lookup"><span data-stu-id="7ec48-111">As a container, a cart module controls some basic properties, such as the heading and the width.</span></span> <span data-ttu-id="7ec48-112">Otsikko on yleensä teksti, kuten **Ostoskassi**, **Ostoskorisi** tai **Ostoskorin nimikkeet**.</span><span class="sxs-lookup"><span data-stu-id="7ec48-112">The heading is typically text such as **Shopping bag**, **Your cart**, or **Items in your cart**.</span></span> <span data-ttu-id="7ec48-113">Leveysasetus määrittää, onko säilön sisässä olevien moduulien mahduttava säilöön vai ovatko ne näytön levyisiä.</span><span class="sxs-lookup"><span data-stu-id="7ec48-113">The width setting determines whether the modules inside the container must fit within that container, or whether they can fill the screen.</span></span>

<span data-ttu-id="7ec48-114">Ostoskorisivu jaetaan useisiin alueisiin, joita ovat ostoskoririvin nimikkeet, tilauksen yhteenveto ja kassatoiminto sekä Etsi myymälästä -toiminto.</span><span class="sxs-lookup"><span data-stu-id="7ec48-114">The cart page is divided into multiple regions: cart line items, order summary and checkout, and "find in store" functionality.</span></span> <span data-ttu-id="7ec48-115">Kukin alue yhdistetään ostoskorimoduulin paikkaan. Jokainen paikka hyväksyy ennalta määritetyn moduulijoukon.</span><span class="sxs-lookup"><span data-stu-id="7ec48-115">Each region is mapped to a slot in the cart module, and every slot accepts a predefined set of modules.</span></span>

## <a name="modules-that-can-be-used-in-a-cart-module"></a><span data-ttu-id="7ec48-116">Moduulit, joita voidaan käyttää ostoskorimoduulissa</span><span class="sxs-lookup"><span data-stu-id="7ec48-116">Modules that can be used in a cart module</span></span>

- <span data-ttu-id="7ec48-117">**Ostoskoririvin nimikkeet** – Tässä moduulissa on kaikkien ostoskoriin lisättyjen nimikkeiden yhteenveto.</span><span class="sxs-lookup"><span data-stu-id="7ec48-117">**Cart line items** – This module shows a summary of every item that has been added to the cart.</span></span> <span data-ttu-id="7ec48-118">Tiedot sisältävät tuotteen nimen, valitut dimensiot, hinnan, määrän ja alennukset.</span><span class="sxs-lookup"><span data-stu-id="7ec48-118">The information includes the product title, selected dimensions, price, quantity, and discounts.</span></span> <span data-ttu-id="7ec48-119">Tämä moduuli tukee myös toimintoja, kuten Poista ostoskorista ja Lisää toivomuslistaan.</span><span class="sxs-lookup"><span data-stu-id="7ec48-119">This module also supports actions such as "remove from cart" and "add to wish list."</span></span> <span data-ttu-id="7ec48-120">Jokaisella rivinimikkeellä on mahdollisuus toimitukseen ja myymälästä noutoon.</span><span class="sxs-lookup"><span data-stu-id="7ec48-120">For each line item, there is an option to ship the item or pick it up from the store.</span></span> <span data-ttu-id="7ec48-121">Tämä vaihtoehto on määritettävä erikseen Nouda myymälästä -moduulissa.</span><span class="sxs-lookup"><span data-stu-id="7ec48-121">This option must be configured separately in the pick up in store module.</span></span>
- <span data-ttu-id="7ec48-122">**Tilauksen yhteenveto** – Tämä moduuli näyttää tilauksen yhteenvedon.</span><span class="sxs-lookup"><span data-stu-id="7ec48-122">**Order summary** – This module shows an order summary.</span></span> <span data-ttu-id="7ec48-123">Tiedot sisältävät välisumman, toimituksen, verot ja säästöt.</span><span class="sxs-lookup"><span data-stu-id="7ec48-123">The information includes the subtotal, shipping, taxes, and savings.</span></span> <span data-ttu-id="7ec48-124">Tälle moduulille voidaan määrittää otsikko.</span><span class="sxs-lookup"><span data-stu-id="7ec48-124">A heading can be configured for this module.</span></span>
- <span data-ttu-id="7ec48-125">**Kampanjakoodi** – Tämän moduulin avulla asiakas voi lunastaa tarjouskoodeja.</span><span class="sxs-lookup"><span data-stu-id="7ec48-125">**Promo code** – This module lets the customer redeem promotional codes.</span></span> <span data-ttu-id="7ec48-126">Tarjouskoodin voi käyttää tai sen voidaan poistaa.</span><span class="sxs-lookup"><span data-stu-id="7ec48-126">A promotional code can be applied or removed.</span></span>
- <span data-ttu-id="7ec48-127">**Kassalle** – Tämä moduuli käynnistää kassatoiminnon. Se ohjaa käyttäjän kassalle siirtymisen sivulle.</span><span class="sxs-lookup"><span data-stu-id="7ec48-127">**Checkout** – This module initiates the checkout action and redirects the user to the checkout page.</span></span> <span data-ttu-id="7ec48-128">Tälle moduulille on määritettävä kolme linkkiä:</span><span class="sxs-lookup"><span data-stu-id="7ec48-128">Three links must be configured for this module:</span></span>

    - <span data-ttu-id="7ec48-129">**Kassalle** – Tämä linkki pakottaa asiakkaat kirjautumaan sisään, jos he eivät ole vielä tehneet sitä.</span><span class="sxs-lookup"><span data-stu-id="7ec48-129">**Checkout** – This link forces customers to sign in if they aren't already signed in.</span></span>
    - <span data-ttu-id="7ec48-130">**Vieraan siirtyminen kassalle** – Tämän linkin avulla anonyymit asiakkaat voivat tehdä tilauksia.</span><span class="sxs-lookup"><span data-stu-id="7ec48-130">**Guest checkout** – This link lets anonymous customers place orders.</span></span> <span data-ttu-id="7ec48-131">Se näkyy vain, kun asiakkaat eivät ole kirjautuneet sisään.</span><span class="sxs-lookup"><span data-stu-id="7ec48-131">It's shown only when customers aren't signed in.</span></span>
    - <span data-ttu-id="7ec48-132">**Takaisin tekemään ostoksia** – Tämän linkin avulla asiakkaat siirtyvät aloitussivulle tai jollekin muulle sivulle ja jatkavat ostosten tekemistä.</span><span class="sxs-lookup"><span data-stu-id="7ec48-132">**Back to shopping** – This link lets customers go to the home page or any other page, so that they can continue to shop.</span></span>

- <span data-ttu-id="7ec48-133">**Sisällöntäyteinen lohko** – Tämä moduuli tukee mukautettua viestintää ostoskorimoduulissa.</span><span class="sxs-lookup"><span data-stu-id="7ec48-133">**Content rich block** – This module supports custom messaging in the cart module.</span></span> <span data-ttu-id="7ec48-134">Sisällönhallintajärjestelmä (CMS) ohjaa viestintää.</span><span class="sxs-lookup"><span data-stu-id="7ec48-134">The messages are driven by the content management system (CMS).</span></span> <span data-ttu-id="7ec48-135">Voit lisätä minkä tahansa viestin, esimerkiksi Jos tilauksessa on ongelmia, soita numeroon 1-800-Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="7ec48-135">Any message can be added, such as "For issues with the order, contact 1-800-Fabrikam."</span></span>
- <span data-ttu-id="7ec48-136">**Nouda myymälästä** – Tämä moduuli näyttää luettelon lähellä olevista myymälöistä, joista nimikkeen voi noutaa.</span><span class="sxs-lookup"><span data-stu-id="7ec48-136">**Pick up in store** – This module shows a list of nearby stores where an item is available for pickup.</span></span> <span data-ttu-id="7ec48-137">Oletusarvon mukaan tämä moduuli näyttää myymälät, jotka sijaitsevat 50 mailin päässä asiakkaasta.</span><span class="sxs-lookup"><span data-stu-id="7ec48-137">By default, this module shows stores that are within a 50-mile radius of the customer's location.</span></span> <span data-ttu-id="7ec48-138">Arvoa voi kuitenkin muuttaa moduulissa.</span><span class="sxs-lookup"><span data-stu-id="7ec48-138">However, the search radius can be customized in the module.</span></span> <span data-ttu-id="7ec48-139">Kunkin myymälän varasto tarkistetaan, jos varaston tarkistustoiminto on käytössä, ja näkyvissä on soveltuva varastossa- tai varasto tyhjä -viesti.</span><span class="sxs-lookup"><span data-stu-id="7ec48-139">For each store, an inventory check is done, if the inventory check functionality is turned on, and an appropriate in-stock or out-of-stock message is shown.</span></span>
- <span data-ttu-id="7ec48-140">**Myymälän haku Bing Mapsin avulla** – Tätä moduulia voi käyttää Nouda myymälästä -moduulin sisässä.</span><span class="sxs-lookup"><span data-stu-id="7ec48-140">**Store search by Bing Maps** – This module can be used inside the pick up in store module.</span></span> <span data-ttu-id="7ec48-141">Sen avulla asiakkaat voivat hakea myymälöitä syöttämällä sijainnin.</span><span class="sxs-lookup"><span data-stu-id="7ec48-141">It lets customers search for stores by entering a location.</span></span> <span data-ttu-id="7ec48-142">Bing Maps -geokoodauksen ohjelmointirajapintaa käytetään asiakkaan syöttämän sijainnin muuntamisessa leveys- ja pituusasteiksi.</span><span class="sxs-lookup"><span data-stu-id="7ec48-142">The Bing Maps geocoding application programming interface (API) is used to convert the location that the customer entered to a latitude and a longitude.</span></span> <span data-ttu-id="7ec48-143">Jos tätä moduulia ei käytetä, vain asiakkaan nykyisen sijainnin lähellä olevat myymälät näytetään, eikä asiakas voi hakea toista sijaintia.</span><span class="sxs-lookup"><span data-stu-id="7ec48-143">If this module isn't used, only stores that are near the customer's current location are shown, and the customer can't search for a different location.</span></span>

## <a name="cart-module-settings"></a><span data-ttu-id="7ec48-144">Ostoskorimoduulin asetukset</span><span class="sxs-lookup"><span data-stu-id="7ec48-144">Cart module settings</span></span>

<span data-ttu-id="7ec48-145">Ostoskorimoduuleilla on seuraavat kolme määritettävää asetusta:</span><span class="sxs-lookup"><span data-stu-id="7ec48-145">Cart modules have three settings that can be configured:</span></span>

- <span data-ttu-id="7ec48-146">**Maksimimäärä** – Kunkin ostoskoriin lisättävän nimikkeen enimmäismäärä.</span><span class="sxs-lookup"><span data-stu-id="7ec48-146">**Maximum quantity** – The maximum number of each item that can be added to the cart.</span></span> <span data-ttu-id="7ec48-147">Jälleenmyyjä voi esimerkiksi päättää, että yhdessä tapahtumassa voidaan myydä vain 10 kappaletta kutakin tuotetta.</span><span class="sxs-lookup"><span data-stu-id="7ec48-147">For example, a retailer might decide that only 10 of each product can be sold in a single transaction.</span></span>
- <span data-ttu-id="7ec48-148">**Varaston tarkistus** – Kun arvoksi on asetettu **Tosi**, nimike lisätään ostoskoriin vasta, kun ostoruutumoduuli varmistaa, että nimikettä on varastossa.</span><span class="sxs-lookup"><span data-stu-id="7ec48-148">**Inventory check** – When the value is set to **True**, an item is added to the cart only after the buy box module makes sure that it's in stock.</span></span> <span data-ttu-id="7ec48-149">Tämä varaston tarkistus tehdään sekä skenaarioissa, joissa nimike toimitetaan, että skenaarioissa, joissa se noudetaan myymälästä.</span><span class="sxs-lookup"><span data-stu-id="7ec48-149">This inventory check is done both for scenarios where the item will be shipped and for scenarios where it will be picked up in the store.</span></span> <span data-ttu-id="7ec48-150">Jos arvoksi on määritetty **Epätosi**, varaston tarkistus tehdään vasta, kun nimike on lisätty ostoskoriin ja tilaus on tehty.</span><span class="sxs-lookup"><span data-stu-id="7ec48-150">If the value is set to **False**, no inventory check is done before an item is added to the cart and the order is placed.</span></span>
- <span data-ttu-id="7ec48-151">**Varaston puskuri** – Varastoa ylläpidetään reaaliaikaisesti. Jos useat asiakkaat tekevät tilauksia, todellisen varastomäärän ylläpitäminen voi olla vaikeaa.</span><span class="sxs-lookup"><span data-stu-id="7ec48-151">**Inventory buffer** – Inventory is maintained in real time, and when many customers place orders, it can be difficult to maintain an accurate inventory count.</span></span> <span data-ttu-id="7ec48-152">Tämän vuoksi varastolle voidaan määrittää puskuri.</span><span class="sxs-lookup"><span data-stu-id="7ec48-152">Therefore, a buffer can be defined for inventory.</span></span> <span data-ttu-id="7ec48-153">Kun varaston tarkistus tehdään ja varasto on pienempi kuin puskurisumma, tuotetta käsitellään kuin se olisi loppunut varastosta.</span><span class="sxs-lookup"><span data-stu-id="7ec48-153">When an inventory check is done, if the inventory is less than the buffer amount, the product is treated as out of stock.</span></span> <span data-ttu-id="7ec48-154">Kun myynti tapahtuu nopeasti useiden kanavien kautta eikä varastomäärää ole täysin synkronoitu, on pienempi riski sille, että nimikettä ei ole varastossa myynnin hetkellä.</span><span class="sxs-lookup"><span data-stu-id="7ec48-154">Therefore, when sales occur quickly through several channels, so that the inventory count isn't fully synced, there is less risk that an item that is out of stock will be sold.</span></span>

## <a name="retail-server-interaction"></a><span data-ttu-id="7ec48-155">Vähittäismyynnin palvelimen vuorovaikutus</span><span class="sxs-lookup"><span data-stu-id="7ec48-155">Retail Server interaction</span></span>

<span data-ttu-id="7ec48-156">Ostoskorimoduuli hakee tuotetiedot vähittäismyynnin palvelimen ohjelmistorajapintojen avulla.</span><span class="sxs-lookup"><span data-stu-id="7ec48-156">The cart module retrieves product information by using Retail Server APIs.</span></span> <span data-ttu-id="7ec48-157">Selaimen evästeen ostoskorin tunnusta käytetään kaikkien tuotetietojen noutamisessa vähittäismyynnin palvelimelta.</span><span class="sxs-lookup"><span data-stu-id="7ec48-157">The cart ID from the browser cookie is used to retrieve all the product information from Retail Server.</span></span>

## <a name="add-a-cart-module-to-a-page"></a><span data-ttu-id="7ec48-158">Ostoskorimoduulin lisääminen sivulle</span><span class="sxs-lookup"><span data-stu-id="7ec48-158">Add a cart module to a page</span></span>

<span data-ttu-id="7ec48-159">Voit lisätä ostoskorimoduulin uudelle sivulle ja määrittää pakolliset ominaisuudet seuraavasti.</span><span class="sxs-lookup"><span data-stu-id="7ec48-159">To add a cart module to a new page and set the required properties, follow these steps.</span></span>

1. <span data-ttu-id="7ec48-160">Luo osa nimeltä **Ostoskoriosa** ja lisää siihen ostoskorimoduuli.</span><span class="sxs-lookup"><span data-stu-id="7ec48-160">Create a fragment that is named **cart fragment**, and add a cart module to it.</span></span>
1. <span data-ttu-id="7ec48-161">Lisää ostoskoririvin nimikkeiden moduuli ostoskorimoduulin **Ostoskoririvin nimikkeet** -paikkaan.</span><span class="sxs-lookup"><span data-stu-id="7ec48-161">In the **Cart line items** slot of the cart module, add a cart line items module.</span></span>
1. <span data-ttu-id="7ec48-162">Lisää **Tilauksen yhteenveto** -paikkaan tilauksen yhteenvedon moduuli.</span><span class="sxs-lookup"><span data-stu-id="7ec48-162">In the **Order summary** slot, add an order summary module.</span></span>
1. <span data-ttu-id="7ec48-163">Lisää **Kampanjakoodi**-paikkaan kampanjakoodimoduuli.</span><span class="sxs-lookup"><span data-stu-id="7ec48-163">In the **Promo code** slot, add a promo code module.</span></span>
1. <span data-ttu-id="7ec48-164">Lisää **Kassalle**-paikkaan kassamoduuli.</span><span class="sxs-lookup"><span data-stu-id="7ec48-164">In the **Checkout** slot, add a checkout module.</span></span>
1. <span data-ttu-id="7ec48-165">Lisää **Etsi myymälästä** -paikkaan Nouda myymälästä -moduuli.</span><span class="sxs-lookup"><span data-stu-id="7ec48-165">In the **Find in Store** slot, add a pick up in store module.</span></span>
1. <span data-ttu-id="7ec48-166">Valitse Nouda myymälästä -moduulissa **Myymälähaku**-paikka ja lisää myymälän haku Bing Mapsin avulla -moduuli.</span><span class="sxs-lookup"><span data-stu-id="7ec48-166">In the pick up in store module, select the **Store search** slot, and add a store search by Bing Maps module.</span></span>
1. <span data-ttu-id="7ec48-167">Kirjaa osa sisään ja julkaise se.</span><span class="sxs-lookup"><span data-stu-id="7ec48-167">Check in the fragment, and publish it.</span></span>
1. <span data-ttu-id="7ec48-168">Luo malli nimeltä **Ostoskorimalli** ja lisää siihen juuri luotu ostoskoriosa.</span><span class="sxs-lookup"><span data-stu-id="7ec48-168">Create a template that is named **cart template**, and add the cart fragment that you just created to it.</span></span>
1. <span data-ttu-id="7ec48-169">Tallenna malli, kirjaa se sisään ja julkaise se.</span><span class="sxs-lookup"><span data-stu-id="7ec48-169">Save the template, check it in, and publish it.</span></span>
1. <span data-ttu-id="7ec48-170">Luo sivu, joka käyttää uutta mallia.</span><span class="sxs-lookup"><span data-stu-id="7ec48-170">Create a page that uses the new template.</span></span>
1. <span data-ttu-id="7ec48-171">Tallenna ja esikatsele sivu.</span><span class="sxs-lookup"><span data-stu-id="7ec48-171">Save and preview the page.</span></span>
1. <span data-ttu-id="7ec48-172">Kirjaa sivu sisään ja julkaise se.</span><span class="sxs-lookup"><span data-stu-id="7ec48-172">Check in the page, and publish it.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="7ec48-173">Lisäresurssit</span><span class="sxs-lookup"><span data-stu-id="7ec48-173">Additional resources</span></span>

[<span data-ttu-id="7ec48-174">Aloituspakkauksen yleiskatsaus</span><span class="sxs-lookup"><span data-stu-id="7ec48-174">Starter kit overview</span></span>](starter-kit-overview.md)

[<span data-ttu-id="7ec48-175">Konttimoduuli</span><span class="sxs-lookup"><span data-stu-id="7ec48-175">Container module</span></span>](add-container-module.md)

[<span data-ttu-id="7ec48-176">Ostoruutumoduuli</span><span class="sxs-lookup"><span data-stu-id="7ec48-176">Buy box module</span></span>](add-buy-box.md)

[<span data-ttu-id="7ec48-177">Kassamoduuli</span><span class="sxs-lookup"><span data-stu-id="7ec48-177">Checkout module</span></span>](add-checkout-module.md)

[<span data-ttu-id="7ec48-178">Tilauksen vahvistusmoduuli</span><span class="sxs-lookup"><span data-stu-id="7ec48-178">Order confirmation module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="7ec48-179">Ylätunnistemoduuli</span><span class="sxs-lookup"><span data-stu-id="7ec48-179">Header module</span></span>](author-header-module.md)

[<span data-ttu-id="7ec48-180">Alatunnistemoduuli</span><span class="sxs-lookup"><span data-stu-id="7ec48-180">Footer module</span></span>](author-footer-module.md)
