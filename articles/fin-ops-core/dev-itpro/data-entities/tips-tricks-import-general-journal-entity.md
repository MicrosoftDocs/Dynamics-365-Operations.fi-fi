---
title: Parhaat käytännöt kirjauskansioyksikön avulla tapahtuvaan tositteiden tuontiin
description: Tässä ohjeaiheessa on vihjeitä tietojen tuomisesta kirjauskansioon käyttämällä kirjauskansioyksikköä.
author: rcarlson
manager: AnnBe
ms.date: 04/20/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User
ms.reviewer: sericks
ms.search.scope: Core, Operations
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 13ea54a6fc4ccdfbcc917b533fe9896d57bcb347
ms.sourcegitcommit: f1bef1cb4b3d2c9261e89820d624e4b0fe60d25c
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 04/22/2020
ms.locfileid: "3281483"
---
# <a name="best-practices-for-importing-vouchers-by-using-the-general-journal-entity"></a><span data-ttu-id="ff80d-103">Parhaat käytännöt kirjauskansioyksikön avulla tapahtuvaan tositteiden tuontiin</span><span class="sxs-lookup"><span data-stu-id="ff80d-103">Best practices for importing vouchers by using the General journal entity</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="ff80d-104">Tässä ohjeaiheessa on vihjeitä tietojen tuomisesta kirjauskansioon käyttämällä kirjauskansioyksikköä.</span><span class="sxs-lookup"><span data-stu-id="ff80d-104">This topic provides tips for importing data into the General journal by using the General journal entity.</span></span>

<span data-ttu-id="ff80d-105">Voit tuoda kirjauskansioyksiköllä vain tositteita, joiden tili- tai vastatilityyppinä on **Kirjanpito**, **Asiakas**, **Toimittaja** tai **Pankki**.</span><span class="sxs-lookup"><span data-stu-id="ff80d-105">You can use the General journal entity to import vouchers that have an account or offset account type of **Ledger**, **Customer**, **Vendor**, or **Bank**.</span></span> <span data-ttu-id="ff80d-106">Tosite voidaan lisätä yhtenä rivinä, käyttäen sekä **Tili**- että **Vastatili**-kenttiä, tai monirivisenä tositteena, jossa käytetään vain **Tili**-kenttää (**Vastatili**-kenttä jätetään tyhjäksi jokaisella rivillä).</span><span class="sxs-lookup"><span data-stu-id="ff80d-106">The voucher can be entered as one line, using both the **Account** field and the **Offset account** field, or as a multi-line voucher, where only the **Account** field is used (and the **Offset account** is left blank on each line).</span></span> <span data-ttu-id="ff80d-107">Kirjauskansioyksikkö ei tue kaikkia tilityyppejä.</span><span class="sxs-lookup"><span data-stu-id="ff80d-107">The General journal entity doesn't support every account type.</span></span> <span data-ttu-id="ff80d-108">Sen sijaan on olemassa muita yksiköitä sellaisiin tilanteisiin, joissa on käytettävä tilityyppien yhdistelmiä.</span><span class="sxs-lookup"><span data-stu-id="ff80d-108">Instead, other entities exist for scenarios where different combinations of account types are required.</span></span> <span data-ttu-id="ff80d-109">Jos haluat esimerkiksi tuoda projektitapahtuman, voit käyttää projektin kulukirjausyksikköä.</span><span class="sxs-lookup"><span data-stu-id="ff80d-109">For example, to import a project transaction, use the Project expense journal entity.</span></span> <span data-ttu-id="ff80d-110">Kukin yksikkö on suunniteltu tukemaan tiettyjä skenaarioita.</span><span class="sxs-lookup"><span data-stu-id="ff80d-110">Each entity is designed to support specific scenarios.</span></span> <span data-ttu-id="ff80d-111">Tämä tarkoittaa, että näissä skenaarioissa voi olla käytettävissä lisäkenttiä.</span><span class="sxs-lookup"><span data-stu-id="ff80d-111">This means additional fields may be available in entities for those scenarios.</span></span> <span data-ttu-id="ff80d-112">Muissa skenaarioissa ei kuitenkaan ehkä ole käytettävissä muita kenttiä.</span><span class="sxs-lookup"><span data-stu-id="ff80d-112">However, additional fields might not be available in entities for different scenarios.</span></span>

## <a name="setup"></a><span data-ttu-id="ff80d-113">Määritys</span><span class="sxs-lookup"><span data-stu-id="ff80d-113">Setup</span></span>
<span data-ttu-id="ff80d-114">Tarkista ennen kirjauskansioyksikköä käyttävää tuontia seuraavat asetukset:</span><span class="sxs-lookup"><span data-stu-id="ff80d-114">Before you import by using the General journal entity, validate the following setup:</span></span>

- <span data-ttu-id="ff80d-115">**Kirjauskansion eränumeron numerosarja-asetukset** – Kun käytät tuontiin kirjanpitoyksikköä, kirjauskansion eränumero käyttää oletusarvoisesti kirjanpitoparametreissa määritettyä numerosarjaa.</span><span class="sxs-lookup"><span data-stu-id="ff80d-115">**Number sequence setup for the journal batch number** – By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters.</span></span> <span data-ttu-id="ff80d-116">Jos määrität kirjauskansion eränumeron numerosarjaksi **Manuaalinen**, oletusnumeroa ei käytetä.</span><span class="sxs-lookup"><span data-stu-id="ff80d-116">If you set the number sequence for the journal batch number to **Manual**, a default number isn't applied.</span></span> <span data-ttu-id="ff80d-117">Tätä asetusta ei tueta.</span><span class="sxs-lookup"><span data-stu-id="ff80d-117">This setup isn't supported.</span></span>
- <span data-ttu-id="ff80d-118">**Taloushallinnon dimension määritykset** – Jokaisen organisaation on määritettävä taloushallinnon dimensioiden järjestys, kun tapahtumien tuontiin käytetään yksiköitä.</span><span class="sxs-lookup"><span data-stu-id="ff80d-118">**Financial dimension configuration** – Every organization must define the order of financial dimensions when entities are used to import transactions.</span></span> <span data-ttu-id="ff80d-119">Järjestys määritetään **Kirjanpidon dimensioiden integrointi** -muodolle valitsemalla **Kirjanpito** &gt; **Tilikartta** &gt; **Dimensiot** &gt; **Integrointisovellusten taloushallinnon dimension määritykset** &gt; **Valitse tietoyksiköt**.</span><span class="sxs-lookup"><span data-stu-id="ff80d-119">The order is defined for the **Ledger dimensions integration** format, at **General ledger** &gt; **Chart of accounts** &gt; **Dimensions** &gt; **Financial dimension configuration for integrating applications** &gt; **Select data entities**.</span></span> <span data-ttu-id="ff80d-120">Tuodun kirjanpitotilin segmenttien on oltava samassa järjestyksessä.</span><span class="sxs-lookup"><span data-stu-id="ff80d-120">The segments of the ledger account that is imported must have the same order.</span></span> <span data-ttu-id="ff80d-121">Muussa tapauksessa tapahtuu tuontivirhe.</span><span class="sxs-lookup"><span data-stu-id="ff80d-121">Otherwise, an error will occur during import.</span></span>

## <a name="general-journal-entity-setup"></a><span data-ttu-id="ff80d-122">Kirjauskansioyksikön asetukset</span><span class="sxs-lookup"><span data-stu-id="ff80d-122">General journal entity setup</span></span>
<span data-ttu-id="ff80d-123">Kaksi tietojen hallinnan asetusta vaikuttaa siihen, miten oletuskirjauskansion eränumeroa tai tositenumero käytetään:</span><span class="sxs-lookup"><span data-stu-id="ff80d-123">Two settings in Data management affect how the default journal batch number or voucher number is applied:</span></span>

- <span data-ttu-id="ff80d-124">**Joukkoon perustuva käsittely** (tietoyksikössä)</span><span class="sxs-lookup"><span data-stu-id="ff80d-124">**Set-based processing** (on the data entity)</span></span>
- <span data-ttu-id="ff80d-125">**Luotu automaattisesti** (kentän yhdistämismäärityksessä)</span><span class="sxs-lookup"><span data-stu-id="ff80d-125">**Auto-generated** (on the field mapping)</span></span>

<span data-ttu-id="ff80d-126">Seuraavissa osissa kuvataan näiden asetusten vaikutusta.</span><span class="sxs-lookup"><span data-stu-id="ff80d-126">The following sections describe the effect of these settings.</span></span> <span data-ttu-id="ff80d-127">Ne selittävät myös, miten järjestelmä luo eränumerot kirjauskansioille ja tositenumeroille.</span><span class="sxs-lookup"><span data-stu-id="ff80d-127">They also explain how the system generates batch numbers for journals and voucher numbers.</span></span>

### <a name="journal-batch-number"></a><span data-ttu-id="ff80d-128">Kirjauskansion eränumero</span><span class="sxs-lookup"><span data-stu-id="ff80d-128">Journal batch number</span></span>

- <span data-ttu-id="ff80d-129">Kirjauskansioyksikön **Joukkoon perustuva käsittely** -asetus ei vaikuta tapaan, jolla kirjauskansion eränumerot luodaan.</span><span class="sxs-lookup"><span data-stu-id="ff80d-129">The **Set-based processing** setting on the General journal entity doesn't affect the way that journal batch numbers are generated.</span></span>
- <span data-ttu-id="ff80d-130">Jos **Kirjauskansion eränumero** -kentässä on valittu **Luotu automaattisesti**, jokaiselle tuodulle riville luodaan uusi kirjauskansion eränumero.</span><span class="sxs-lookup"><span data-stu-id="ff80d-130">If the **Journal batch number** field is set to **Auto-generated**, a new journal batch number is created for every line that is imported.</span></span> <span data-ttu-id="ff80d-131">Tämä menettelyä ei suositella.</span><span class="sxs-lookup"><span data-stu-id="ff80d-131">This behavior isn't recommended.</span></span> <span data-ttu-id="ff80d-132">**Luotu automaattisesti** -asetus sijaitsee tuontiprojektin **Yhdistämistiedot**-välilehden kohdassa **Näytä yhdistämismääritykset**.</span><span class="sxs-lookup"><span data-stu-id="ff80d-132">The **Auto-generated** setting is found on the import project, under **View map**, on the **Mapping details** tab.</span></span>
- <span data-ttu-id="ff80d-133">Jos **Kirjauskansion eränumero** -kentässä ei ole valittu **Luotu automaattisesti**, kirjauskansion eränumero luodaan seuraavasti:</span><span class="sxs-lookup"><span data-stu-id="ff80d-133">If the **Journal batch number** field isn't set to **Auto-generated**, the journal batch number is created as follows:</span></span>

    - <span data-ttu-id="ff80d-134">Jos tuodussa tiedostossa määritetty kirjauskansion eränumero vastaa aiemmin luotua kirjaamatonta kirjauskansiota, kaikki rivit, joilla on sama kirjauskansion eränumero, tuodaan aiemmin luotuun kirjauskansioon.</span><span class="sxs-lookup"><span data-stu-id="ff80d-134">If the journal batch number that is defined in the imported file matches an existing, unposted daily journal, all lines that have a matching journal batch number are imported into the existing journal.</span></span> <span data-ttu-id="ff80d-135">Rivejä ei koskaan tuoda kirjattuun kirjauskansion eränumeroon.</span><span class="sxs-lookup"><span data-stu-id="ff80d-135">Lines are never imported into a posted journal batch number.</span></span> <span data-ttu-id="ff80d-136">Sen sijaan luodaan uusi numero.</span><span class="sxs-lookup"><span data-stu-id="ff80d-136">Instead, a new number is created.</span></span>
    - <span data-ttu-id="ff80d-137">Jos tuodussa tiedostossa määritetty kirjauskansion eränumero ei vastaa aiemmin luotua kirjaamatonta kirjauskansiota, kaikki rivit, joilla on sama kirjauskansion eränumero, ryhmitetään uuteen kirjauskansioon.</span><span class="sxs-lookup"><span data-stu-id="ff80d-137">If the journal batch number that is defined in the imported file doesn't match an existing, unposted daily journal, all lines that have the same journal batch number are grouped under a new journal.</span></span> <span data-ttu-id="ff80d-138">Esimerkiksi kaikki rivit, joiden kirjauskansion eränumero on 1, tuodaan uuteen kirjauskansioon, ja kaikki rivit, joiden kirjauskansion eränumero on 2, tuodaan toiseen uuteen kirjauskansioon.</span><span class="sxs-lookup"><span data-stu-id="ff80d-138">For example, all lines that have a journal batch number of 1 are imported into a new journal, and all lines that have a journal batch number of 2 are imported into a second new journal.</span></span> <span data-ttu-id="ff80d-139">Kirjauskansion eränumero luodaan käyttämällä kirjanpidon parametreissa määritettyä numerosarjaa.</span><span class="sxs-lookup"><span data-stu-id="ff80d-139">The journal batch number is created by using the number sequence that is defined in the General ledger parameters.</span></span>

### <a name="voucher-number"></a><span data-ttu-id="ff80d-140">Tositenumero</span><span class="sxs-lookup"><span data-stu-id="ff80d-140">Voucher number</span></span>

- <span data-ttu-id="ff80d-141">Kun käytät kirjauskansioyksikössä **Joukkoon perustuva käsittely** -asetusta, tuodun tiedoston on annettava tositenumero.</span><span class="sxs-lookup"><span data-stu-id="ff80d-141">When you use the **Set-based processing** setting on the General journal entity, the voucher number must be provided in the imported file.</span></span> <span data-ttu-id="ff80d-142">Jokaiselle kirjauskansion tapahtumalle määritetään tuodusta tiedostosta saatu tositenumero, vaikka tositetta ei olisi täsmäytetty.</span><span class="sxs-lookup"><span data-stu-id="ff80d-142">Every transaction in the General journal is assigned the voucher number that is provided in the imported file, even if the voucher isn’t balanced.</span></span> <span data-ttu-id="ff80d-143">Huomaa seuraavat seikat, jos haluat käyttää joukkoon perustuvaa käsittelyä mutta haluat käyttää myös tositenumeroille määritettyä numerosarjaa.</span><span class="sxs-lookup"><span data-stu-id="ff80d-143">Note the following points if you want to use set-based processing, but you also want to use the number sequence that is defined for voucher numbers.</span></span>

    - <span data-ttu-id="ff80d-144">Voit ottaa tämän toiminnon käyttöön valitsemalla siinä kirjauskansiossa, jota käytetään tuontiin, **Numeroiden kohdistus kirjauksen yhteydessä** -asetukseksi **Kyllä**.</span><span class="sxs-lookup"><span data-stu-id="ff80d-144">To enable this functionality, on the journal name that is used for imports, set **Number allocation at posting** to **Yes**.</span></span>
    - <span data-ttu-id="ff80d-145">Tositenumero on määritettävä edelleen tuodussa tiedostossa.</span><span class="sxs-lookup"><span data-stu-id="ff80d-145">A voucher number must still be defined in the imported file.</span></span> <span data-ttu-id="ff80d-146">Tämä numero on kuitenkin väliaikainen ja tositenumero korvaa sen, kun kirjauskansio kirjataan.</span><span class="sxs-lookup"><span data-stu-id="ff80d-146">However, this number is temporary and will be overwritten by the voucher number when the journal is posted.</span></span> <span data-ttu-id="ff80d-147">Varmista, että väliaikainen tositenumero ryhmittää kirjauskansion rivit oikein.</span><span class="sxs-lookup"><span data-stu-id="ff80d-147">Be sure that the lines of the journal are grouped correctly by temporary voucher number.</span></span> <span data-ttu-id="ff80d-148">Kirjauksen aikana havaitaan esimerkiksi kolme riviä, joilla on väliaikainen tositenumero 1.</span><span class="sxs-lookup"><span data-stu-id="ff80d-148">For example, during posting, three lines are found that have a temporary voucher number of 1.</span></span> <span data-ttu-id="ff80d-149">Kaikkien kolmen rivin väliaikeinen tositenumero korvataan numerosarjan seuraavalla numerolla.</span><span class="sxs-lookup"><span data-stu-id="ff80d-149">The temporary voucher number of all three lines is overwritten by the next number in the number sequence.</span></span> <span data-ttu-id="ff80d-150">Jos nämä kolme riviä eivät ole täsmätty vienti, tositetta ei kirjata.</span><span class="sxs-lookup"><span data-stu-id="ff80d-150">If those three lines aren’t a balanced entry, the voucher won't be posted.</span></span> <span data-ttu-id="ff80d-151">Jos seuraavaksi havaitaan rivejä, joiden väliaikainen tositenumero on 2, tämä numero korvataan seuraavalla sarjan tositenumerolla ja niin edelleen.</span><span class="sxs-lookup"><span data-stu-id="ff80d-151">Next, if lines are found that have a temporary voucher number of 2, this number is overwritten by the next voucher number in the  sequence, and so on.</span></span>

- <span data-ttu-id="ff80d-152">Jos et käytä kirjauskansioyksikössä **Joukkoon perustuva käsittely** -asetusta, tuodussa tiedostossa ei tarvitse antaa tositenumeroa.</span><span class="sxs-lookup"><span data-stu-id="ff80d-152">When you don't use the **Set-based processing** setting, you do not need to provide a voucher number in the imported file.</span></span> <span data-ttu-id="ff80d-153">Tositenumerot luodaan tuonnin aikana kirjauskansion asetusten mukaan (**Vain yksi tosite**, **Kun tosite täsmää** ja niin edelleen).</span><span class="sxs-lookup"><span data-stu-id="ff80d-153">The voucher numbers are created during import, based on the setup of the journal name (**One voucher only**, **In connection of balance**, and so on).</span></span> <span data-ttu-id="ff80d-154">Jos kirjauskansion asetukseksi on esimerkiksi määritetty **Kun tosite täsmää**, ensimmäinen rivi saa uuden oletusarvoisen tositenumeron.</span><span class="sxs-lookup"><span data-stu-id="ff80d-154">For example, if the journal name is defined as **In connection of balance**, the first line receives a new default voucher number.</span></span> <span data-ttu-id="ff80d-155">Järjestelmä sitten arvioi rivin ja määrittää, vastaavatko debet-arvot kredit-arvoja.</span><span class="sxs-lookup"><span data-stu-id="ff80d-155">The system then evaluates the line to determine whether the debits equal the credits.</span></span> <span data-ttu-id="ff80d-156">Jos rivillä on vastatili, seuraava tuotavarivi saa uuden tositenumeron.</span><span class="sxs-lookup"><span data-stu-id="ff80d-156">If an offset account exists on the line, the next line that is imported receives a new voucher number.</span></span> <span data-ttu-id="ff80d-157">Jos vastatiliä ei ole, järjestelmä arvioi, vastaavatko debet-arvot kredit-arvoja uutta riviä tuotaessa.</span><span class="sxs-lookup"><span data-stu-id="ff80d-157">If no offset account exists, the system evaluates whether the debits equal the credits as each new line is imported.</span></span>
- <span data-ttu-id="ff80d-158">Jos **Tositenumero**-kentän arvoksi on valittu **Luotu automaattisesti**, tuonti epäonnistuu.</span><span class="sxs-lookup"><span data-stu-id="ff80d-158">If the **Voucher number** field is set to **Auto-generated**, the import won't succeed.</span></span> <span data-ttu-id="ff80d-159">**Tositenumero**-kentän **Luotu automaattisesti** -asetusta ei tueta.</span><span class="sxs-lookup"><span data-stu-id="ff80d-159">The **Auto-generated** setting for the **Voucher number** field isn't supported.</span></span>

<span data-ttu-id="ff80d-160">Kirjauskansioyksikkö käyttää oletusarvoisesti joukkoon perustuvaa käsittelyä.</span><span class="sxs-lookup"><span data-stu-id="ff80d-160">By default, the General journal entity uses set-based processing.</span></span> <span data-ttu-id="ff80d-161">Kun olet arvioinut organisaation liiketoimintatavoitteet, voit muuttaa **Joukkoon perustuva käsittely** -asetusta valitsemalla **Tietoyksiköt** **Tietojen hallinta** -työtilassa.</span><span class="sxs-lookup"><span data-stu-id="ff80d-161">After you evaluate the business requirements for your organization, you can change the **Set-based processing** setting by clicking **Data entities** in the **Data management** workspace.</span></span> <span data-ttu-id="ff80d-162">Joukkoon perustuvaa käsittelyä käytetään nopeuttamaan tuontiprosessia.</span><span class="sxs-lookup"><span data-stu-id="ff80d-162">Set-based processing is used to speed up the import process.</span></span> <span data-ttu-id="ff80d-163">Jos et käytä joukkoon perustuvaa käsittelyä, kirjauskansioyksikköä käyttävä tuonti tapahtuu hitaammin.</span><span class="sxs-lookup"><span data-stu-id="ff80d-163">If you don't use set-based processing, import of the General journal entity import will be slower.</span></span>
