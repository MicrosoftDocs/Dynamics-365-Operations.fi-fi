---
title: Supply Chain Managementin ja Field Servicen hankinnan integrointi
description: Tässä aiheessa käsitellään tapaa, jolla kaksoiskirjoituksen integrointi tukee ostotilauksen luontia ja päivitystä sekä Supply Chain Managementista että Field Servicestä.
author: RichardLuan
ms.date: 11/11/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: rhaertle
ms.search.region: Global
ms.author: rhaertle
ms.search.validFrom: 2020-11-11
ms.dyn365.ops.version: Release 10.0.17
ms.openlocfilehash: c50aabf94ae37b7b7b214699160bf958ad3ea9fd
ms.sourcegitcommit: 2cc14f6c537628e79ad2dd17dabf2c246deaa40d
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 06/09/2021
ms.locfileid: "6219784"
---
# <a name="integrate-procurement-between-supply-chain-management-and-field-service"></a><span data-ttu-id="91135-103">Supply Chain Managementin ja Field Servicen hankinnan integrointi</span><span class="sxs-lookup"><span data-stu-id="91135-103">Integrate procurement between Supply Chain Management and Field Service</span></span>

[!include [banner](../../includes/banner.md)]

[!include [banner](../../includes/preview-banner.md)]

<span data-ttu-id="91135-104">Microsoft Dynamics 365 Supply Chain Management sisältää vakaat hankintatoiminnot.</span><span class="sxs-lookup"><span data-stu-id="91135-104">Microsoft Dynamics 365 Supply Chain Management provides robust procurement functionality.</span></span> <span data-ttu-id="91135-105">Dynamics 365 Field Service sisältää vastaavanlaisia toimintoja, jotka tukevat palveluprosessiin liitettyjä ostoprosesseja.</span><span class="sxs-lookup"><span data-stu-id="91135-105">Dynamics 365 Field Service offers similar functionality that supports the purchasing processes that are associated with the service process.</span></span> <span data-ttu-id="91135-106">Näiden kahden sovelluksen toiminnot integroidaan kaksoiskirjoituksen avulla, ja tuloksena olevat toimintojen väliset käyttötapaukset otetaan käyttöön taulukoiden yhdistämisten, ratkaisulogiikan, näkymien ja lomakkeiden avulla.</span><span class="sxs-lookup"><span data-stu-id="91135-106">The functionality in these two apps is integrated through dual-write, and the resulting cross-functional use cases are enabled through table mappings, solution logic, views, and forms.</span></span>

<span data-ttu-id="91135-107">Tämä integrointi tukee ostotilauksen luontia ja useimmissa tapauksissa myös päivityksiä kummastakin sovelluksesta.</span><span class="sxs-lookup"><span data-stu-id="91135-107">This integration supports purchase order creation and, in most cases, updates from both apps.</span></span> <span data-ttu-id="91135-108">Supply Chain Management kuitenkin hallitsee hinnoittelua, osoitteita ja tuotteen vastaanottoa.</span><span class="sxs-lookup"><span data-stu-id="91135-108">However, Supply Chain Management controls pricing, addresses, and product receipt.</span></span> <span data-ttu-id="91135-109">Useita tehokkaista toimintojen välisiä käyttötapauksia otetaan käyttöön organisaatioissa, joissa on käytössä sekä Field Service että Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="91135-109">Several powerful cross-functional use cases are enabled for organizations that use both Field Service and Supply Chain Management.</span></span> <span data-ttu-id="91135-110">Näiden käyttötapausten avulla hankintoja voidaan käynnistää ja seurata molemmissa järjestelmissä.</span><span class="sxs-lookup"><span data-stu-id="91135-110">These use cases enable procurements to be initiated and tracked across both systems.</span></span>

<span data-ttu-id="91135-111">Seuraavassa kuvassa on kummassakin järjestelmässä olevat taulukota ja tapa, jolla ne yhdistetään toisiinsa.</span><span class="sxs-lookup"><span data-stu-id="91135-111">The following illustration shows the tables in both systems and how they are mapped to each other.</span></span> <span data-ttu-id="91135-112">Field Servicen ostotilaukset viittaavat *tiliriville*, kun taas Supply Chain Managementin ostotilaukset viittaavat *toimittajariville*.</span><span class="sxs-lookup"><span data-stu-id="91135-112">Purchase orders in Field Service reference an *account* row, whereas purchase orders in Supply Chain Management reference a *vendor* row.</span></span> <span data-ttu-id="91135-113">Kaksoiskirjoitus ratkaisee integroinnin käyttämällä viitettä, joka linkittää *toimittajarivit* *tiliriveihin*.</span><span class="sxs-lookup"><span data-stu-id="91135-113">To resolve the integration, dual-write uses a reference to link *vendor* rows with *account* rows.</span></span> <span data-ttu-id="91135-114">Lisätietoja on kohdassa [Integroidut toimittajan päätiedot](vendor-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="91135-114">For more information, see [Integrated vendor master](vendor-mapping.md).</span></span>

![Hankintojen yhdistämismääritykset](media/scm-field-service-tables.png)

## <a name="prerequisites"></a><span data-ttu-id="91135-116">Edellytykset</span><span class="sxs-lookup"><span data-stu-id="91135-116">Prerequisites</span></span>

<span data-ttu-id="91135-117">Supply Chain Managementin ja Field Servicen integrointia varten on asennettava seuraavat osat:</span><span class="sxs-lookup"><span data-stu-id="91135-117">To integrate Supply Chain Management with Field Service, you must install the following components:</span></span>

- <span data-ttu-id="91135-118">Field Servicen versio 8.8.31.60 tai sitä uudempi kattavaa ostotilauksen integrointia varten</span><span class="sxs-lookup"><span data-stu-id="91135-118">Field Service version 8.8.31.60 or later, for comprehensive purchase order integration</span></span>
- <span data-ttu-id="91135-119">Supply Chain Managementin versio 10.0.14 tai uudempi</span><span class="sxs-lookup"><span data-stu-id="91135-119">Supply Chain Management version 10.0.14 or later</span></span>
- <span data-ttu-id="91135-120">Kaksoiskirjoitus OneFSSCM-ratkaisun suorittamiseen</span><span class="sxs-lookup"><span data-stu-id="91135-120">Dual-write, to run the OneFSSCM solution</span></span>

## <a name="installation-guidelines"></a><span data-ttu-id="91135-121">Asennusohjeet</span><span class="sxs-lookup"><span data-stu-id="91135-121">Installation guidelines</span></span>

### <a name="prerequisites"></a><span data-ttu-id="91135-122">Edellytykset</span><span class="sxs-lookup"><span data-stu-id="91135-122">Prerequisites</span></span>

- <span data-ttu-id="91135-123">**Kaksoiskirjoitus** – lisätietoja on kohdassa [Kaksoiskirjoituksen aloitussivu](dual-write-home-page.md#dual-write-setup).</span><span class="sxs-lookup"><span data-stu-id="91135-123">**Dual-write** – For more information, see the [Dual-write home page](dual-write-home-page.md#dual-write-setup).</span></span>
- <span data-ttu-id="91135-124">**Dynamics 365 Field Service** – lisätietoja on kohdassa [ Dynamics 365 Field Servicen asentaminen](/dynamics365/field-service/install-field-service#step-1-install-dynamics-365-field-service).</span><span class="sxs-lookup"><span data-stu-id="91135-124">**Dynamics 365 Field Service** – For more information, see [How to install Dynamics 365 Field Service](/dynamics365/field-service/install-field-service#step-1-install-dynamics-365-field-service).</span></span>

<span data-ttu-id="91135-125">Jos kaksoiskirjoitus ja Field Service on otettu käyttöön Microsoft Dataversessa, käyttöön saadaan useita ratkaisutasoja, jotka laajentavat ympäristöä uusilla metatiedoilla, lomakkeilla, näkymillä ja logiikalla.</span><span class="sxs-lookup"><span data-stu-id="91135-125">When they are enabled in Microsoft Dataverse, dual-write and Field Service introduce several solution layers that extend the environment with new metadata, forms, views, and logic.</span></span> <span data-ttu-id="91135-126">Näiden ratkaisujen käyttöönottojärjestyksellä ei ole merkitystä, vaikkakin ne yleensä asennetaan seuraavassa järjestyksessä.</span><span class="sxs-lookup"><span data-stu-id="91135-126">These solutions can be enabled in any order, though you typically install in the order that is given here:</span></span>

1. <span data-ttu-id="91135-127">**Field Service Common** – Field Service Common asennetaan, kun Field Service on asennettu ympäristöön.</span><span class="sxs-lookup"><span data-stu-id="91135-127">**Field Service Common** – Field Service Common is installed when Field Service is installed in the environment.</span></span>
2. <span data-ttu-id="91135-128">**Field Service Common** – Field Service (Anchor) asennetaan, kun Field Service on asennettu ympäristöön.</span><span class="sxs-lookup"><span data-stu-id="91135-128">**Field Service (Anchor)** – Field Service (Anchor) is installed when Field Service is installed in the environment.</span></span> 
3. <span data-ttu-id="91135-129">**Supply Chain Management Extended** – Supply Chain Management Extended asennetaan automaattisesti, kun kaksoiskirjoitus on otettu käyttöön ympäristössä.</span><span class="sxs-lookup"><span data-stu-id="91135-129">**Supply Chain Management Extended** – Supply Chain Management Extended is automatically installed when dual-write is enabled in an environment.</span></span> 
4. <span data-ttu-id="91135-130">**OneFSSCM-ratkaisu** – Viimeksi asennettu ratkaisu (Field Service tai Supply Chain Management) asentaa OneFSSCM:n.</span><span class="sxs-lookup"><span data-stu-id="91135-130">**OneFSSCM solution** – OneFSSCM is automatically installed by whichever solution (Field Service or Supply Chain Management) is installed last.</span></span>

    - <span data-ttu-id="91135-131">Jos Field Service on jo asennettu ympäristöön ja Supply Chain Management Extendedin asentava kaksoiskirjoitus otetaan käyttöön, OneFSSCM asennetaan.</span><span class="sxs-lookup"><span data-stu-id="91135-131">If Field Service is already installed in the environment, and you enable dual-write, which installs Supply Chain Management Extended, OneFSSCM is installed.</span></span>
    - <span data-ttu-id="91135-132">Jos Supply Chain Management Extended on jo asennettu ympäristöön ja Field Service asennetaan, OneFSSCM asennetaan.</span><span class="sxs-lookup"><span data-stu-id="91135-132">If Supply Chain Management Extended is already installed in the environment, and you install Field Service, OneFSSCM is installed.</span></span>

## <a name="initial-synchronization"></a><span data-ttu-id="91135-133">Ensimmäinen synkronointi</span><span class="sxs-lookup"><span data-stu-id="91135-133">Initial synchronization</span></span>

<span data-ttu-id="91135-134">Uuden ostotilauksen luonti ja aiemmin luotujen ostotilausten käyttäminen edellyttää, että Supply Chain Managementin ja Dataversen väliset viitetiedot synkronoidaan.</span><span class="sxs-lookup"><span data-stu-id="91135-134">To create new purchase orders and work with existing purchase orders, you must sync the reference data between Supply Chain Management and Dataverse.</span></span> <span data-ttu-id="91135-135">Ensimmäisellä kirjoitustoiminnolla havaitaan taulukkosuhteet ja etsitään taulukot, jotka on otettava käyttöön tietyssä määrityksessä.</span><span class="sxs-lookup"><span data-stu-id="91135-135">You use the initial write functionality to detect the table relationships and find the tables that you must enable for a given map.</span></span>

<span data-ttu-id="91135-136">Seuraavat taulukot on synkronoitava:</span><span class="sxs-lookup"><span data-stu-id="91135-136">You must sync the following tables:</span></span>

- <span data-ttu-id="91135-137">Tuotemallit</span><span class="sxs-lookup"><span data-stu-id="91135-137">Product templates</span></span>

    <span data-ttu-id="91135-138">Ensimmäisen kirjoituksen yhteydessä saadaan täydellinen luettelo tarvittavista taulukoista.</span><span class="sxs-lookup"><span data-stu-id="91135-138">When you run the initial write, you get a full list of the tables that are required.</span></span> <span data-ttu-id="91135-139">Malliesimerkkejä:</span><span class="sxs-lookup"><span data-stu-id="91135-139">Here are some examples of these templates:</span></span>

    - <span data-ttu-id="91135-140">Kaikki tuotteet</span><span class="sxs-lookup"><span data-stu-id="91135-140">All products</span></span>
    - <span data-ttu-id="91135-141">Vapautetut tuotteet V2</span><span class="sxs-lookup"><span data-stu-id="91135-141">Released products V2</span></span>
    - <span data-ttu-id="91135-142">Dataversen vapautetut erilliset tuotteet</span><span class="sxs-lookup"><span data-stu-id="91135-142">Dataverse released distinct products</span></span>

- <span data-ttu-id="91135-143">Toimipaikat</span><span class="sxs-lookup"><span data-stu-id="91135-143">Sites</span></span>
- <span data-ttu-id="91135-144">Varastot</span><span class="sxs-lookup"><span data-stu-id="91135-144">Warehouses</span></span>
- <span data-ttu-id="91135-145">Hankintaluokkamallit</span><span class="sxs-lookup"><span data-stu-id="91135-145">Procurement categories templates</span></span>

    <span data-ttu-id="91135-146">Malliesimerkkejä:</span><span class="sxs-lookup"><span data-stu-id="91135-146">Here are some examples of these templates:</span></span>

    - <span data-ttu-id="91135-147">Hankintaluokat</span><span class="sxs-lookup"><span data-stu-id="91135-147">Procurement categories</span></span>
    - <span data-ttu-id="91135-148">Tuo</span><span class="sxs-lookup"><span data-stu-id="91135-148">Pro</span></span>
    - <span data-ttu-id="91135-149">Tuoteluokkahierarkia</span><span class="sxs-lookup"><span data-stu-id="91135-149">Product category hierarchy</span></span>
    - <span data-ttu-id="91135-150">Tuoteluokan määritykset</span><span class="sxs-lookup"><span data-stu-id="91135-150">Product category assignments</span></span>

- <span data-ttu-id="91135-151">Toimittajamallit, kuten Toimittaja V2</span><span class="sxs-lookup"><span data-stu-id="91135-151">Vendor templates, such as Vendor V2</span></span>
- <span data-ttu-id="91135-152">Yhteyshenkilömallit, kuten Dataversen Yhteyshenkilöt V2</span><span class="sxs-lookup"><span data-stu-id="91135-152">Contact person templates, such as Dataverse Contacts V2</span></span>
- <span data-ttu-id="91135-153">Työntekijämallit, kuten Työntekijä</span><span class="sxs-lookup"><span data-stu-id="91135-153">Worker templates, such as Worker</span></span>

<span data-ttu-id="91135-154">Taulukoiden synkronoinnilla varmistetaan, että kaikki Supply Chain Managementin asiakirjat (ostotilaukset ja tuotteen vastaanotot) ovat käytettävissä Dataversessa.</span><span class="sxs-lookup"><span data-stu-id="91135-154">Synchronization of the tables ensures that all documents (purchase orders and product receipts) in Supply Chain Management are available in Dataverse.</span></span>

### <a name="account-and-vendor-tables"></a><span data-ttu-id="91135-155">Tili- ja Toimittaja-taulukot</span><span class="sxs-lookup"><span data-stu-id="91135-155">Account and Vendor tables</span></span>

<span data-ttu-id="91135-156">Field Servicen ostotilaukset käyttävät Tili-taulukko toimittajien seuraamiseen.</span><span class="sxs-lookup"><span data-stu-id="91135-156">Purchase orders in Field Service rely on the Account table to track vendors.</span></span> <span data-ttu-id="91135-157">Tämän vuoksi ostotilausten Dataverse-taulukot käyttävät tilejä toimittajien seuraamiseen.</span><span class="sxs-lookup"><span data-stu-id="91135-157">Therefore, the Dataverse tables for purchase orders use accounts to track vendors.</span></span> <span data-ttu-id="91135-158">Tämä keskeisen eron huomioon ottaminen edellyttää, tilit ja toimittajat pidetään synkronoituina aktivoimalla seuraavat neljä työnkulkua:</span><span class="sxs-lookup"><span data-stu-id="91135-158">To accommodate this key difference, the following four workflows must be activated to keep the accounts and vendors in sync:</span></span> 

- <span data-ttu-id="91135-159">Toimittajien luonti Tilit-taulukossa</span><span class="sxs-lookup"><span data-stu-id="91135-159">Create Vendors in Accounts table</span></span>
- <span data-ttu-id="91135-160">Toimittajien luonti Toimittajat-taulukossa</span><span class="sxs-lookup"><span data-stu-id="91135-160">Create Vendors in Vendors table</span></span>
- <span data-ttu-id="91135-161">Toimittajien päivitys Tilit-taulukossa</span><span class="sxs-lookup"><span data-stu-id="91135-161">Update Vendors in Accounts table</span></span>
- <span data-ttu-id="91135-162">Toimittajien päivitys Toimittajat-taulukossa</span><span class="sxs-lookup"><span data-stu-id="91135-162">Update Vendors in Vendors table</span></span>

<span data-ttu-id="91135-163">Jos OneFSSCM on asennettu, koska sekä Field Service että Supply Chain Management Extended on asennettu, kyseiset työnkulut aktivoidaan automaattisesti.</span><span class="sxs-lookup"><span data-stu-id="91135-163">If OneFSSCM is installed, because both Field Service and Supply Chain Management Extended are installed, these workflows are automatically activated.</span></span> <span data-ttu-id="91135-164">Jos Field Servicea ei ole asennettu mutta ostotilaustaulukot halutaan integroida Dataverseen, kyseiset työnkulut on aktivoitava.</span><span class="sxs-lookup"><span data-stu-id="91135-164">If Field Service isn't installed, but you want to integrate the purchase order tables with Dataverse, you must activate these workflows.</span></span> <span data-ttu-id="91135-165">Ellei luonti aloiteta tyhjästä, kummassakin tapauksessa on ehkä varmistettava ennen ostotilausten luontia, että kaikki toimittajat luodaan tileinä Dataversessa.</span><span class="sxs-lookup"><span data-stu-id="91135-165">In both cases, unless you start from scratch, you might have to ensure that all vendors are created as accounts in Dataverse before you create purchase orders.</span></span> <span data-ttu-id="91135-166">Muussa tapauksessa voi tapahtua virheitä.</span><span class="sxs-lookup"><span data-stu-id="91135-166">Otherwise, errors might occur.</span></span>

### <a name="initial-synchronization"></a><span data-ttu-id="91135-167">Ensimmäinen synkronointi</span><span class="sxs-lookup"><span data-stu-id="91135-167">Initial synchronization</span></span>

<span data-ttu-id="91135-168">Kun kaikki edellytykset täyttyvät ja aiemmin luotujen ostotilausten ja tuotteen vastaanottojen halutaan olevan käytettävissä molemmissa järjestelmissä, seuraavat mallit on synkronoitava ensimmäisen kerran:</span><span class="sxs-lookup"><span data-stu-id="91135-168">After all the prerequisites are in place, if you want existing purchase orders and product receipts to be available in both systems, you must do an initial synchronization of the following templates:</span></span>

- <span data-ttu-id="91135-169">Ostotilausotsikko V2</span><span class="sxs-lookup"><span data-stu-id="91135-169">Purchase Order Header V2</span></span>
- <span data-ttu-id="91135-170">CDS-ostotilausrivi</span><span class="sxs-lookup"><span data-stu-id="91135-170">CDS Purchase Order Line</span></span>
- <span data-ttu-id="91135-171">Poistettavaksi merkitty CDS-ostotilausrivi</span><span class="sxs-lookup"><span data-stu-id="91135-171">CDS Purchase Order Line soft delete</span></span>
- <span data-ttu-id="91135-172">Ostotilauksen vastaanotto</span><span class="sxs-lookup"><span data-stu-id="91135-172">Purchase Order Receipt</span></span>
- <span data-ttu-id="91135-173">Ostotilauksen vastaanotettu tuote</span><span class="sxs-lookup"><span data-stu-id="91135-173">Purchase Order Receipt Product</span></span>

## <a name="mappings-with-logic"></a><span data-ttu-id="91135-174">Logiikkaa käyttävät yhdistämismääritykset</span><span class="sxs-lookup"><span data-stu-id="91135-174">Mappings with logic</span></span>

<span data-ttu-id="91135-175">Hankinnan integraatio laajentaa tuotteen yhdistämismääritystä seuraavalla logiikalla. Näin varmistetaan, että **Field Service -tuotetyyppi** -sarake on määritetty oikein Dataversen tuotetaulukossa.</span><span class="sxs-lookup"><span data-stu-id="91135-175">The procurement integration extends the product mapping with the following logic to ensure that the **Field Service Product Type** column is correctly set in the products table in Dataverse:</span></span>

- <span data-ttu-id="91135-176">Jos **Tuotetyyppi**-määrityksenä on *Tuote* ja **Nimikemalliryhmä, varastotuote** -määrityksenä on *Tosi*, **Field Service -tuotetyyppi** määrityksenä on *Varasto*.</span><span class="sxs-lookup"><span data-stu-id="91135-176">If **Product Type** is set to *Product*, and **Item model group, Stocked product** is set to *True*, **Field Service Product Type** is set to *Inventory*.</span></span>
- <span data-ttu-id="91135-177">Jos **Tuotetyyppi**-määrityksenä on *Tuote* ja **Nimikemalliryhmä, varastotuote** -määrityksenä on *Epätosi*, **Field Service -tuotetyyppi** määrityksenä on *Muu kuin varasto*.</span><span class="sxs-lookup"><span data-stu-id="91135-177">If **Product Type** is set to *Product*, and **Item model group, Stocked product** is set to *False*, **Field Service Product Type** is set to *Non-Inventory*.</span></span>
- <span data-ttu-id="91135-178">Jos **Tuotetyyppi**-määrityksenä on *Palvelu*, **Field Service -tuotetyyppi** -määrityksenä on *Palvelu*.</span><span class="sxs-lookup"><span data-stu-id="91135-178">If **Product Type** is set to *Service*, **Field Service Product Type** is set to *Service*.</span></span>

<span data-ttu-id="91135-179">Dataverse sisältää myös logiikan, joka yhdistää toimittajat niihin liittyviin tileihin.</span><span class="sxs-lookup"><span data-stu-id="91135-179">In addition, Dataverse includes logic that maps vendors with their related accounts.</span></span> <span data-ttu-id="91135-180">Tämä logiikka määrittää laskun oletustoimittajatilin.</span><span class="sxs-lookup"><span data-stu-id="91135-180">This logic sets the default invoice vendor account.</span></span> <span data-ttu-id="91135-181">Palvelinpuolen laajennuslogiikka määrittää luonnin yhteydessä laskun oletustoimittajatilin tiliin liittyvän toimittajan perusteella.</span><span class="sxs-lookup"><span data-stu-id="91135-181">On create, server-side plug-in logic sets the default invoice vendor account from the vendor that is related to the account.</span></span> <span data-ttu-id="91135-182">Toimittajalla on viite laskutiliin, jolla tämä arvo määritetään.</span><span class="sxs-lookup"><span data-stu-id="91135-182">The vendor has a reference to the invoice account that is used to set this value.</span></span>

## <a name="supported-scenarios"></a><span data-ttu-id="91135-183">Tuetut skenaariot</span><span class="sxs-lookup"><span data-stu-id="91135-183">Supported scenarios</span></span>

- <span data-ttu-id="91135-184">Dataverse-käyttäjät voivat luoda ja päivittää ostotilauksia.</span><span class="sxs-lookup"><span data-stu-id="91135-184">Purchase orders can be created and updated by Dataverse users.</span></span> <span data-ttu-id="91135-185">Supply Chain Management kuitenkin hallitsee prosessia ja tietoja.</span><span class="sxs-lookup"><span data-stu-id="91135-185">However, the process and data are controlled by Supply Chain Management.</span></span> <span data-ttu-id="91135-186">Supply Chain Managementin ostotilaussarakkeiden päivitysten rajoituksia käytetään, kun kyse on Field Service -päivityksistä.</span><span class="sxs-lookup"><span data-stu-id="91135-186">The constraints on updates to purchase order columns in Supply Chain Management apply when updates come from Field Service.</span></span> <span data-ttu-id="91135-187">Esimerkiksi viimeisteltyä ostotilausta ei voi päivittää.</span><span class="sxs-lookup"><span data-stu-id="91135-187">For example, you can't update a purchase order if it has been finalized.</span></span> 
- <span data-ttu-id="91135-188">Jos ostotilausta hallitaan Supply Chain Managementin muutostenhallinnan avulla, Field Servicen käyttäjä voi päivittää ostotilauksen vain silloin, kun Supply Chain Managementin hyväksyntätila on *Luonnos*.</span><span class="sxs-lookup"><span data-stu-id="91135-188">If the purchase order is controlled by change management in Supply Chain Management, a Field Service user can update the purchase order only when the Supply Chain Management approval status is *Draft*.</span></span>
- <span data-ttu-id="91135-189">Useiden sarakkeiden hallinta on mahdollista vain Supply Chain Managementista eikä niitä voi päivittää Field Servicessa.</span><span class="sxs-lookup"><span data-stu-id="91135-189">Several columns are managed only by Supply Chain Management and can't be updated in Field Service.</span></span> <span data-ttu-id="91135-190">Tuotteen yhdistämistaulukoista voi tarkistaa, mitä sarakkeita ei voi päivittää.</span><span class="sxs-lookup"><span data-stu-id="91135-190">To learn which columns can't be updated, review the mapping tables in the product.</span></span> <span data-ttu-id="91135-191">Yksinkertaistaen voi sanoa, että useimmissa näistä sarakkeissa on Dataverse -sivuilla vain luku -määritys.</span><span class="sxs-lookup"><span data-stu-id="91135-191">For the sake of simplicity, most of these columns are set to read-only on Dataverse pages.</span></span> 

    <span data-ttu-id="91135-192">Supply Chain Management hallitsee esimerkiksi hintatietojen sarakkeita.</span><span class="sxs-lookup"><span data-stu-id="91135-192">For example, the columns for price information are managed by Supply Chain Management.</span></span> <span data-ttu-id="91135-193">Supply Chain Managementissa on kauppasopimuksia, joiden sarakkeista on hyötyä Field Servicessa.</span><span class="sxs-lookup"><span data-stu-id="91135-193">Supply Chain Management has trade agreements that Field Service can benefit from.</span></span> <span data-ttu-id="91135-194">Tällaisia vain Supply Chain Managementista saatavia sarakkeita ovat esimerkiksi **Yksikköhinta**, **Alennus** ja **Nettosumma**.</span><span class="sxs-lookup"><span data-stu-id="91135-194">columns such as **Unit price**, **Discount**, and **Net amount** come only from Supply Chain Management.</span></span> <span data-ttu-id="91135-195">Hinnan synkronointi Field Serviceen voidaan varmistaa käyttämällä **Synkronoi**-toimintoa Dataversen **Ostotilaus**- ja **Ostotilauksen tuotteet** -sivuilla, kun ostotilauksen tiedot on annettu.</span><span class="sxs-lookup"><span data-stu-id="91135-195">To ensure that the price is synced to Field Service, you should use the **Sync** feature on the **Purchase Order** and **Purchase Order Product** pages in Dataverse when purchase order data has been entered.</span></span> <span data-ttu-id="91135-196">Lisätietoja on kohdassa [Dynamics 365 Supply Chain Management in hankintatietojen synkronointi tarvittaessa](#sync-procurement).</span><span class="sxs-lookup"><span data-stu-id="91135-196">For more information, see [Sync with the Dynamics 365 Supply Chain Management procurement data on demand](#sync-procurement).</span></span>

- <span data-ttu-id="91135-197">**Summat**-sarake on käytettävissä vain Field Servicessa, koska Supply Chain Managementissa ei ole ostotilauksen ajantasaisia summia.</span><span class="sxs-lookup"><span data-stu-id="91135-197">The **Totals** column is available only in Field Service, because there are no up-to-date totals of the purchase order in Supply Chain Management.</span></span> <span data-ttu-id="91135-198">Supply Chain Managementin summat laskeminen perustuu useisiin parametreihin, jotka eivät ole käytettävissä Field Servicessa.</span><span class="sxs-lookup"><span data-stu-id="91135-198">The totals in Supply Chain Management are calculated based on multiple parameters that aren't available in Field Service.</span></span>
- <span data-ttu-id="91135-199">Jos ostotilausriveillä on määritetty vain hankintaluokka tai jos määritetty tuote on *Palvelu*- tuotetyypin tai Field Service -tuotetyypin nimike, kyseinen rivi voidaan käynnistää vain Supply Chain Managementissa.</span><span class="sxs-lookup"><span data-stu-id="91135-199">Purchase order lines where only a procurement category is specified, or where the product that is specified is an item of the *Service* product type or Field Service product type, can be initiated only in Supply Chain Management.</span></span> <span data-ttu-id="91135-200">Rivit synkronoidaan sitten Dataverseen, ja ne näkyvät Field Servicessa.</span><span class="sxs-lookup"><span data-stu-id="91135-200">The lines are then synced to Dataverse and are visible in Field Service.</span></span>
- <span data-ttu-id="91135-201">Jos vain Field Service on asennettu, Supply Chain Managementin **Varasto**-sarake on pakollinen ostotilauksessa.</span><span class="sxs-lookup"><span data-stu-id="91135-201">If only Field Service is installed, not Supply Chain Management, the **Warehouse** column is mandatory on the purchase order.</span></span> <span data-ttu-id="91135-202">Jos Supply Chain Management on kuitenkin asennettu, tämä edellytys ei ole ehdoton, koska Supply Chain Management sallii tietyissä tilanteissa ostotilausrivit, joissa varastoa ei ole määritetty.</span><span class="sxs-lookup"><span data-stu-id="91135-202">However, if Supply Chain Management is installed, this requirement is relaxed, because Supply Chain Management allows for purchase order lines where no warehouse is specified in certain situations.</span></span>
- <span data-ttu-id="91135-203">Supply Chain Management hallitsee tuotteen vastaanottoja (ostotilauksen vastaanottoja Dataversessa) eikä niitä voi luoda Dataversesta, jos Supply Chain Management on asennettu.</span><span class="sxs-lookup"><span data-stu-id="91135-203">Product receipts (purchase order receipts in Dataverse) are managed by Supply Chain Management and can't be created from Dataverse if Supply Chain Management is installed.</span></span> <span data-ttu-id="91135-204">Supply Chain Managementin tuotteen vastaanotot synkronoidaan Supply Chain Managementista Dataverseen.</span><span class="sxs-lookup"><span data-stu-id="91135-204">The product receipts from Supply Chain Management are synced from Supply Chain Management to Dataverse.</span></span>
- <span data-ttu-id="91135-205">Supply Chain Management sallii alitoimituksen.</span><span class="sxs-lookup"><span data-stu-id="91135-205">Under-delivery is allowed in Supply Chain Management.</span></span> <span data-ttu-id="91135-206">OneFSSCM-ratkaisu lisää logiikan siten, että kun tuotteen vastaanottorivi (tai ostotilauksen vastaanotettu tuote Dataversessa) luodaan tai päivitetään, varastokirjauskansion rivi luodaan Dataversessa säätämään alitoimitusskenaarioiden tilauksessa jäljellä olevaa määrää.</span><span class="sxs-lookup"><span data-stu-id="91135-206">The OneFSSCM solution adds logic so that, when the product receipt line (or purchase order receipt product in Dataverse) is created or updated, an inventory journal row is created in Dataverse to adjust the remaining quantity that is on order for under-delivery scenarios.</span></span>

## <a name="unsupported-scenarios"></a><span data-ttu-id="91135-207">Skenaariot, joita ei tueta</span><span class="sxs-lookup"><span data-stu-id="91135-207">Unsupported scenarios</span></span>

- <span data-ttu-id="91135-208">Field Service estää rivien lisäämisen Supply Chain Managementin peruutettuun ostotilaukseen.</span><span class="sxs-lookup"><span data-stu-id="91135-208">Field Service prevents lines from being added to a canceled purchase order in Supply Chain Management.</span></span> <span data-ttu-id="91135-209">Tämä on mahdollista kiertää muuttamalla ostotilauksen järjestelmän tila Field Servicessa ja lisäämällä sitten uusi rivi joko Field Servicessa tai Supply Chain Managementissa.</span><span class="sxs-lookup"><span data-stu-id="91135-209">As a workaround, you can change the system status of the purchase order in Field Service, and then add the new line in either Field Service or Supply Chain Management.</span></span>
- <span data-ttu-id="91135-210">Vaikka hankintarivit vaikuttavat kummankin järjestelmän varastotasoihin, tämä integraatio ei varmista varaston kohdistusta Supply Chain Managementin ja Field Servicen välillä.</span><span class="sxs-lookup"><span data-stu-id="91135-210">Although procurement rows affect inventory levels in both systems, this integration doesn't ensure inventory alignment across Supply Chain Management and Field Service.</span></span> <span data-ttu-id="91135-211">Sekä Field Servicessa että Supply Chain Managementissa on muita varastotasot päivittäviä prosesseja.</span><span class="sxs-lookup"><span data-stu-id="91135-211">Both Field Service and Supply Chain Management have other processes that update inventory levels.</span></span> <span data-ttu-id="91135-212">Nämä prosessit eivät sisälly hankintaan.</span><span class="sxs-lookup"><span data-stu-id="91135-212">Those processes are outside the scope of procurement.</span></span>

## <a name="status-management"></a><span data-ttu-id="91135-213">Tilan hallinta</span><span class="sxs-lookup"><span data-stu-id="91135-213">Status management</span></span>

<span data-ttu-id="91135-214">Field Servicen ostotilausten tilat ja Supply Chain Managementin tilat eroavat toisistaan.</span><span class="sxs-lookup"><span data-stu-id="91135-214">The statuses of purchase orders in Field Service differ from the statuses in Supply Chain Management.</span></span>

### <a name="field-service-purchase-order-and-purchase-order-product-statuses"></a><span data-ttu-id="91135-215">Field Servicen ostotilauksen ja ostotilaustuotteen tilat</span><span class="sxs-lookup"><span data-stu-id="91135-215">Field Service purchase order and purchase order product statuses</span></span>

| <span data-ttu-id="91135-216">Otsikko – järjestelmän tila</span><span class="sxs-lookup"><span data-stu-id="91135-216">Header – System status</span></span> | <span data-ttu-id="91135-217">Otsikko – hyväksynnän tila</span><span class="sxs-lookup"><span data-stu-id="91135-217">Header - Approval status</span></span> | <span data-ttu-id="91135-218">Nimikkeen tila</span><span class="sxs-lookup"><span data-stu-id="91135-218">Item status</span></span> |
|---|---|---|
| <ul><li><span data-ttu-id="91135-219">Luonnos</span><span class="sxs-lookup"><span data-stu-id="91135-219">Draft</span></span></li><li><span data-ttu-id="91135-220">Lähetetty</span><span class="sxs-lookup"><span data-stu-id="91135-220">Submitted</span></span></li><li><span data-ttu-id="91135-221">Peruutettu</span><span class="sxs-lookup"><span data-stu-id="91135-221">Cancelled</span></span></li><li><span data-ttu-id="91135-222">Tuote vastaanotettu</span><span class="sxs-lookup"><span data-stu-id="91135-222">Product received</span></span></li><li><span data-ttu-id="91135-223">Laskutettu</span><span class="sxs-lookup"><span data-stu-id="91135-223">Billed</span></span></li></ul> | <ul><li><span data-ttu-id="91135-224">Null</span><span class="sxs-lookup"><span data-stu-id="91135-224">Null</span></span></li><li><span data-ttu-id="91135-225">Hyväksytty summa</span><span class="sxs-lookup"><span data-stu-id="91135-225">Approved</span></span></li><li><span data-ttu-id="91135-226">Hylätty</span><span class="sxs-lookup"><span data-stu-id="91135-226">Rejected</span></span></li></ul> | <ul><li><span data-ttu-id="91135-227">Odottava</span><span class="sxs-lookup"><span data-stu-id="91135-227">Pending</span></span></li><li><span data-ttu-id="91135-228">Vastaanotettu</span><span class="sxs-lookup"><span data-stu-id="91135-228">Received</span></span></li><li><span data-ttu-id="91135-229">Peruutettu</span><span class="sxs-lookup"><span data-stu-id="91135-229">Cancelled</span></span></li></ul> |

### <a name="supply-chain-management-purchase-order-and-purchase-order-line-statuses"></a><span data-ttu-id="91135-230">Supply Chain Managementin ostotilauksen ja ostotilaustuotteen tilat</span><span class="sxs-lookup"><span data-stu-id="91135-230">Supply Chain Management purchase order and purchase order line statuses</span></span>

<span data-ttu-id="91135-231">Rivin hyväksynnän tilat ovat aktiivisia vain rivin työnkulun yhteydessä.</span><span class="sxs-lookup"><span data-stu-id="91135-231">Line approval statuses are active only when there is a line workflow.</span></span>

| <span data-ttu-id="91135-232">Otsikko – asiakirjojen tila</span><span class="sxs-lookup"><span data-stu-id="91135-232">Header – documents status</span></span> | <span data-ttu-id="91135-233">Otsikko – hyväksynnän tila</span><span class="sxs-lookup"><span data-stu-id="91135-233">Header - Approval status</span></span> | <span data-ttu-id="91135-234">Rivin tila</span><span class="sxs-lookup"><span data-stu-id="91135-234">Line status</span></span> | <span data-ttu-id="91135-235">Rivin hyväksynnän tila</span><span class="sxs-lookup"><span data-stu-id="91135-235">Line approval status</span></span> |
|---|---|---|---|
| <ul><li><span data-ttu-id="91135-236">Avoin tilaus (jälkitoimitus)</span><span class="sxs-lookup"><span data-stu-id="91135-236">Open Order (Back order)</span></span></li><li><span data-ttu-id="91135-237">Vastaanotettu</span><span class="sxs-lookup"><span data-stu-id="91135-237">Received</span></span></li><li><span data-ttu-id="91135-238">Laskutettu</span><span class="sxs-lookup"><span data-stu-id="91135-238">Invoiced</span></span></li><li><span data-ttu-id="91135-239">Peruutettu</span><span class="sxs-lookup"><span data-stu-id="91135-239">Cancelled</span></span></li></ul> | <ul><li><span data-ttu-id="91135-240">Luonnos</span><span class="sxs-lookup"><span data-stu-id="91135-240">Draft</span></span></li><li><span data-ttu-id="91135-241">Tarkistuksessa</span><span class="sxs-lookup"><span data-stu-id="91135-241">In Review</span></span></li><li><span data-ttu-id="91135-242">Hyväksytty summa</span><span class="sxs-lookup"><span data-stu-id="91135-242">Approved</span></span></li><li><span data-ttu-id="91135-243">Hylätty</span><span class="sxs-lookup"><span data-stu-id="91135-243">Rejected</span></span></li><li><span data-ttu-id="91135-244">Ulkoisessa tarkistuksessa</span><span class="sxs-lookup"><span data-stu-id="91135-244">In External Review</span></span></li><li><span data-ttu-id="91135-245">Vahvistettu</span><span class="sxs-lookup"><span data-stu-id="91135-245">Confirmed</span></span></li><li><span data-ttu-id="91135-246">Päätetty</span><span class="sxs-lookup"><span data-stu-id="91135-246">Finalized</span></span></li></ul> | <ul><li><span data-ttu-id="91135-247">Avoin tilaus (jälkitoimitus)</span><span class="sxs-lookup"><span data-stu-id="91135-247">Open Order (back order)</span></span></li><li><span data-ttu-id="91135-248">Vastaanotettu</span><span class="sxs-lookup"><span data-stu-id="91135-248">Received</span></span></li><li><span data-ttu-id="91135-249">Laskutettu</span><span class="sxs-lookup"><span data-stu-id="91135-249">Invoiced</span></span></li><li><span data-ttu-id="91135-250">Peruutettu</span><span class="sxs-lookup"><span data-stu-id="91135-250">Cancelled</span></span></li></ul> | <ul><li><span data-ttu-id="91135-251">Ei lähetetty</span><span class="sxs-lookup"><span data-stu-id="91135-251">Not Submitted</span></span></li><li><span data-ttu-id="91135-252">Tarkistuksessa</span><span class="sxs-lookup"><span data-stu-id="91135-252">In Review</span></span></li><li><span data-ttu-id="91135-253">Hyväksytty summa</span><span class="sxs-lookup"><span data-stu-id="91135-253">Approved</span></span></li><li><span data-ttu-id="91135-254">Hylätty</span><span class="sxs-lookup"><span data-stu-id="91135-254">Rejected</span></span></li></ul> |

<span data-ttu-id="91135-255">Tilasarakkeissa käytetään seuraavia sääntöjä:</span><span class="sxs-lookup"><span data-stu-id="91135-255">The following rules are applied to the status columns:</span></span>

- <span data-ttu-id="91135-256">Supply Chain Managementin ei voi päivittää Field Servicessa.</span><span class="sxs-lookup"><span data-stu-id="91135-256">The status in Supply Chain Management can't be updated from Field Service.</span></span> <span data-ttu-id="91135-257">Joissakin tapauksissa Field Servicen tila kuitenkin päivitetään, kun Supply Chain Managementin ostotilauksen tila muuttuu.</span><span class="sxs-lookup"><span data-stu-id="91135-257">However, in some cases, the status in Field Service will be updated when the purchase order status in Supply Chain Management is changed.</span></span>
- <span data-ttu-id="91135-258">Jos Supply Chain Managementin ostotilauksessa on käytössä muutostenhallinta ja muutos käsitellään, hyväksynnän tila on *Luonnos* tai *Tarkistuksessa*.</span><span class="sxs-lookup"><span data-stu-id="91135-258">If a purchase order in Supply Chain Management is under change management, and a change is being processed, the approval status is *Draft* or *In Review*.</span></span> <span data-ttu-id="91135-259">Tässä tapauksessa Field Servicen hyväksynnän tilaksi määritetään *Tyhjäarvo*.</span><span class="sxs-lookup"><span data-stu-id="91135-259">In this case, the Field Service approval status will be set to *Null*.</span></span>
- <span data-ttu-id="91135-260">Jos Supply Chain Managementin ostotilauksen hyväksynnän tilaksi on määritetty *Hyväksytty*, *Ulkoisessa tarkistuksessa*, *Vahvistettu* tai *Päätetty*, Field Servicen ostotilauksen hyväksynnän tilaksi määritetään *Hyväksytty*.</span><span class="sxs-lookup"><span data-stu-id="91135-260">If the purchase order approval status in Supply Chain Management is set to *Approved*, *In External review*, *Confirmed*, or *Finalized*, the Field Service purchase order approval status will be set to *Approved*.</span></span>
- <span data-ttu-id="91135-261">Jos Supply Chain Managementin ostotilauksen hyväksynnän tilaksi on määritetty *Hylätty*, Field Servicen ostotilauksen hyväksynnän tilaksi määritetään *Hylätty*.</span><span class="sxs-lookup"><span data-stu-id="91135-261">If the purchase order approval status in Supply Chain Management is set to *Rejected*, the Field Service purchase order approval status will be set to *Rejected*.</span></span>
- <span data-ttu-id="91135-262">Jos asiakirjan otsikon tilaksi vaihdetaan Supply Chain Managementissa *Avoin tilaus (jälkitoimitus)* ja Field Servicen ostotilauksen tila on *Luonnos* tai *Peruutettu*, Field Servicen ostotilauksen tilaksi vaihtuu *Lähetetty*.</span><span class="sxs-lookup"><span data-stu-id="91135-262">If the document header status in Supply Chain Management is changed to *Open order (Back order)*, and the Field Service purchase order status is *Draft* or *Cancelled*, the Field Service purchase order status will be changed to *Submitted*.</span></span>
- <span data-ttu-id="91135-263">Jos asiakirjan otsikon tilaksi vaihdetaan Supply Chain Managementissa *Peruutettu* eikä Field Servicen ostotilauksen vastaanottotuotteita ole liitetty ostotilaukseen (ostotilauksen tuotteiden kautta), Field Servicen järjestelmän tilaksi määritetään *Peruutettu*.</span><span class="sxs-lookup"><span data-stu-id="91135-263">If the document header status in Supply Chain Management is changed to *Cancelled*, and no purchase order receipt products in Field Service are associated with the purchase order (via purchase order products), the Field Service system status is set to *Cancelled*.</span></span>
- <span data-ttu-id="91135-264">Jos ostotilausrivin tila Supply Chain Managementissa on *Peruutettu*, ostotilaustuotteen tilaksi määritetään Field Servicesessa *Peruutettu*.</span><span class="sxs-lookup"><span data-stu-id="91135-264">If purchase order line status in Supply Chain Management is *Cancelled*, the purchase order product status in Field Service is set to *Cancelled*.</span></span> <span data-ttu-id="91135-265">Jos Supply Chain Managementin tuotetilausrivin tila *Peruutettu* lisäksi vaihdetaan tilaksi *Jälkitoimitus*, ostotilauksen tuotenimikkeen tilaksi määritetään Field Servicessa *Odottaa*.</span><span class="sxs-lookup"><span data-stu-id="91135-265">In addition, if the purchase order line status in Supply Chain Management is changed from *Cancelled* to *Back Order*, the purchase order product item status in Field Service is set to *Pending*.</span></span>

## <a name="sync-with-the-supply-chain-management-procurement-data-on-demand"></a><a id="sync-procurement"></a><span data-ttu-id="91135-266">Supply Chain Managementin hankintatietojen synkronointi tarvittaessa</span><span class="sxs-lookup"><span data-stu-id="91135-266">Sync with the Supply Chain Management procurement data on demand</span></span>

<span data-ttu-id="91135-267">Supply Chain Management sisältää hankintatietoja, jotka käsittelevät kauppasopimuksia, alennuksia ja muita skenaarioita, jotka tarvitsevat Supply Chain Managementin toissijaisia prosesseja.</span><span class="sxs-lookup"><span data-stu-id="91135-267">Supply Chain Management includes procurement data that handles trade agreements, discounts, and other scenarios that rely on secondary processes in Supply Chain Management.</span></span> <span data-ttu-id="91135-268">Hankintamoduuli määrittää tietyn ostotilauksen parhaan hinnan käyttämällä monimutkaisia sääntöjä.</span><span class="sxs-lookup"><span data-stu-id="91135-268">The procurement engine uses complex rules to determine the best price for a given purchase order.</span></span> <span data-ttu-id="91135-269">Kaksoiskirjoitusta käytettäessä tietoja ei aina pidetä synkronoituina kahden ympäristön välillä etenkään skenaarioissa, joissa rivi luotiin tai päivitettiin Dataversessa, ja tämä voi käynnistää seurantaprosesseja Supply Chain Managementissa.</span><span class="sxs-lookup"><span data-stu-id="91135-269">When you use dual-write, data isn't always kept synchronous across the two environments, especially in scenarios where the row was created or updated from Dataverse and might trigger follow-on processes in Supply Chain Management.</span></span>

## <a name="sync-the-procurement-data-from-supply-chain-management"></a><span data-ttu-id="91135-270">Supply Chain Managementin hankintatietojen synkronointi</span><span class="sxs-lookup"><span data-stu-id="91135-270">Sync the procurement data from Supply Chain Management</span></span>

1. <span data-ttu-id="91135-271">Valitse Dataversessa **Varasto \> Ostotilaus**.</span><span class="sxs-lookup"><span data-stu-id="91135-271">In Dataverse, go to **Inventory \> Purchase Order**.</span></span>
2. <span data-ttu-id="91135-272">Luo uusi ostotilaus valitsemalla **Uusi** tai valitse aiemmin luodun ostotilauksen rivi.</span><span class="sxs-lookup"><span data-stu-id="91135-272">Select **New** to create a new purchase order, or select the row for an existing purchase order.</span></span>
3. <span data-ttu-id="91135-273">Ostotilauksesta tai ostotilausriviltä.</span><span class="sxs-lookup"><span data-stu-id="91135-273">From the purchase order or purchase order line.</span></span>
4. <span data-ttu-id="91135-274">Valitse toimintoruudussa **Synkronoi**.</span><span class="sxs-lookup"><span data-stu-id="91135-274">On the Action Pane, select **Sync**.</span></span>

<span data-ttu-id="91135-275">Kaikki Supply Chain Managementin jakamat Dataversen ja Field Servicen sarakkeet synkronoidaan.</span><span class="sxs-lookup"><span data-stu-id="91135-275">All columns from Dataverse and Field Service that are shared by Supply Chain Management are synced.</span></span>

<span data-ttu-id="91135-276">**Synkronoi**-toimintoa käytetään esimerkiksi seuraavissa tilanteissa:</span><span class="sxs-lookup"><span data-stu-id="91135-276">Here are the situations where you might use the **Sync** function:</span></span>

- <span data-ttu-id="91135-277">Jos samalle Dataversen riville tehdään useita peräkkäisiä muutoksia, suorita **Synkronoi**-toiminto.</span><span class="sxs-lookup"><span data-stu-id="91135-277">If you make multiple successive changes to the same row from Dataverse, run the **Sync** function.</span></span>
- <span data-ttu-id="91135-278">Jos et ole varma, onko muutos toinen peräkkäinen muutos Dataversessa, **Synkronoi**-toiminto kannattaa ehkä suorittaa.</span><span class="sxs-lookup"><span data-stu-id="91135-278">If you aren't sure whether a change might be the second successive change from Dataverse, it might make sense to run the **Sync** function.</span></span>
- <span data-ttu-id="91135-279">Jos Supply Chain Managementin arvon päivittämisestä annetaan virhesanoma, suorita **Synkronoi**-toiminto ja yritä päivitystä uudelleen Dataversessa.</span><span class="sxs-lookup"><span data-stu-id="91135-279">If you receive an error message about updating a value from Supply Chain Management, run the **Sync** function, and then retry the update in Dataverse.</span></span>

## <a name="cancelling-the-posting-process"></a><span data-ttu-id="91135-280">Kirjausprosessin peruuttaminen</span><span class="sxs-lookup"><span data-stu-id="91135-280">Cancelling the posting process</span></span>

<span data-ttu-id="91135-281">Jos tuotteen vastaanoton kirjausprosessi peruutetaan käsittelyn aikana, kaksoiskirjoitus voi ehkä luoda tuotteen vastaanottorivin Dataversessa mutta ei luo sitä Supply Chain Managementissa.</span><span class="sxs-lookup"><span data-stu-id="91135-281">If the product receipt posting process is cancelled during processing, then dual-write might create a product receipt row in Dataverse, but not create a product receipt row in Supply Chain Management.</span></span> <span data-ttu-id="91135-282">Tämä johtuu siitä, että kaksoiskirjoitus ei tue hajautettuja tapahtumia.</span><span class="sxs-lookup"><span data-stu-id="91135-282">This situation happens because dual-write does not support distributed transactions.</span></span>

## <a name="templates"></a><span data-ttu-id="91135-283">Mallit</span><span class="sxs-lookup"><span data-stu-id="91135-283">Templates</span></span>

<span data-ttu-id="91135-284">Seuraavat malli ovat käytettävissä hankintaan liittyvien asiakirjojen integroinnissa.</span><span class="sxs-lookup"><span data-stu-id="91135-284">The following templates are available for the integration of procurement-related documents.</span></span>

| <span data-ttu-id="91135-285">Toimitusketjun hallinta</span><span class="sxs-lookup"><span data-stu-id="91135-285">Supply Chain Management</span></span> | <span data-ttu-id="91135-286">Field Service</span><span class="sxs-lookup"><span data-stu-id="91135-286">Field Service</span></span> | <span data-ttu-id="91135-287">kuvaus</span><span class="sxs-lookup"><span data-stu-id="91135-287">Description</span></span> |
|---|---|---|
| [<span data-ttu-id="91135-288">Ostotilausotsikko V2</span><span class="sxs-lookup"><span data-stu-id="91135-288">Purchase order header V2</span></span>](mapping-reference.md#183) | <span data-ttu-id="91135-289">msdyn\_Purchaseorders</span><span class="sxs-lookup"><span data-stu-id="91135-289">msdyn\_Purchaseorders</span></span> | <span data-ttu-id="91135-290">Tämä taulukko sisältää ostotilauksen otsikon ilmaisevia sarakkeita.</span><span class="sxs-lookup"><span data-stu-id="91135-290">This table contains the columns that represent the purchase order header.</span></span> |
| [<span data-ttu-id="91135-291">Ostotilausrivin yksikkö</span><span class="sxs-lookup"><span data-stu-id="91135-291">Purchase order line entity</span></span>](mapping-reference.md#181) | <span data-ttu-id="91135-292">msdyn\_PurchaseOrderProducts</span><span class="sxs-lookup"><span data-stu-id="91135-292">msdyn\_PurchaseOrderProducts</span></span> | <span data-ttu-id="91135-293">Tämä taulukko sisältää rivejä, jotka ilmaisevat ostotilauksen rivejä.</span><span class="sxs-lookup"><span data-stu-id="91135-293">This table contains the rows that represent lines on a purchase order.</span></span> <span data-ttu-id="91135-294">Tuotenumeroa käytetään synkronointiin.</span><span class="sxs-lookup"><span data-stu-id="91135-294">The product number is used for synchronization.</span></span> <span data-ttu-id="91135-295">Tämä määrittää tuotteen varastointiyksikkönä, mukaan lukien tuotedimensiot.</span><span class="sxs-lookup"><span data-stu-id="91135-295">This identifies the product as a stock keeping unit (SKU), including product dimensions.</span></span> <span data-ttu-id="91135-296">Lisätietoja tuotteen integroinnista Dataversen kanssa on kohdassa [Yhtenäinen tuotekokemus](product-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="91135-296">For more information about product integration with Dataverse, see [Unified product experience](product-mapping.md).</span></span> |
| [<span data-ttu-id="91135-297">Tuotteen vastaanoton otsikko</span><span class="sxs-lookup"><span data-stu-id="91135-297">Product receipt header</span></span>](mapping-reference.md#185) | <span data-ttu-id="91135-298">msdyn\_purchaseorderreceipts</span><span class="sxs-lookup"><span data-stu-id="91135-298">msdyn\_purchaseorderreceipts</span></span> | <span data-ttu-id="91135-299">Tämä taulukko sisältää tuotteen vastaanoton otsikot, jotka luotiin, kun tuotteen vastaanotto kirjattiin Supply Chain Managementissa.</span><span class="sxs-lookup"><span data-stu-id="91135-299">This table contains the product receipt headers that are created when a product receipt is posted in Supply Chain Management.</span></span> |
| [<span data-ttu-id="91135-300">Tuotteen vastaanottorivi</span><span class="sxs-lookup"><span data-stu-id="91135-300">Product receipt line</span></span>](mapping-reference.md#184) | <span data-ttu-id="91135-301">msdyn\_purchaseorderreceiptproducts</span><span class="sxs-lookup"><span data-stu-id="91135-301">msdyn\_purchaseorderreceiptproducts</span></span> | <span data-ttu-id="91135-302">Tämä taulukko sisältää tuotteen vastaanottorivit, jotka luotiin, kun tuotteen vastaanotto kirjattiin Supply Chain Managementissa.</span><span class="sxs-lookup"><span data-stu-id="91135-302">This table contains the product receipt lines that are created when a product receipt is posted in Supply Chain Management.</span></span> |
| [<span data-ttu-id="91135-303">Ostotilausrivin poistettavaksi merkitty yksikkö</span><span class="sxs-lookup"><span data-stu-id="91135-303">Purchase order line soft deleted entity</span></span>](mapping-reference.md#182) | <span data-ttu-id="91135-304">msdyn\_purchaseorderproducts</span><span class="sxs-lookup"><span data-stu-id="91135-304">msdyn\_purchaseorderproducts</span></span> | <span data-ttu-id="91135-305">Tämä taulukko sisältää tietoja poistettavaksi merkityistä ostotilausriveistä.</span><span class="sxs-lookup"><span data-stu-id="91135-305">This table contains information about purchase order lines that are soft-deleted.</span></span> <span data-ttu-id="91135-306">Supply Chain Managementin ostotilausrivi voi merkitä poistettavaksi vain, kun ostotilaus on vahvistettu tai hyväksytty, jos muutostenhallinta on otettu käyttöön.</span><span class="sxs-lookup"><span data-stu-id="91135-306">A purchase order line in Supply Chain Management can be soft-deleted only when the purchase order has been confirmed or approved, if change management is turned on.</span></span> <span data-ttu-id="91135-307">Rivi on Supply Chain Management -tietokannassa ja sen merkintänä on **IsDeleted**.</span><span class="sxs-lookup"><span data-stu-id="91135-307">The row exists in the Supply Chain Management database and is marked as **IsDeleted**.</span></span> <span data-ttu-id="91135-308">Koska Dataverse ei sisällä poistamisen merkintäkäsitettä, on tärkeää, että nämä tiedot synkronoidaan Dataverseen.</span><span class="sxs-lookup"><span data-stu-id="91135-308">Because Dataverse doesn't have a concept of soft-deletion, it's important that this information be synced to Dataverse.</span></span> <span data-ttu-id="91135-309">Tällä tavoin Supply Chain Managementissa poistettavaksi merkityt rivit voidaan poistaa automaattisesti Dataversesta.</span><span class="sxs-lookup"><span data-stu-id="91135-309">In this way, lines that are soft-deleted in Supply Chain Management can automatically be deleted from Dataverse.</span></span> <span data-ttu-id="91135-310">Tässä tapauksessa Dataversen rivin poistamislogiikka sijaitsee Supply Chain Management Extendedissä.</span><span class="sxs-lookup"><span data-stu-id="91135-310">In this case, the logic for deleting a line in Dataverse is located in Supply Chain Management Extended.</span></span> |

[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]
