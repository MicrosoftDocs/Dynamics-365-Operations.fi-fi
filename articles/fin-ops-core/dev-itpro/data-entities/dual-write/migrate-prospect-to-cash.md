---
title: Prospektista käteiseksi -tietojen siirtäminen tietojen integrointiohjelmasta kaksoiskirjoitukseen
description: Tässä aiheessa käsitellään Prospektista käteiseksi -tietojen siirtämistä tietojen integrointiohjelmasta kaksoiskirjoitukseen.
author: RamaKrishnamoorthy
ms.date: 01/04/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: rhaertle
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: ramasri
ms.dyn365.ops.version: ''
ms.search.validFrom: 2021-01-04
ms.openlocfilehash: f6758fe366c2ea59dc75be2f1070650eb5c2f9fc
ms.sourcegitcommit: 074b6e212d19dd5d84881d1cdd096611a18c207f
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 03/31/2021
ms.locfileid: "5750857"
---
# <a name="migrate-prospect-to-cash-data-from-data-integrator-to-dual-write"></a><span data-ttu-id="ffd58-103">Prospektista käteiseksi -tietojen siirtäminen tietojen integrointiohjelmasta kaksoiskirjoitukseen</span><span class="sxs-lookup"><span data-stu-id="ffd58-103">Migrate Prospect to cash data from Data Integrator to dual-write</span></span>

[!include [banner](../../includes/banner.md)]

<span data-ttu-id="ffd58-104">Prospektista käteiseksi -tiedot siirretään tietojen integrointiohjelmasta kaksoiskirjoitukseen seuraavien ohjeiden mukaisesti.</span><span class="sxs-lookup"><span data-stu-id="ffd58-104">To migrate your Prospect to cash data from Data Integrator to dual-write, follow these steps.</span></span>

1. <span data-ttu-id="ffd58-105">Tee viimeinen täydellinen synkronointi suorittamalla tietojen integrointiohjelman Prospektista käteiseksi -työt.</span><span class="sxs-lookup"><span data-stu-id="ffd58-105">Run the Prospect to cash Data Integrator jobs to do one final full synchronization.</span></span> <span data-ttu-id="ffd58-106">Tällä tavoin varmistetaan, että molemmissa järjestelmissä (Finance and Operations -sovelluksissa ja asiakkaiden aktivointisovelluksissa) on kaikki tiedot.</span><span class="sxs-lookup"><span data-stu-id="ffd58-106">In this way, you ensure that both systems (Finance and Operations apps and customer engagement apps) have all the data.</span></span>
2. <span data-ttu-id="ffd58-107">Mahdolliset tietohävikit estetään viemällä Prospektista käteiseksi -tiedot Microsoft Dynamics 365 Salesista Excel-tiedostoon tai CSV-tiedostoon.</span><span class="sxs-lookup"><span data-stu-id="ffd58-107">To help prevent potential data loss, export the Prospect to cash data from Microsoft Dynamics 365 Sales to an Excel file or a comma-separated values (CSV) file.</span></span> <span data-ttu-id="ffd58-108">Vie seuraavien entiteettien tiedot:</span><span class="sxs-lookup"><span data-stu-id="ffd58-108">Export data from the following entities:</span></span>

    - [<span data-ttu-id="ffd58-109">Tili</span><span class="sxs-lookup"><span data-stu-id="ffd58-109">Account</span></span>](#account-table)
    - [<span data-ttu-id="ffd58-110">Kontakti</span><span class="sxs-lookup"><span data-stu-id="ffd58-110">Contact</span></span>](#contact-table)
    - [<span data-ttu-id="ffd58-111">Lasku</span><span class="sxs-lookup"><span data-stu-id="ffd58-111">Invoice</span></span>](#invoice-table)
    - <span data-ttu-id="ffd58-112">Laskutustuotteet</span><span class="sxs-lookup"><span data-stu-id="ffd58-112">Invoice products</span></span>
    - [<span data-ttu-id="ffd58-113">Tilaus</span><span class="sxs-lookup"><span data-stu-id="ffd58-113">Order</span></span>](#order-table)
    - [<span data-ttu-id="ffd58-114">Tilauksen tuotteet</span><span class="sxs-lookup"><span data-stu-id="ffd58-114">Order products</span></span>](#order-products-table)
    - [<span data-ttu-id="ffd58-115">Tuotteet</span><span class="sxs-lookup"><span data-stu-id="ffd58-115">Products</span></span>](#products-table)
    - [<span data-ttu-id="ffd58-116">Tarjous</span><span class="sxs-lookup"><span data-stu-id="ffd58-116">Quote</span></span>](#quote-and-quote-product-tables)
    - [<span data-ttu-id="ffd58-117">Tarjoustuotteet</span><span class="sxs-lookup"><span data-stu-id="ffd58-117">Quote products</span></span>](#quote-and-quote-product-tables)

3. <span data-ttu-id="ffd58-118">Poista Prospektista käteiseksi -ratkaisun asennus Sales-ympäristöstä.</span><span class="sxs-lookup"><span data-stu-id="ffd58-118">Uninstall the Prospect to cash solution from the Sales environment.</span></span> <span data-ttu-id="ffd58-119">Tämä vaihe poistaa sarakkeet ja vastaavat tiedot, jotka Prospektista käteiseksi -ratkaisu otti käyttöön.</span><span class="sxs-lookup"><span data-stu-id="ffd58-119">This step removes the columns and corresponding data that the Prospect to cash solution introduced.</span></span>
4. <span data-ttu-id="ffd58-120">Asenna kaksoiskirjoitusratkaisu.</span><span class="sxs-lookup"><span data-stu-id="ffd58-120">Install the dual-write solution.</span></span>
5. <span data-ttu-id="ffd58-121">Luo kaksoiskirjoitusyhteys Finance and Operations -sovelluksen ja asiakkaan aktivointisovelluksen välille vähintään yhdessä yrityksessä.</span><span class="sxs-lookup"><span data-stu-id="ffd58-121">Create a dual-write connection between the Finance and Operations app and the customer engagement app for one or more legal entities.</span></span>
6. <span data-ttu-id="ffd58-122">Ota kaksoiskirjoituksen taulujen yhdistämismääritykset käyttöön ja suorita tarvittavien viitetietojen ensimmäinen synkronointi.</span><span class="sxs-lookup"><span data-stu-id="ffd58-122">Enable dual-write table maps, and run the initial synchronization for the required reference data.</span></span> <span data-ttu-id="ffd58-123">(Lisätietoja on kohdassa [Alustavaa synkronointia koskevia huomautuksia](initial-sync-guidance.md).) Pakollisia tietoja ovat esimerkiksi asiakasryhmät, maksuehdot ja maksuaikataulut.</span><span class="sxs-lookup"><span data-stu-id="ffd58-123">(For more information, see [Considerations for initial synchronization](initial-sync-guidance.md).) Examples of required data include customer groups, payment terms, and payment schedules.</span></span> <span data-ttu-id="ffd58-124">Älä ota kaksoiskirjoituksen yhdistämismäärityksiä käyttöön tauluissa, jotka on alustettava. Tällaisia tauluja ovat esimerkiksi tili, tarjous, tarjousrivi, tilaus ja tilausrivi.</span><span class="sxs-lookup"><span data-stu-id="ffd58-124">Don't enable the dual-write maps for tables that require initialization, such as the account, quote, quote line, order, and order line tables.</span></span>
7. <span data-ttu-id="ffd58-125">Valitse asiakkaan aktivointisovelluksessa **Lisäsetukset \> Järjestelmäasetukset \> Tietojen hallinta \> Kaksoiskappaleiden tunnistussäännöt** ja poista kaikki säännöt käytöstä.</span><span class="sxs-lookup"><span data-stu-id="ffd58-125">In the customer engagement app, go to **Advanced Settings \> System Settings \> Data Management \> Duplicate detection rules**, and disable all the rules.</span></span>
8. <span data-ttu-id="ffd58-126">Alusta vaiheessa 2 mainitut taulut.</span><span class="sxs-lookup"><span data-stu-id="ffd58-126">Initialize the tables that are listed in step 2.</span></span> <span data-ttu-id="ffd58-127">Lisätietoja on jäljempänä tässä aiheessa.</span><span class="sxs-lookup"><span data-stu-id="ffd58-127">For instructions, see the remaining sections of this topic.</span></span>
9. <span data-ttu-id="ffd58-128">Avaa Finance and Operations -sovellus ja ota käyttöön taulujen yhdistämismääritykset, kuten tilin, tarjouksen, tarjousrivin, tilauksen ja tilausrivin taulujen yhdistämismääritykset.</span><span class="sxs-lookup"><span data-stu-id="ffd58-128">Open the Finance and Operations app, and enable the table maps, such as the account, quote, quote line, order, and order line table maps.</span></span> <span data-ttu-id="ffd58-129">Suorita sitten ensimmäinen synkronointi.</span><span class="sxs-lookup"><span data-stu-id="ffd58-129">Then run the initial synchronization.</span></span> <span data-ttu-id="ffd58-130">(Lisätietoja on kohdassa [Alustavaa synkronointia koskevia huomautuksia](initial-sync-guidance.md).) Tämä prosessi synkronoi Finance and Operations -sovelluksen lisätiedot, kuten käsittelyn tilan, toimitus- ja laskutusosoitteet, toimipaikat ja varastot.</span><span class="sxs-lookup"><span data-stu-id="ffd58-130">(For more information, see [Considerations for initial synchronization](initial-sync-guidance.md).) This process will sync additional information from the Finance and Operations app, such as processing status, shipping and billing addresses, sites, and warehouses.</span></span>

## <a name="account-table"></a><span data-ttu-id="ffd58-131">Tilitaulu</span><span class="sxs-lookup"><span data-stu-id="ffd58-131">Account table</span></span>

1. <span data-ttu-id="ffd58-132">Anna yrityksen nimi, kuten **USMF**, **Yritys**-sarakkeessa.</span><span class="sxs-lookup"><span data-stu-id="ffd58-132">In the **Company** column, enter the company name, such as **USMF**.</span></span>
2. <span data-ttu-id="ffd58-133">Anna **Asiakas** staattisen arvona **Suhteen tyyppi** -sarakkeessa.</span><span class="sxs-lookup"><span data-stu-id="ffd58-133">In the **Relationship Type** column, enter **Customer** as a static value.</span></span> <span data-ttu-id="ffd58-134">Jokaista tilityyppiä ei ehkä kannata luokitella asiakkaaksi liiketoimintalogiikassa.</span><span class="sxs-lookup"><span data-stu-id="ffd58-134">You might not want to classify every account record as a customer in your business logic.</span></span>
3. <span data-ttu-id="ffd58-135">Anna **Asiakasryhmän tunnus** -sarakkeessa asiakasryhmän numero Finance and Operations -sovelluksesta.</span><span class="sxs-lookup"><span data-stu-id="ffd58-135">In the **Customer Group ID** column, enter the customer group number from the Finance and Operations app.</span></span> <span data-ttu-id="ffd58-136">Prospektista käteiseksi -ratkaisun oletusarvo on **10**.</span><span class="sxs-lookup"><span data-stu-id="ffd58-136">The default value from the Prospect to cash solution is **10**.</span></span>
4. <span data-ttu-id="ffd58-137">Jos käytössä on Prospektista käteiseksi -ratkaisua, jossa **asiakasnumeroa** ei ole mukautettu, anna **Asiakasnumero**-arvon **Osapuolinumero**-sarakkeessa.</span><span class="sxs-lookup"><span data-stu-id="ffd58-137">If you're using the Prospect to cash solution without any customization of **Account Number**, enter an **Account Number** value in the **Party Number** column.</span></span> <span data-ttu-id="ffd58-138">Jos mukautuksia on tehty etkä tiedä osapuolinumeroa, nouda tämä tieto Finance and Operations -sovelluksesta.</span><span class="sxs-lookup"><span data-stu-id="ffd58-138">If there are customizations, and you don't know the party number, pull this information from the Finance and Operations app.</span></span>

## <a name="contact-table"></a><span data-ttu-id="ffd58-139">Yhteyshenkilötaulu</span><span class="sxs-lookup"><span data-stu-id="ffd58-139">Contact table</span></span>

1. <span data-ttu-id="ffd58-140">Anna yrityksen nimi, kuten **USMF**, **Yritys**-sarakkeessa.</span><span class="sxs-lookup"><span data-stu-id="ffd58-140">In the **Company** column, enter the company name, such as **USMF**.</span></span>
2. <span data-ttu-id="ffd58-141">Määritä seuraavat sarakkeet CSV-tiedoston **IsActiveCustomer**-arvon perusteella:</span><span class="sxs-lookup"><span data-stu-id="ffd58-141">Set the following columns, based on the **IsActiveCustomer** value in the CSV file:</span></span>

    - <span data-ttu-id="ffd58-142">Jos **IsActiveCustomer**-arvoksi on CSV-tiedostossa määritetty **Kyllä**, määritä **Myytävissä**-sarakkeen arvoksi **Kyllä**.</span><span class="sxs-lookup"><span data-stu-id="ffd58-142">If **IsActiveCustomer** is set to **Yes** in the CSV file, set the **Sellable** column to **Yes**.</span></span> <span data-ttu-id="ffd58-143">Anna **Asiakasryhmän tunnus** -sarakkeessa asiakasryhmän numero Finance and Operations -sovelluksesta.</span><span class="sxs-lookup"><span data-stu-id="ffd58-143">In the **Customer Group ID** column, enter the customer group number from the Finance and Operations app.</span></span> <span data-ttu-id="ffd58-144">Prospektista käteiseksi -ratkaisun oletusarvo on **10**.</span><span class="sxs-lookup"><span data-stu-id="ffd58-144">The default value from the Prospect to cash solution is **10**.</span></span>
    - <span data-ttu-id="ffd58-145">Jos **IsActiveCustomer**-arvoksi on CSV-tiedostossa määritetty **Ei**, määritä **Myytävissä**-sarakkeen arvoksi **Ei** ja **Yhteyshenkilö kohteelle** -sarakkeen arvoksi **Asiakas**.</span><span class="sxs-lookup"><span data-stu-id="ffd58-145">If **IsActiveCustomer** is set to **No** in the CSV file, set the **Sellable** column to **No**, and set the **Contact For** column to **Customer**.</span></span>

3. <span data-ttu-id="ffd58-146">Jos käytössä Prospektista käteiseksi -ratkaisu, jossa **yhteyshenkilön numeroa** ei ole mukautettu, määritä seuraavat sarakkeet:</span><span class="sxs-lookup"><span data-stu-id="ffd58-146">If you're using the Prospect to cash solution without any customization of **Contact Number**, set the following columns:</span></span>

    - <span data-ttu-id="ffd58-147">Siirrä yhteyshenkilön numero CSV-tiedostosta (**msdynce\_contactnumber**) **Yhteyshenkilö**-taulun yhteyshenkilön numeroon (**msdyn \_contactnumber**).</span><span class="sxs-lookup"><span data-stu-id="ffd58-147">Migrate the contact number from the CSV file (**msdynce\_contactnumber**) to the contact number in the **Contact** table (**msdyn\_contactnumber**).</span></span>
    - <span data-ttu-id="ffd58-148">Käytä **Yhteyshenkilön numero** -taulun arvoja **Osapuoli**-sarakkeessa.</span><span class="sxs-lookup"><span data-stu-id="ffd58-148">Use values from the **Contact Number** table in the **Party Number** column.</span></span>
    - <span data-ttu-id="ffd58-149">Käytä **Yhteyshenkilön numero** -taulun arvoja **Tilinumero tai yhteyshenkilön tunnus** -sarakkeessa.</span><span class="sxs-lookup"><span data-stu-id="ffd58-149">Use values from the **Contact Number** table in the **Account Number/Contact Person ID** column.</span></span>

## <a name="invoice-table"></a><span data-ttu-id="ffd58-150">Laskutaulu</span><span class="sxs-lookup"><span data-stu-id="ffd58-150">Invoice table</span></span>

<span data-ttu-id="ffd58-151">Koska **Lasku**-taulun tiedot on suunniteltu siirtymään vain yhteen suuntaan, Finance and Operations -sovelluksesta asiakkaan aktivointisovellukseen, alustusta ei tarvita.</span><span class="sxs-lookup"><span data-stu-id="ffd58-151">Because data from the **Invoice** table is designed to flow one way, from the Finance and Operations app to the customer engagement app, initialization isn't required.</span></span> <span data-ttu-id="ffd58-152">Ensimmäisen synkronoinnin suorittaminen siirtää kaikki tarvittavat tiedot Finance and Operations -sovelluksesta asiakkaan aktivointisovellukseen.</span><span class="sxs-lookup"><span data-stu-id="ffd58-152">Run the initial synchronization to migrate all the required data from the Finance and Operations app to the customer engagement app.</span></span> <span data-ttu-id="ffd58-153">Lisätietoja on kohdassa [Alustavaa synkronointia koskevia huomautuksia](initial-sync-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="ffd58-153">For more information, see [Considerations for initial synchronization](initial-sync-guidance.md).</span></span>

## <a name="order-table"></a><span data-ttu-id="ffd58-154">Tilaustaulu</span><span class="sxs-lookup"><span data-stu-id="ffd58-154">Order table</span></span>

1. <span data-ttu-id="ffd58-155">Anna yrityksen nimi, kuten **USMF**, **Yritys**-sarakkeessa.</span><span class="sxs-lookup"><span data-stu-id="ffd58-155">In the **Company** column, enter the company name, such as **USMF**.</span></span>
2. <span data-ttu-id="ffd58-156">Kopioi CSV-tiedoston **Tilaustunnus**-sarakkeen arvo **Myyntitilausnumero**-sarakkeeseen.</span><span class="sxs-lookup"><span data-stu-id="ffd58-156">Copy the value of the **Order ID** column in the CSV file to the **Sales Order Number** column.</span></span>
3. <span data-ttu-id="ffd58-157">Kopioi CSV-tiedoston **Asiakas**-sarakkeen arvo **Laskutusasiakkaan numero**-sarakkeeseen.</span><span class="sxs-lookup"><span data-stu-id="ffd58-157">Copy the value of the **Customer** column in the CSV file to the **Invoice customer number** column.</span></span>
4. <span data-ttu-id="ffd58-158">Kopioi CSV-tiedoston **Toimitusasiakkaan maa tai alue** -sarakkeen arvo **Toimitusasiakkaan maa tai alue** -sarakkeeseen.</span><span class="sxs-lookup"><span data-stu-id="ffd58-158">Copy the value of the **Ship To Country/Region** column in the CSV file to the **Ship To Country/Region** column.</span></span> <span data-ttu-id="ffd58-159">Tällainen arvo on esimerkiksi **USA** ja **Yhdysvallat**.</span><span class="sxs-lookup"><span data-stu-id="ffd58-159">Examples of this value include **US** and **United States**.</span></span>
5. <span data-ttu-id="ffd58-160">Määritä **Pyydetty vastaanottopäivämäärä** -sarake.</span><span class="sxs-lookup"><span data-stu-id="ffd58-160">Set the **Requested Receipt Date** column.</span></span> <span data-ttu-id="ffd58-161">Jos vastaanottopäivämäärä ei ole käytössä, käytä CSV-tiedoston **Pyydetty toimituspäivämäärä**-, **Toteutuspäivä**- ja **Lähetyspäivämäärä**-sarakkeita.</span><span class="sxs-lookup"><span data-stu-id="ffd58-161">If you aren't using a receipt date, use the **Requested Delivery Date**, **Date Fulfilled**, and **Date Submitted** columns in the CSV file.</span></span> <span data-ttu-id="ffd58-162">Tällainen arvo on esimerkiksi **2020-03-27T00:00:00Z**.</span><span class="sxs-lookup"><span data-stu-id="ffd58-162">An example of this value is **2020-03-27T00:00:00Z**.</span></span>
6. <span data-ttu-id="ffd58-163">Määritä **Kieli**-sarake.</span><span class="sxs-lookup"><span data-stu-id="ffd58-163">Set the **Language** column.</span></span> <span data-ttu-id="ffd58-164">Tällainen arvo on esimerkiksi **en-us**.</span><span class="sxs-lookup"><span data-stu-id="ffd58-164">An example of this value is **en-us**.</span></span>
7. <span data-ttu-id="ffd58-165">Määritä **Tilauksen tyyppi** -sarake käyttämällä **Nimikeperusteinen**-saraketta.</span><span class="sxs-lookup"><span data-stu-id="ffd58-165">Set the **Order Type** column by using the **Item-based** column.</span></span>

## <a name="order-products-table"></a><span data-ttu-id="ffd58-166">Tilaustuotteet-taulu</span><span class="sxs-lookup"><span data-stu-id="ffd58-166">Order products table</span></span>

- <span data-ttu-id="ffd58-167">Anna yrityksen nimi, kuten **USMF**, **Yritys**-sarakkeessa.</span><span class="sxs-lookup"><span data-stu-id="ffd58-167">In the **Company** column, enter the company name, such as **USMF**.</span></span>

## <a name="products-table"></a><span data-ttu-id="ffd58-168">Tuotteet-taulu</span><span class="sxs-lookup"><span data-stu-id="ffd58-168">Products table</span></span>

<span data-ttu-id="ffd58-169">Koska **Tuotteet**-taulun tiedot on suunniteltu siirtymään vain yhteen suuntaan, Finance and Operations -sovelluksesta asiakkaan aktivointisovellukseen, alustusta ei tarvita.</span><span class="sxs-lookup"><span data-stu-id="ffd58-169">Because data from the **Products** table is designed to flow one way, from the Finance and Operations app to the customer engagement app, initialization isn't required.</span></span> <span data-ttu-id="ffd58-170">Ensimmäisen synkronoinnin suorittaminen siirtää kaikki tarvittavat tiedot Finance and Operations -sovelluksesta asiakkaan aktivointisovellukseen.</span><span class="sxs-lookup"><span data-stu-id="ffd58-170">Run the initial synchronization to migrate all the required data from the Finance and Operations app to the customer engagement app.</span></span> <span data-ttu-id="ffd58-171">Lisätietoja on kohdassa [Alustavaa synkronointia koskevia huomautuksia](initial-sync-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="ffd58-171">For more information, see [Considerations for initial synchronization](initial-sync-guidance.md).</span></span>

## <a name="quote-and-quote-product-tables"></a><span data-ttu-id="ffd58-172">Tarjous- ja tarjoustuotetaulut</span><span class="sxs-lookup"><span data-stu-id="ffd58-172">Quote and Quote product tables</span></span>

<span data-ttu-id="ffd58-173">Käytä **Tarjous**-taulun osalta tämän aiheen aiemmassa [Tilaustaulu](#order-table)-kohdassa annettuja ohjeita.</span><span class="sxs-lookup"><span data-stu-id="ffd58-173">For the **Quote** table, follow the instructions in the [Order table](#order-table) section earlier in this topic.</span></span> <span data-ttu-id="ffd58-174">Käytä **Tarjoustuote**-taulun osalta [Tilaustuotteet-taulu](#order-products-table)-kohdassa annettuja ohjeita.</span><span class="sxs-lookup"><span data-stu-id="ffd58-174">For the **Quote product** table, follow the instructions in the [Order products table](#order-products-table) section.</span></span>


[!INCLUDE[footer-include](../../../../includes/footer-banner.md)]