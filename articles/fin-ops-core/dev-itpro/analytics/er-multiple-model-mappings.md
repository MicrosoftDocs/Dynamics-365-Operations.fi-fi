---
title: Yhtä mallin juurta koskevien useiden johdettujen yhdistämismääritysten hallinta
description: Tässä aiheessa käsitellään yhdelle mallin juurelle määritettyjen useiden johdettujen yhdistämismääritysten hallintaa.
author: NickSelin
manager: AnnBe
ms.date: 01/04/2021
ms.topic: business-process
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, ERModelMappingTable
audience: Application User
ms.reviewer: kfend
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.openlocfilehash: bb4fcda42361b0f14e37027d21739dfc42b44cb1
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 03/09/2021
ms.locfileid: "5565488"
---
# <a name="manage-several-derived-mappings-for-a-single-model-root"></a><span data-ttu-id="e5c60-103">Yhtä mallin juurta koskevien useiden johdettujen yhdistämismääritysten hallinta</span><span class="sxs-lookup"><span data-stu-id="e5c60-103">Manage several derived mappings for a single model root</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="e5c60-104">[Sähköisen raportoinnin (ER)](general-electronic-reporting.md) [tietomalli](general-electronic-reporting.md#data-model-and-model-mapping-components) on osa, jota käytetään jokaisessa määritetyssä ER-[muodon](general-electronic-reporting.md#FormatComponentOutbound) osassa tietolähteenä lähteviä asiakirjoja luotaessa.</span><span class="sxs-lookup"><span data-stu-id="e5c60-104">An [Electronic reporting (ER)](general-electronic-reporting.md) data [model](general-electronic-reporting.md#data-model-and-model-mapping-components) component is used in every configured ER [format](general-electronic-reporting.md#FormatComponentOutbound) component as the data source to generate outbound documents.</span></span> <span data-ttu-id="e5c60-105">Yksittäisen liiketoiminta-alueen kuvaamista varten määritetään useita juurimääritelmiä sisältävä tietomalliosa.</span><span class="sxs-lookup"><span data-stu-id="e5c60-105">To describe a single business domain, configure a data model component that has many root definitions.</span></span> 

<span data-ttu-id="e5c60-106">Kussakin juurimääritelmässä kyseisen toimialueen tiedot voidaan ilmaista tiettyihin raportointitarkoituksiin parhaiten soveltuvalla tavalla.</span><span class="sxs-lookup"><span data-stu-id="e5c60-106">Every root definition lets you represent data of that domain in the way that is best suited to specific reporting purposes.</span></span> <span data-ttu-id="e5c60-107">Jokaiselle juurimääritelmälle voidaan määrittää ER-[mallin yhdistämismäärityksen](general-electronic-reporting.md#data-model-and-model-mapping-components) osa tietomallin Microsoft Dynamics 365 Financea koskevana toteutuksena.</span><span class="sxs-lookup"><span data-stu-id="e5c60-107">For every root definition, you can configure an ER [model mapping](general-electronic-reporting.md#data-model-and-model-mapping-components) component as the Microsoft Dynamics 365 Finance–specific implementation of your data model.</span></span> <span data-ttu-id="e5c60-108">Tällä tavoin voidaan kuvata, miten tietomalli täytetään suorituksen aikana.</span><span class="sxs-lookup"><span data-stu-id="e5c60-108">In this way, you describe how your data model will be filled in at runtime.</span></span>

<span data-ttu-id="e5c60-109">ER-mallin yhdistämismääritysosat voivat sijaita ER-tietomallin [määrityksissä](general-electronic-reporting.md#Configuration) ja ER-mallin yhdistämismäärityksissä.</span><span class="sxs-lookup"><span data-stu-id="e5c60-109">ER model mapping components can reside in ER data model [configurations](general-electronic-reporting.md#Configuration) and ER model mapping configurations.</span></span> <span data-ttu-id="e5c60-110">Yhdessä ER-määrityksessä voi olla useita yhdistämismääritysosia, joista kukin on määritetty tiettyä juurimääritelmää varten.</span><span class="sxs-lookup"><span data-stu-id="e5c60-110">A single ER configuration can contain many mapping components, each of which is configured for a single root definition.</span></span> <span data-ttu-id="e5c60-111">Vaihtoehtoisesti yhdessä ER-määrityksessä voi olla vain yksi yhdistämismääritysosa, joka on määritetty yhtä juurimääritelmää varten.</span><span class="sxs-lookup"><span data-stu-id="e5c60-111">Alternatively, a single ER configuration can contain just one mapping component that is configured for a single root definition.</span></span>

<span data-ttu-id="e5c60-112">Monilla määrityspalveluilla voi olla saman ER-tietomallin ER-mallin yhdistämismäärityksiä.</span><span class="sxs-lookup"><span data-stu-id="e5c60-112">Many configuration providers might offer ER model mapping configurations for the same ER data model.</span></span> <span data-ttu-id="e5c60-113">Kyseisissä mallin yhdistämismäärityksissä voi olla eri juurimääritelmien yhdistämismääritysosia.</span><span class="sxs-lookup"><span data-stu-id="e5c60-113">Those model mapping configurations might contain mapping components for different root definitions.</span></span> <span data-ttu-id="e5c60-114">Yhden [palvelun](general-electronic-reporting.md#Provider) tarjoamaa mallin yhdistämismääritystä on mahdollista käyttää yhdessä juurimääritelmässä ja toisen palvelun tarjoamaa mallin yhdistämismääritelmää toisessa juurimääritelmässä.</span><span class="sxs-lookup"><span data-stu-id="e5c60-114">You might use a model mapping for one root definition that is offered by one [provider](general-electronic-reporting.md#Provider) and use a model mapping for another root definition that is offered by another provider.</span></span>

<span data-ttu-id="e5c60-115">Tässä aiheessa käsitellään menettelyjä, joilla hallitaan ER-tietomallin useita ER-mallin yhdistämismäärityksiä, kun niissä on erilaisia samalle juurimääritelmälle määritettyjä mallin yhdistämismääritysosia.</span><span class="sxs-lookup"><span data-stu-id="e5c60-115">The procedures in this topic explain how to manage multiple ER model mapping configurations of an ER data model when they contain different model mapping components configured for the same root definition.</span></span> 

<span data-ttu-id="e5c60-116">Tässä aiheessa käsiteltyjen menetelmien suorittaminen edellyttää, että käyttäjälle on määritetty järjestelmänvalvojan tai sähköisen raportoinnin kehittäjän rooli.</span><span class="sxs-lookup"><span data-stu-id="e5c60-116">To complete the procedures in this topic, you must be assigned to the System administrator or Electronic reporting developer role.</span></span>

<span data-ttu-id="e5c60-117">Kaikkia seuraavia menetelmiä voidaan käyttää USMF-yrityksessä.</span><span class="sxs-lookup"><span data-stu-id="e5c60-117">All the following procedures can be done in the USMF company.</span></span> <span data-ttu-id="e5c60-118">Koodausta ei tarvita.</span><span class="sxs-lookup"><span data-stu-id="e5c60-118">No coding is required.</span></span>

## <a name="configure-the-er-framework"></a><span data-ttu-id="e5c60-119">Määritä ER-kehys</span><span class="sxs-lookup"><span data-stu-id="e5c60-119">Configure the ER framework</span></span>

<span data-ttu-id="e5c60-120">Jos käyttäjällä on sähköisen raportoinnin kehittäjän rooli, liiketoiminta-asiakirjojen luominen ER-kehystä käyttämällä edellyttää sähköisen raportoinnin [parametrien vähimmäisjoukon](er-quick-start2-customize-report.md#ConfigureFramework) määrittämistä.</span><span class="sxs-lookup"><span data-stu-id="e5c60-120">As a user in the Electronic reporting developer role, [configure the minimal set](er-quick-start2-customize-report.md#ConfigureFramework) of ER parameters before you use the ER framework to generate business documents.</span></span>

## <a name="import-the-standard-er-format-configurations"></a><span data-ttu-id="e5c60-121">Tuo ER-muodon vakiokonfiguraatiot</span><span class="sxs-lookup"><span data-stu-id="e5c60-121">Import the standard ER format configurations</span></span>

<span data-ttu-id="e5c60-122">ER-vakiomääritys voidaan lisätä Financen nykyiseen esiintymään tuomalla ne kyseiselle esiintymällä määritetystä ER-säilöstä.</span><span class="sxs-lookup"><span data-stu-id="e5c60-122">To add the standard ER configurations to your current instance of Finance, you must import them from the ER repository that was configured for that instance.</span></span> <span data-ttu-id="e5c60-123">Tuo seuraavat ER-muotomääritykset noudattamalla kohdassa [ER-määritysten lataaminen määrityspalvelun yleisestä säilöstä](er-download-configurations-global-repo.md) olevia ohjeita:</span><span class="sxs-lookup"><span data-stu-id="e5c60-123">Follow the steps in [Download ER configurations from the Global repository of Configuration service](er-download-configurations-global-repo.md) to import the following ER format configurations:</span></span>

- <span data-ttu-id="e5c60-124">**Vapaatekstilasku (Excel)**, versio 220.106</span><span class="sxs-lookup"><span data-stu-id="e5c60-124">**Free text invoice (Excel)**, version 220.106</span></span>
- <span data-ttu-id="e5c60-125">**Projektilasku (Excel)**, versio 226.27</span><span class="sxs-lookup"><span data-stu-id="e5c60-125">**Project invoice (Excel)**, version 226.27</span></span>

## <a name="review-the-imported-er-configurations"></a><span data-ttu-id="e5c60-126">Tarkista tuodut ER-konfiguraatiot</span><span class="sxs-lookup"><span data-stu-id="e5c60-126">Review the imported ER configurations</span></span>

1. <span data-ttu-id="e5c60-127">Valitse **Organisaation hallinto** \> **Työtilat** \> **Sähköinen raportointi**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-127">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="e5c60-128">Valitse **Lokalisointimääritykset**-sivun **Konfiguroinnit**-osassa **Raportointimääritykset**-ruutu.</span><span class="sxs-lookup"><span data-stu-id="e5c60-128">On the **Localization configurations** page, in the **Configurations** section, select the **Reporting configurations** tile.</span></span>
3. <span data-ttu-id="e5c60-129">Laajenna **Konfiguraatiot**-sivun määrityspuun vasemmassa ruudussa **Laskumalli**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-129">On the **Configurations** page, in the configuration tree in the left pane, expand **Invoice model**.</span></span>

    ![Konfiguraatiot-sivun tuotujen määritysten tarkastelu](./media/er-multiple-model-mappings-image1.png)

4. <span data-ttu-id="e5c60-131">**Vapaatekstilasku (Excel)** -muodon tarkastelu:</span><span class="sxs-lookup"><span data-stu-id="e5c60-131">Review the **Free text invoice (Excel)** format:</span></span>

    1. <span data-ttu-id="e5c60-132">Valitse vasemman ruudun määrityspuussa **Vapaatekstilasku (Excel)**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-132">In the configuration tree in the left pane, select **Free text invoice (Excel)**.</span></span>
    2. <span data-ttu-id="e5c60-133">Valitse toimintoruudussa **Suunnittelija**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-133">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="e5c60-134">Valitse **Muodon suunnittelija** -sivun **Yhdistämismääritys**-välilehden tietolähdeluettelossa **Malli**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-134">On the **Format designer** page, on the **Mapping** tab, in the data sources list, select **Model**.</span></span>
    4. <span data-ttu-id="e5c60-135">Valitse **Näytä**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-135">Select **View**.</span></span>
    
       <span data-ttu-id="e5c60-136">Nykyinen ER-muoto on määritetty käyttämään **laskumallin** **InvoiceCustomer**-juurimääritelmää.</span><span class="sxs-lookup"><span data-stu-id="e5c60-136">Thecurrent ER format is configured to use the **InvoiceCustomer** root definition of **Invoice model**.</span></span> <span data-ttu-id="e5c60-137">Kun tämä muoto suoritetaan, **Malli**-tietolähde kutsutaan, **InvoiceCustomer**-juurimääritelmälle määritetyn mallin yhdistämismäärityksen avulla käytetään sovelluksen tietoja ja täytetään tietomalli.</span><span class="sxs-lookup"><span data-stu-id="e5c60-137">When this format is run, and the **Model** data source is called, the model mapping that is configured for the **InvoiceCustomer** root definition is used to access application data and fill in the data model.</span></span>

        ![Mallin tietolähteen tarkastelu Muodon suunnittelija -sivulla](./media/er-multiple-model-mappings-image2.png)

    6. <span data-ttu-id="e5c60-139">Sulje **Muodon suunnittelija** -sivu.</span><span class="sxs-lookup"><span data-stu-id="e5c60-139">Close the **Format designer** page.</span></span>

5. <span data-ttu-id="e5c60-140">**Laskumallin yhdistämismääritys** -määrityksen sisällön tarkasteleminen:</span><span class="sxs-lookup"><span data-stu-id="e5c60-140">Review the content of the **Invoice model mapping** configuration:</span></span>

    1. <span data-ttu-id="e5c60-141">Valitse vasemman ruudun määrityspuussa **Laskumallin yhdistämismääritys**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-141">In the configuration tree in the left pane, select **Invoice model mapping**.</span></span>
    2. <span data-ttu-id="e5c60-142">Valitse toimintoruudussa **Suunnittelija**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-142">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="e5c60-143">Huomaa **Yhdistäminen mallista tietolähteeseen** -sivulla, että nykyisessä ER-mallin yhdistämismäärityksessä on useita mallin yhdistämismääritysosia:</span><span class="sxs-lookup"><span data-stu-id="e5c60-143">On the **Model to datasource mapping** page, notice that the current ER model mapping configuration contains several model mapping components:</span></span>

        + <span data-ttu-id="e5c60-144">**Myyntilasku**-mallin yhdistämismääritys on määritetty **laskumallin** **InvoiceCustomer**-juurimääritelmälle.</span><span class="sxs-lookup"><span data-stu-id="e5c60-144">The **Customer Invoice** model mapping is configured for the **InvoiceCustomer** root definition of **Invoice model**.</span></span> <span data-ttu-id="e5c60-145">Niinpä **Vapaatekstilasku (Excel)** -ER-muotoa suoritettaessa tämän ER-määrityksen **Myyntilasku**-mallin yhdistämismääritys voidaan valita käyttämään sovelluksen tietoja ja täyttämään tietomalli.</span><span class="sxs-lookup"><span data-stu-id="e5c60-145">Therefore, when the **Free text invoice (Excel)** ER format is run, the **Customer Invoice** model mapping of this ER configuration can be chosen to access application data and fill in the data model.</span></span>
        + <span data-ttu-id="e5c60-146">**Projektilasku**-mallin yhdistämismääritys on määritetty **laskumallin** **InvoiceProject**-juurimääritelmälle.</span><span class="sxs-lookup"><span data-stu-id="e5c60-146">The **Project Invoice** model mapping is configured for the **InvoiceProject** root definition of **Invoice model**.</span></span> <span data-ttu-id="e5c60-147">Niinpä **Projektilasku (Excel)** -ER-muotoa suoritettaessa tämän ER-määrityksen **Projektilasku**-mallin yhdistämismääritys voidaan valita käyttämään sovelluksen tietoja ja täyttämään tietomalli.</span><span class="sxs-lookup"><span data-stu-id="e5c60-147">Therefore, when the **Project invoice (Excel)** ER format is run, the **Project Invoice** model mapping of this ER configuration can be chosen to access application data and fill in the data model.</span></span>

        ![Laskumallin yhdistämismääritys Yhdistäminen mallista tietolähteeseen -sivulla](./media/er-multiple-model-mappings-image3.png)

    4. <span data-ttu-id="e5c60-149">Sulje **Malli tietolähteen yhdistämismääritystä varten** -sivu.</span><span class="sxs-lookup"><span data-stu-id="e5c60-149">Close the **Model to datasource mapping** page.</span></span>
    5. <span data-ttu-id="e5c60-150">Valitsemalla **Versiot**-pikavälilehdessä **Poista** voidaan poistaa kaikki tämän ER-määrityksen versiot, jotka ovat uudempia kuin versio 240.175.</span><span class="sxs-lookup"><span data-stu-id="e5c60-150">On the **Versions** FastTab, select **Delete** to delete all versions of this ER configuration that are later than version 240.175.</span></span>

6. <span data-ttu-id="e5c60-151">**Projektilaskumallin yhdistämismääritys (RDP)** -määrityksen sisällön tarkasteleminen:</span><span class="sxs-lookup"><span data-stu-id="e5c60-151">Review the content of the **Project invoice model mapping (RDP)** configuration:</span></span>

    1. <span data-ttu-id="e5c60-152">Valitse vasemman ruudun määrityspuussa **Projektilaskumallin yhdistämismääritys (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-152">In the configuration tree in the left pane, select **Project invoice model mapping (RDP)**.</span></span>
    2. <span data-ttu-id="e5c60-153">Valitse toimintoruudussa **Suunnittelija**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-153">On the Action Pane, select **Designer**.</span></span>
    3. <span data-ttu-id="e5c60-154">Huomaa **Yhdistäminen mallista tietolähteeseen** -sivulla, että nykyinen ER-mallin yhdistämismääritys sisältää **InvoiceProject**-mallin yhdistämismäärityksen ja että tämä mallin yhdistämismääritys on määritetty **laskumallin** **InvoiceProject**-juurimääritelmälle.</span><span class="sxs-lookup"><span data-stu-id="e5c60-154">On the **Model to datasource mapping** page, notice that the current ER model mapping configuration contains the **InvoiceProject** model mapping, and that this model mapping is configured for the **InvoiceProject** root definition of **Invoice model**.</span></span> <span data-ttu-id="e5c60-155">Valitse tämän vuoksi **Projektilasku (Excel)** -ER-muotoa suoritettaessa tämän ER-määrityksen **InvoiceProject**-mallin yhdistämismääritys sovelluksen tietojen käyttämistä ja tietomallin täyttämistä varten.</span><span class="sxs-lookup"><span data-stu-id="e5c60-155">When the **Project invoice (Excel)** ER format is run, select the **InvoiceProject** model mapping of this ER configuration to access application data and fill in the data model.</span></span>

        ![Projektilaskumallin yhdistämismääritys Yhdistäminen mallista tietolähteeseen -sivulla](./media/er-multiple-model-mappings-image4.png)

    4. <span data-ttu-id="e5c60-157">Sulje **Malli tietolähteen yhdistämismääritystä varten** -sivu.</span><span class="sxs-lookup"><span data-stu-id="e5c60-157">Close the **Model to datasource mapping** page.</span></span>
    5. <span data-ttu-id="e5c60-158">Valitsemalla **Versiot**-pikavälilehdessä **Poista** voidaan poistaa kaikki tämän ER-määrityksen versiot, jotka ovat uudempia kuin versio 226.35.</span><span class="sxs-lookup"><span data-stu-id="e5c60-158">On the **Versions** FastTab, select **Delete** to delete all versions of this ER configuration that are later than version 226.35.</span></span>

## <a name="customize-the-imported-er-configurations"></a><span data-ttu-id="e5c60-159">Tuotujen ER-määritysten määrittäminen</span><span class="sxs-lookup"><span data-stu-id="e5c60-159">Customize the imported ER configurations</span></span>

<span data-ttu-id="e5c60-160">Tässä osassa käsitellään Microsoftin toimittamien mallin yhdistämismääritysten [mukauttamista](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration).</span><span class="sxs-lookup"><span data-stu-id="e5c60-160">This section explains how to [customize](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration) the model mappings that are provided by Microsoft.</span></span> <span data-ttu-id="e5c60-161">Mukauttaminen voi olla välttämätöntä esimerkiksi mukautetun logiikan toteuttamista tai puuttuvien sidontojen lisäämistä varten.</span><span class="sxs-lookup"><span data-stu-id="e5c60-161">For example, customization might be required to implement your custom logic or add missing bindings.</span></span>

### <a name="customize-the-invoice-model-mapping-configuration"></a><span data-ttu-id="e5c60-162">Laskumallin yhdistämismäärityksen mukauttaminen</span><span class="sxs-lookup"><span data-stu-id="e5c60-162">Customize the Invoice model mapping configuration</span></span>

1. <span data-ttu-id="e5c60-163">Valitse **Konfiguraatiot**-sivun vasemman ruudun määrityspuussa **Laskumallin yhdistämismääritys**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-163">On the **Configurations** page, in the configuration tree in the left pane, select **Invoice model mapping**.</span></span>
2. <span data-ttu-id="e5c60-164">Valitse toimintoruudussa **Luo konfigurointi**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-164">On the Action Pane, select **Create configuration**.</span></span>
3. <span data-ttu-id="e5c60-165">Valitse avattavan **Luo määritys** -valintaikkunan **Uusi**-kentässä **Johdettu nimestä: Laskumallin yhdistämismääritys, Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-165">In the **Create configuration** drop-down dialog box, in the **New** field, select **Derive from Name: Invoice model mapping, Microsoft**.</span></span>
4. <span data-ttu-id="e5c60-166">Kirjoita **Nimi**-kenttään **Laskumallin yhdistämismääritys Litware**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-166">In the **Name** field, enter **Invoice model mapping Litware**.</span></span>
5. <span data-ttu-id="e5c60-167">Valitse **Luo konfiguraatio**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-167">Select **Create configuration**.</span></span>
6. <span data-ttu-id="e5c60-168">[Merkitse](er-quick-start2-customize-report.md#MarkFormatRunnable) johdetun yhdistämismäärityksen [luonnos](general-electronic-reporting.md#component-versioning) käytettäväksi suorituksen aikana:</span><span class="sxs-lookup"><span data-stu-id="e5c60-168">[Mark](er-quick-start2-customize-report.md#MarkFormatRunnable) the [draft](general-electronic-reporting.md#component-versioning) version of the derived mapping as available for use at runtime:</span></span>

    1. <span data-ttu-id="e5c60-169">Valitse toimintoruudussa **Konfiguroinnit**-välilehden **Lisäasetukset**-ryhmässä **Käyttäjän parametrit**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-169">On the Action Pane, on the **Configurations** tab, in the **Advanced settings** group, select **User parameters**.</span></span>
    2. <span data-ttu-id="e5c60-170">**Käyttäjän parametrit** -valintaikkunassa määritä **Suorita asetukset** -valinnaksi **Kyllä**, ja valitse sitten **OK**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-170">In the **User parameters** dialog box, set the **Run settings** option to **Yes**, and then select **OK**.</span></span>
    3. <span data-ttu-id="e5c60-171">Tee tarvittaessa sivusta muokattava valitsemalla **Muokkaa**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-171">Select **Edit** to make the page editable, as required.</span></span>
    4. <span data-ttu-id="e5c60-172">Määritä **Suorita luonnos** -asetukseksi **Kyllä** siinä **Laskumallin yhdistämismääritys Litware** -määrityksessä, joka on valittuna määrityspuussa.</span><span class="sxs-lookup"><span data-stu-id="e5c60-172">For the **Invoice model mapping Litware** configuration that is currently selected in the configuration tree, set the **Run Draft** option to **Yes**.</span></span>

7. <span data-ttu-id="e5c60-173">Tarkista tämän määrityksen mallin yhdistämismääritykset valitsemalla toimintoruudussa **Suunnitteluohjelma**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-173">On the Action Pane, select **Designer** to review the model mappings of this configuration.</span></span>

    ![Laskumallin yhdistämismääritysten tarkasteleminen Yhdistäminen mallista tietolähteeseen -sivulla](./media/er-multiple-model-mappings-image5.png)

    > [!TIP]
    > <span data-ttu-id="e5c60-175">Mukautetun logiikan voi nyt määrittää avaamalla jokin tämän ER-määrityksen ER-mallin yhdistämismäärityksen osa suunnittelutoiminnossa.</span><span class="sxs-lookup"><span data-stu-id="e5c60-175">You can now open any of the ER model mapping components of this ER configuration in the designer to configure your custom logic.</span></span> <span data-ttu-id="e5c60-176">Lisätietoja on kohdassa [Mallin yhdistämismäärityksen mukauttaminen](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration).</span><span class="sxs-lookup"><span data-stu-id="e5c60-176">For more information, see [Customize the model mapping configuration](er-quick-start3-customize-report.md#customize-the-model-mapping-configuration).</span></span>

8. <span data-ttu-id="e5c60-177">Sulje **Malli tietolähteen yhdistämismääritystä varten** -sivu.</span><span class="sxs-lookup"><span data-stu-id="e5c60-177">Close the **Model to datasource mapping** page.</span></span>

<span data-ttu-id="e5c60-178">**Laskumallin yhdistämismääritys**- ja **Laskumallin yhdistämismääritys Litware** -määritykset on nyt tehty, ja kummassakin niissä on **InvoiceCustomer**-juurimääritelmää varten määritetty mallin yhdistämismääritys.</span><span class="sxs-lookup"><span data-stu-id="e5c60-178">You now have **Invoice model mapping** and **Invoice model mapping Litware** configurations, each of which has a model mapping that is configured for the **InvoiceCustomer** root definition.</span></span> <span data-ttu-id="e5c60-179">Yksi mallin yhdistämismääritys on nimenomaisesti määritettävä mallin oletusyhdistämismääritykseksi, jota mikä tahansa ER-muoto käyttää, kuten **Vapaatekstilasku (Excel)** -muoto, jossa on **InvoiceCustomer**-juurimääritelmän sisältävä mallin tietolähde.</span><span class="sxs-lookup"><span data-stu-id="e5c60-179">Explicitly assign one of the model mappings as the default model mapping that is used by any of the ER formats, such as the **Free text invoice (Excel)** format that contains a model data source that has the **InvoiceCustomer** root definition.</span></span> <span data-ttu-id="e5c60-180">Muussa tapauksessa ER-muotoa suoritettaessa, muokattaessa tai tarkistettaessa annetaan seuraava poikkeus, joka ilmoittaa, että mallin oletusyhdistämismääritystä ei ole nimenomaisesti määritetty:</span><span class="sxs-lookup"><span data-stu-id="e5c60-180">Otherwise, when you run, edit, or validate one of the ER formats, the following exception is thrown to notify you that no default model mapping has been explicitly assigned:</span></span>
 
> <span data-ttu-id="e5c60-181">Tietomallilla \<model name\> (\<root descriptor\>) on useita mallien yhdistämismäärityksiä määrityksissä \<configuration names separated by commas\>.</span><span class="sxs-lookup"><span data-stu-id="e5c60-181">More than one model mapping exists for the '\<model name\> (\<root descriptor\>)' data model in the configurations \<configuration names separated by commas\>.</span></span> <span data-ttu-id="e5c60-182">Määritä jokin määrityksistä oletukseksi.</span><span class="sxs-lookup"><span data-stu-id="e5c60-182">Set one of the configurations as default.</span></span>

![Muodon avaaminen muokattavaksi Konfiguraatiot-sivulla](./media/er-multiple-model-mappings-image6.gif)

### <a name="customize-the-project-invoice-model-mapping-rdp-configuration"></a><span data-ttu-id="e5c60-184">Projektilaskumallin yhdistämismäärityksen (RDP) mukauttaminen</span><span class="sxs-lookup"><span data-stu-id="e5c60-184">Customize the Project invoice model mapping (RDP) configuration</span></span>

1. <span data-ttu-id="e5c60-185">Valitse **Konfiguraatiot**-sivun vasemman ruudun määrityspuussa **Projektilaskumallin yhdistämismääritys (RDP)**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-185">On the **Configurations** page, in the configuration tree in the left pane, select **Project invoice model mapping (RDP)**.</span></span>
2. <span data-ttu-id="e5c60-186">Valitse toimintoruudussa **Luo konfigurointi**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-186">On the Action Pane, select **Create configuration**.</span></span>
3. <span data-ttu-id="e5c60-187">Valitse avattavan **Luo määritys** -valintaikkunan **Uusi**-kentässä **Johdettu nimestä: Projektilaskumallin yhdistämismääritys (RDP), Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-187">In the **Create configuration** dialog box, in the **New** field, select **Derive from Name: Project invoice model mapping (RDP), Microsoft**.</span></span>
4. <span data-ttu-id="e5c60-188">Kirjoita **Nimi**-kenttään **Projektilaskumallin yhdistämismääritys Litware**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-188">In the **Name** field, enter **Project invoice model mapping Litware**.</span></span>
5. <span data-ttu-id="e5c60-189">Valitse **Luo konfiguraatio**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-189">Select **Create configuration**.</span></span>
6. <span data-ttu-id="e5c60-190">Määritä **Suorita luonnos** -asetukseksi **Kyllä** siinä **Projektilaskumallin yhdistämismääritys Litware** -määrityksessä, joka on valittuna määrityspuussa.</span><span class="sxs-lookup"><span data-stu-id="e5c60-190">For the **Project invoice model mapping Litware** configuration that is currently selected in the configuration tree, set the **Run Draft** option to **Yes**.</span></span>
7. <span data-ttu-id="e5c60-191">Tarkista tämän määrityksen mallin yhdistämismääritykset valitsemalla toimintoruudussa **Suunnitteluohjelma**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-191">On the Action Pane, select **Designer** to review the model mappings of this configuration.</span></span>

    ![Mukautetun projektilaskumallin yhdistämismääritysten tarkasteleminen Yhdistäminen mallista tietolähteeseen -sivulla](./media/er-multiple-model-mappings-image7.png)

8. <span data-ttu-id="e5c60-193">Sulje **Malli tietolähteen yhdistämismääritystä varten** -sivu.</span><span class="sxs-lookup"><span data-stu-id="e5c60-193">Close the **Model to datasource mapping** page.</span></span>

<span data-ttu-id="e5c60-194">**Laskumallin yhdistämismääritys**-, **Projektilaskumallin yhdistämismääritys (RDP)**- ja **Projektilaskumallin yhdistämismääritys Litware** -määritykset on nyt tehty.</span><span class="sxs-lookup"><span data-stu-id="e5c60-194">You now have **Invoice model mapping**, **Project invoice model mapping (RDP)**, and **Project invoice model mapping Litware** configurations.</span></span> <span data-ttu-id="e5c60-195">Jokaisessa näissä määrityksessä on **InvoiceProject**-juurimääritelmää varten määritetty mallin yhdistämismääritys.</span><span class="sxs-lookup"><span data-stu-id="e5c60-195">Each of these configurations has a model mapping configured for the **InvoiceProject** root definition.</span></span> <span data-ttu-id="e5c60-196">Yksi mallin yhdistämismääritys on nimenomaisesti määritettävä mallin oletusyhdistämismääritykseksi, jota mikä tahansa ER-muoto käyttää.</span><span class="sxs-lookup"><span data-stu-id="e5c60-196">Explicitly assign one of the model mappings as the default model mapping that is used by any of the ER formats.</span></span> <span data-ttu-id="e5c60-197">Tätä varten voi käyttää esimerkiksi **Projektilasku (Excel)** -muotoa, jossa on **InvoiceCustomer**-juurimääritelmän sisältävä mallin tietolähde.</span><span class="sxs-lookup"><span data-stu-id="e5c60-197">For example, use the **Project invoice (Excel)** format that contains a model data source that has the **InvoiceProject** root definition.</span></span> <span data-ttu-id="e5c60-198">Muussa tapauksessa ER-muotoa suoritettaessa tai muokattaessa annetaan poikkeus, joka ilmoittaa, että mallin oletusyhdistämismääritystä ei ole nimenomaisesti määritetty.</span><span class="sxs-lookup"><span data-stu-id="e5c60-198">Otherwise, when you run or edit one of the ER formats, an exception is thrown to notify you that no default model mapping has been explicitly assigned.</span></span>

## <a name="select-the-derived-invoice-model-mapping-litware-configuration-as-the-configuration-that-contains-default-model-mappings"></a><span data-ttu-id="e5c60-199">Johdetun Laskumallin yhdistämismääritys Litware -määrityksen valitseminen mallin oletusyhdistämismääritykset sisältäväksi määritykseksi</span><span class="sxs-lookup"><span data-stu-id="e5c60-199">Select the derived Invoice model mapping Litware configuration as the configuration that contains default model mappings</span></span>

1. <span data-ttu-id="e5c60-200">Valitse **Konfiguraatiot**-sivun vasemman ruudun määrityspuussa **Laskumallin yhdistämismääritys Litware**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-200">On the **Configurations** page, in the configuration tree in the left pane, select **Invoice model mapping Litware**.</span></span>
2. <span data-ttu-id="e5c60-201">Määritä **Mallin yhdistämisasetuksen** oletusarvoksi **Kyllä**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-201">Set the **Default for model mapping** option to **Yes**.</span></span>

    ![Mallin yhdistämismäärityksen määrittäminen mallin oletusyhdistämismääritykseksi Konfiguraatiot-sivulla](./media/er-multiple-model-mappings-image8.png)

    <span data-ttu-id="e5c60-203">Tämän asetuksen vuoksi käytetään **Myyntilaskun kopio** -mallin yhdistämismääritystä, kun **Vapaatekstilasku (Excel)** suoritetaan tai kun sitä muokataan tai se tarkistetaan.</span><span class="sxs-lookup"><span data-stu-id="e5c60-203">Because of this setting, the **Customer Invoice Copy** model mapping is used when you run the **Free text invoice (Excel)**, or when you edit or validate it.</span></span> <span data-ttu-id="e5c60-204">**Laskumallin yhdistämismääritys** -määrityksen **Myyntilasku**-mallin yhdistämismääritys ohitetaan.</span><span class="sxs-lookup"><span data-stu-id="e5c60-204">The **Customer invoice** model mapping from the **Invoice model mapping** configuration is ignored.</span></span>

    <span data-ttu-id="e5c60-205">**Vapaatekstilasku (Excel)** -muoto voidaan nyt avata tarkasteltavaksi muodon suunnittelijassa.</span><span class="sxs-lookup"><span data-stu-id="e5c60-205">You can now open the **Free text invoice (Excel)** format for review in the format designer.</span></span>

## <a name="select-the-derived-project-invoice-model-mapping-litware-configuration-as-the-configuration-that-contains-default-model-mappings"></a><span data-ttu-id="e5c60-206">Johdetun Projektilaskumallin yhdistämismääritys Litware -määrityksen valitseminen mallin oletusyhdistämismääritykset sisältäväksi määritykseksi</span><span class="sxs-lookup"><span data-stu-id="e5c60-206">Select the derived Project invoice model mapping Litware configuration as the configuration that contains default model mappings</span></span>

1. <span data-ttu-id="e5c60-207">Valitse **Konfiguraatiot**-sivun vasemman ruudun määrityspuussa **Projektilaskumallin yhdistämismääritys Litware**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-207">On the **Configurations** page, in the configuration tree in the left pane, select **Project invoice model mapping Litware**.</span></span>
2. <span data-ttu-id="e5c60-208">Määritä **Mallin yhdistämisasetuksen** oletusarvoksi **Kyllä**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-208">Set the **Default for model mapping** option to **Yes**.</span></span>

    <span data-ttu-id="e5c60-209">Toisin kuin edellisessä osassa kuvatun **Laskumallin yhdistämismääritys** -määrityksen kohdalla, **Projektilaskumallin yhdistämismääritys Litware** -määrityksen **InvoiceProject kopio** -mallin yhdistämismäärityksen käyttöä ei voi aloittaa.</span><span class="sxs-lookup"><span data-stu-id="e5c60-209">In this case, unlike the case that is described for the **Invoice model mapping Litware** configuration in the previous section, you can't start to use the **InvoiceProject Copy** model mapping from the **Project invoice model mapping Litware** configuration.</span></span> <span data-ttu-id="e5c60-210">Kaksi **InvoiceProject**-juurimääritelmän sisältävää mallin yhdistämismääritystä on tällä hetkellä merkitys oletusmääritykseksi.</span><span class="sxs-lookup"><span data-stu-id="e5c60-210">Two configurations that contain a model mapping for the **InvoiceProject** root definition are currently marked as the default configuration.</span></span> <span data-ttu-id="e5c60-211">Niinpä niiden käytön prioriteetti on sama.</span><span class="sxs-lookup"><span data-stu-id="e5c60-211">Therefore, they have equal priority for use.</span></span> <span data-ttu-id="e5c60-212">Ongelman voi ratkaista suorittamalla tämän menettelyn jäljellä olevat vaiheet.</span><span class="sxs-lookup"><span data-stu-id="e5c60-212">To resolve this issue, complete the remaining steps of this procedure.</span></span>

3. <span data-ttu-id="e5c60-213">Valitse vasemman ruudun määrityspuussa **Laskumallin yhdistämismääritys Litware**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-213">In the configuration tree in the left pane, select **Invoice model mapping Litware**.</span></span>
4. <span data-ttu-id="e5c60-214">Valitse toimintoruudussa **Suunnittelija**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-214">On the Action Pane, select **Designer**.</span></span>
5. <span data-ttu-id="e5c60-215">Muuta sivu tarpeen muokattavaksi valitsemalla **Yhdistäminen mallista tietolähteeseen** -sivulla **Muokkaa**.</span><span class="sxs-lookup"><span data-stu-id="e5c60-215">On the **Model to datasource mapping** page, select **Edit** to make the page editable, as required.</span></span>
6. <span data-ttu-id="e5c60-216">Valitse ensin **Projektilaskun kopio** -mallin yhdistämismääritys ja sitten sen **On poistettu**-valintaruutu.</span><span class="sxs-lookup"><span data-stu-id="e5c60-216">Select the **Project Invoice Copy** model mapping, and then select the **Is deleted** check box for it.</span></span>

    ![Mallin yhdistämismäärityksen määrittäminen virtuaalisesti poistetuksi Yhdistäminen mallista tietolähteeseen -sivulla](./media/er-multiple-model-mappings-image9.png)

    <span data-ttu-id="e5c60-218">Tämän asetuksen vuoksi **Laskun mallin yhdistämismääritys Litware** -määritystä käsitellään aivan kuin sillä ei olisi **InvoiceProject**-juurimääritelmän mallin yhdistämismääritystä.</span><span class="sxs-lookup"><span data-stu-id="e5c60-218">Because of this setting, the **Invoice model mapping Litware** configuration is treated as though it has no model mapping for the **InvoiceProject** root definition.</span></span> <span data-ttu-id="e5c60-219">**InvoiceProject kopio** -mallin yhdistämismääritys annettiin oletusarvoisesti.</span><span class="sxs-lookup"><span data-stu-id="e5c60-219">The **InvoiceProject Copy** model mapping issued by default.</span></span> <span data-ttu-id="e5c60-220">Tämä mallin yhdistämismäärityksen sisältävä **Projektilaskumallin yhdistämismääritys Litware** -määritys merkitään oletusmääritykseksi.</span><span class="sxs-lookup"><span data-stu-id="e5c60-220">The configuration, **Project invoice model mapping Litware**, which contains this model mapping, is marked as the default configuration.</span></span> <span data-ttu-id="e5c60-221">Koska se on määritetty oletukseksi, sen prioriteetti on korkeampi kuin **Projektilaskumallin yhdistämismääritys (RDP)** -määrityksen **InvoiceProject**-mallin yhdistämismääritys.</span><span class="sxs-lookup"><span data-stu-id="e5c60-221">Because it is marked as default, it has a higher priority than the **InvoiceProject** model mapping from the **Project invoice model mapping (RDP)** configuration.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="e5c60-222">Muuta huomioon otettavaa</span><span class="sxs-lookup"><span data-stu-id="e5c60-222">Other considerations</span></span>

<span data-ttu-id="e5c60-223">**Projektilaskumallin yhdistämismääritys Litware** -määrityksen **InvoiceProject kopio** -mallin yhdistämismääritys on suunniteltu käyttämään **ReportDataProvider**-tietolähdettä.</span><span class="sxs-lookup"><span data-stu-id="e5c60-223">The **InvoiceProject Copy** model mapping of the **Project invoice model mapping Litware** configuration is designed to use the **ReportDataProvider** data source.</span></span> <span data-ttu-id="e5c60-224">Tietolähde on osa *Objekti*-tyyppiä, joka viittaa **PsaProjInvoiceDP**-sovellusluokkaan.</span><span class="sxs-lookup"><span data-stu-id="e5c60-224">The data source is part of the *Object* type that refers to the **PsaProjInvoiceDP** application class.</span></span> <span data-ttu-id="e5c60-225">Tämä luokka toteutetaan projektilaskun tulostuksen hallintakehyksen SSRS (SQL Server Reporting Services) -raportin tietolähteenä.</span><span class="sxs-lookup"><span data-stu-id="e5c60-225">This class is implemented as the data provider for the project invoice SQL Server Reporting Services (SSRS) report of the Print management framework.</span></span> <span data-ttu-id="e5c60-226">Tämä tietolähde valitaan ER-[integrointikohdaksi](er-apis-app10-0-11.md#api-to-run-a-format-mapping-for-the-generation-of-outbound-documents).</span><span class="sxs-lookup"><span data-stu-id="e5c60-226">Select this data source as the ER [integration point](er-apis-app10-0-11.md#api-to-run-a-format-mapping-for-the-generation-of-outbound-documents).</span></span> <span data-ttu-id="e5c60-227">Tulostuksenhallintaraporttien nykyinen ER-toteutus ottaa tämän asetuksen huomioon.</span><span class="sxs-lookup"><span data-stu-id="e5c60-227">The current ER implementation for Print management reports takes this setting into account.</span></span> <span data-ttu-id="e5c60-228">Lisätietoja saa tarkastelemalla **ERPrintMgmtDataProviderReport**-sovellusluokan lähdekoodia.</span><span class="sxs-lookup"><span data-stu-id="e5c60-228">For more details, review the source code of the **ERPrintMgmtDataProviderReport** application class.</span></span> <span data-ttu-id="e5c60-229">**ReportDataProvider**-tietolähteen määrittäminen suorituksen aikana mallin integrointikohdaksi pakottaa Finance käsittelemään tämän yhdistämismääritysosan korkeammalla prioriteetilla kuin **Projektilaskumallin yhdistämismääritys (RDP)** -määrityksen **InvoiceProject**-yhdistämismääritysosan.</span><span class="sxs-lookup"><span data-stu-id="e5c60-229">At runtime, the assignment of the **ReportDataProvider** data source as the model mapping integration point forces Finance to treat this mapping component with a higher priority than the **InvoiceProject** mapping component from the **Project invoice model mapping (RDP)** configuration.</span></span>

## <a name="see-also"></a><span data-ttu-id="e5c60-230">Lisätietoja</span><span class="sxs-lookup"><span data-stu-id="e5c60-230">See also</span></span>

- [<span data-ttu-id="e5c60-231">Sähköisen raportointimallin kartoituksen hallinta erillisissä sähköisen raportoinnin konfiguraatioissa</span><span class="sxs-lookup"><span data-stu-id="e5c60-231">Manage ER model mapping in separate ER configurations</span></span>](./tasks/er-manage-model-mapping-configurations-july-2017.md)
- [<span data-ttu-id="e5c60-232">Maakontekstista riippuvaisten sähköisen raportoinnin mallimääritysten määrittäminen</span><span class="sxs-lookup"><span data-stu-id="e5c60-232">Configure country context dependent ER model mappings</span></span>](er-country-dependent-model-mapping.md)
- [<span data-ttu-id="e5c60-233">Sähköisen raportointikehyksen ohjelmointirajapinnan muutokset</span><span class="sxs-lookup"><span data-stu-id="e5c60-233">Electronic reporting framework API changes</span></span>](er-apis-app10-0-11.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]