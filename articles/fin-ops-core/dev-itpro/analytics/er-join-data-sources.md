---
title: Käytä ER-mallimäärityksissä JOIN-tietolähteitä saadaksesi tietoja useista sovellustaulukoista
description: Tässä ohjeaiheessa kerrotaan JOIN-tietolähteiden käytöstä sähköisessä raportoinnissa (ER).
author: NickSelin
manager: AnnBe
ms.date: 05/04/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERModelMappingDesigner, EROperationDesigner
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-03-01
ms.dyn365.ops.version: Release 10.0.1
ms.openlocfilehash: e872ff38d2115273fe76f5a2f54197c55cc7a2e0
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 03/09/2021
ms.locfileid: "5565538"
---
# <a name="use-join-data-sources-to-get-data-from-multiple-application-tables-in-electronic-reporting-er-model-mappings"></a><span data-ttu-id="a61ea-103">Käytä sähköisen raportoinnin (ER) mallimäärityksissä JOIN-tietolähteitä saadaksesi tietoja useista sovellustaulukoista</span><span class="sxs-lookup"><span data-stu-id="a61ea-103">Use JOIN data sources to get data from multiple application tables in Electronic reporting (ER) model mappings</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="a61ea-104">Kun määrität sähköisen raportoinnin (ER) mallimäärityksiä tai muotoja, voit [lisätä](#review) tarvittavia **Liitä**-tyypin tietolähteitä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-104">While configuring Electronic reporting (ER) model mappings or formats, you can [add](#review) required data sources of the **Join** type.</span></span> <span data-ttu-id="a61ea-105">Suunnitteluvaiheessa **Liitä**-tietolähde määritetään useiden tietolähteiden sarjaksi, ja jokainen tietolähde palauttaa tietueluettelon.</span><span class="sxs-lookup"><span data-stu-id="a61ea-105">At design time, a **Join** data source is configured as a set of several data sources each of which returns a list of records.</span></span> <span data-ttu-id="a61ea-106">Ensimmäistä tietolähdettä lukuun ottamatta sinulle on määritettävä jokaiselle niistä tarvittavat ehdot nykyisen ja aiempien tietolähteiden tietueiden liittämiselle.</span><span class="sxs-lookup"><span data-stu-id="a61ea-106">For every data source except the first one, you need to define necessary conditions to join records of the current and previous data sources.</span></span> <span data-ttu-id="a61ea-107">Suorituksen aikana määritetty **Liitä**-tyypin tietolähde [palauttaa](#executeERformat) yksittäisen yhteenliitetyn luettelon tietueista, jotka sisältävät kenttiä sisäkkäisten tietolähteiden tietueista.</span><span class="sxs-lookup"><span data-stu-id="a61ea-107">At runtime, a configured data source of **Join** type [returns](#executeERformat) a single joined list of records containing fields from the records of nested data sources.</span></span>

<span data-ttu-id="a61ea-108">Tällä hetkellä tuetaan seuraavia liitostyyppejä:</span><span class="sxs-lookup"><span data-stu-id="a61ea-108">The following types of joins are currently supported:</span></span>

- <span data-ttu-id="a61ea-109">Ulkoliitos (vasen):</span><span class="sxs-lookup"><span data-stu-id="a61ea-109">Outer (left) join:</span></span>
    - <span data-ttu-id="a61ea-110">Liittää kaikki määritettyjä ehtoja vastaavat ensimmäisen (vasemmanpuoleisen) tietolähteen tietueet yhteen ja lisää sitten kaikki määritettyjä ehtoja vastaavat toisen (oikeanpuoleinen) tietolähteen tietueet.</span><span class="sxs-lookup"><span data-stu-id="a61ea-110">Join all records of the first (left-most) data source and then any matching in accordance to configured conditions records of the second (right-most) data source.</span></span>
- <span data-ttu-id="a61ea-111">Sisäliitos (oikea):</span><span class="sxs-lookup"><span data-stu-id="a61ea-111">Inner (right) join:</span></span>
    - <span data-ttu-id="a61ea-112">Liittää yhteen vain määritettyjä ehtoja vastaavat ensimmäisen (vasemmanpuoleisen) tietolähteen tietueet yhteen ja vain määritettyjä ehtoja vastaavat toisen (oikean) tietolähteen tietueet yhteen.</span><span class="sxs-lookup"><span data-stu-id="a61ea-112">Join only records of the first (left-most) data source and only records of the second (right-most) data source matching to each other in accordance to configured conditions.</span></span>

<span data-ttu-id="a61ea-113">Kun määritetyn **Liitä**-tietolähteen kaikki tietolähteet ovat tyyppiä **Taulukkotietueet** Liitos-tietolähde voidaan [suorittaa tietokantatasolla](#analyze) käyttäen yksittäistä SQL-lausetta.</span><span class="sxs-lookup"><span data-stu-id="a61ea-113">In the configured **Join** data source, when all data sources are the **Table records** type, execution of the Join data source can be [performed at the database level](#analyze) using a single SQL statement.</span></span> <span data-ttu-id="a61ea-114">Tämä lauseke vähentää tietokantakyselyjen määrää ja parantaa siten mallin yhdistämismäärityksen suorituskykyä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-114">This statement reduces the number of database calls, which improves model-mapping performance.</span></span> <span data-ttu-id="a61ea-115">Muussa tapauksessa **Liitä**-tietolähde suoritetaan muistissa.</span><span class="sxs-lookup"><span data-stu-id="a61ea-115">Otherwise, execution of **Join data** source is performed in memory.</span></span>

> [!NOTE]
> <span data-ttu-id="a61ea-116">**VALUEIN**-toiminnon käyttämistä ER-lausekkeissa, joissa määritetään ehtoja tietueiden liittämiselle toisiinsa Liitä-tyypin tietolähteissä, ei vielä tueta.</span><span class="sxs-lookup"><span data-stu-id="a61ea-116">Using the **VALUEIN** function in ER expressions that specify conditions for joining records in data sources of Join type is not supported yet.</span></span> <span data-ttu-id="a61ea-117">Kohdassa [Sähköisen raportoinnin kaavojen suunnittelutoiminto](general-electronic-reporting-formula-designer.md) esitetään lisätietoja tästä toiminnosta.</span><span class="sxs-lookup"><span data-stu-id="a61ea-117">Visit the [Formula designer in Electronic reporting](general-electronic-reporting-formula-designer.md) page for more details about this function.</span></span>

<span data-ttu-id="a61ea-118">Saat lisätietoja tästä toiminnosta suorittamalla tämän ohjeaiheen seuraavan esimerkin.</span><span class="sxs-lookup"><span data-stu-id="a61ea-118">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="example-use-join-data-sources-in-er-model-mappings"></a><span data-ttu-id="a61ea-119">Esimerkki: JOIN-tietolähteiden käyttö ER-mallimäärityksissä</span><span class="sxs-lookup"><span data-stu-id="a61ea-119">Example: Use JOIN data sources in ER model mappings</span></span>

<span data-ttu-id="a61ea-120">Seuraavissa vaiheissa selitetään, miten järjestelmänvalvoja tai sähköisen raportoinnin kehittävä voi määrittää sähköisen raportoinnin (ER) mallimäärityksen saadakseen tietoja samanaikaisesti useista sovellustaulukoista käyttämällä **Liitos**-tyypin tietolähteitä parantaakseen tietojen käytön suorituskykyä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-120">The following steps explain how the System administrator or Electronic reporting developer can configure an Electronic reporting (ER) model mapping to get data from multiple application tables at once by using data sources of the **Join** type to improve data access performance.</span></span> <span data-ttu-id="a61ea-121">Nämä vaiheet voidaan suorittaa mitä tahansa Dynamics 365 Finance -yrityksestä tai Regulatory Configuration Serviceä (RCS) varten.</span><span class="sxs-lookup"><span data-stu-id="a61ea-121">These steps can be performed for any company of Dynamics 365 Finance or Regulatory Configuration Services (RCS).</span></span>

### <a name="prerequisites"></a><span data-ttu-id="a61ea-122">Edellytykset</span><span class="sxs-lookup"><span data-stu-id="a61ea-122">Prerequisites</span></span>

<span data-ttu-id="a61ea-123">Tämän aiheen esimerkkien suorittaminen edellyttää käyttöoikeuksia johonkin seuraavista riippuen siitä, mitä palvelua vaiheiden suorittamiseen käytetään:</span><span class="sxs-lookup"><span data-stu-id="a61ea-123">To complete the examples in this topic, you must have access to one of the following depending on what service is used to compete these steps:</span></span>

<span data-ttu-id="a61ea-124">**Finance-käyttöoikeudet seuraaville rooleille:**</span><span class="sxs-lookup"><span data-stu-id="a61ea-124">**Access to Finance for one of the following roles:**</span></span>

- <span data-ttu-id="a61ea-125">Sähköisen raportoinnin kehittäjä</span><span class="sxs-lookup"><span data-stu-id="a61ea-125">Electronic reporting developer</span></span>
- <span data-ttu-id="a61ea-126">Sähköisen raportoinnin toiminnallinen konsultti</span><span class="sxs-lookup"><span data-stu-id="a61ea-126">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="a61ea-127">Järjestelmänvalvoja</span><span class="sxs-lookup"><span data-stu-id="a61ea-127">System administrator</span></span>

<span data-ttu-id="a61ea-128">**RCS-käyttöoikeudet seuraaville rooleille:**</span><span class="sxs-lookup"><span data-stu-id="a61ea-128">**Access to RCS for one of the following roles:**</span></span>

- <span data-ttu-id="a61ea-129">Sähköisen raportoinnin kehittäjä</span><span class="sxs-lookup"><span data-stu-id="a61ea-129">Electronic reporting developer</span></span>
- <span data-ttu-id="a61ea-130">Sähköisen raportoinnin toiminnallinen konsultti</span><span class="sxs-lookup"><span data-stu-id="a61ea-130">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="a61ea-131">Järjestelmänvalvoja</span><span class="sxs-lookup"><span data-stu-id="a61ea-131">System administrator</span></span>

<span data-ttu-id="a61ea-132">Sinun on myös ensin suoritettava menettelyn [Konfiguraation lähteen luominen ja sen merkitseminen aktiiviseksi](tasks/er-configuration-provider-mark-it-active-2016-11.md) vaiheet.</span><span class="sxs-lookup"><span data-stu-id="a61ea-132">You also must first complete the steps in the [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) procedure.</span></span>

<span data-ttu-id="a61ea-133">Lisäksi sinun on ladattava etukäteen [Microsoft Download Centeristä](https://go.microsoft.com/fwlink/?linkid=000000) ja tallennettava paikallisesti seuraavat ER-konfiguraatiotiedostomallit:</span><span class="sxs-lookup"><span data-stu-id="a61ea-133">In advance, you must also download from [Microsoft Download Center](https://go.microsoft.com/fwlink/?linkid=000000) and save locally the following sample ER configuration files:</span></span>

| <span data-ttu-id="a61ea-134">**Sisällön kuvaus**</span><span class="sxs-lookup"><span data-stu-id="a61ea-134">**Content description**</span></span>  | <span data-ttu-id="a61ea-135">**Tiedostonimi**</span><span class="sxs-lookup"><span data-stu-id="a61ea-135">**File name**</span></span>   |
|--------------------------|-----------------|
| <span data-ttu-id="a61ea-136">Esimerkeissä tietolähteenä käytettävä **ER-tietomalli**-konfiguraatiotiedosto.</span><span class="sxs-lookup"><span data-stu-id="a61ea-136">Sample **ER data model** configuration file, which is used as the data source for the examples.</span></span>| [<span data-ttu-id="a61ea-137">Model to learn JOIN data sources.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="a61ea-137">Model to learn JOIN data sources.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="a61ea-138">Esimerkissä käytettävä **ER-mallimääritys**-konfiguraatiotiedosto, joka soveltaa ER-tietomallia esimerkkeihin.</span><span class="sxs-lookup"><span data-stu-id="a61ea-138">Sample **ER model mapping** configuration file, which implements the ER data model for the examples.</span></span> | [<span data-ttu-id="a61ea-139">Mapping to learn JOIN data sources.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="a61ea-139">Mapping to learn JOIN data sources.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="a61ea-140">Esimerkissä käytettävä **ER-muoto**-konfiguraatiotiedosto.</span><span class="sxs-lookup"><span data-stu-id="a61ea-140">Sample **ER format** configuration file.</span></span> <span data-ttu-id="a61ea-141">Tässä tiedostossa kuvataan tiedot, joilla täytetään esimerkkien ER-muotokomponentti.</span><span class="sxs-lookup"><span data-stu-id="a61ea-141">This file describes the data to populate the ER format component for the examples.</span></span> | [<span data-ttu-id="a61ea-142">Format to learn JOIN data sources.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="a61ea-142">Format to learn JOIN data sources.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

### <a name="activate-a-configurations-provider"></a><span data-ttu-id="a61ea-143">Aktivoi konfiguraatiolähde</span><span class="sxs-lookup"><span data-stu-id="a61ea-143">Activate a configurations provider</span></span>

1. <span data-ttu-id="a61ea-144">Käytä joko Finance- tai RCS-sovellusta verkkoselaimesi ensimmäisessä istunnossa.</span><span class="sxs-lookup"><span data-stu-id="a61ea-144">Access either Finance or RCS in the first session of your web browser.</span></span>
2. <span data-ttu-id="a61ea-145">Siirry kohtaan **Organisaation hallinto \> Työtilat \> Sähköinen raportointi**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-145">Go to **Organization administration \> Workspaces \> Electronic reporting**.</span></span>
3. <span data-ttu-id="a61ea-146">Varmita **Lokalisointimääritykset**-sivun osassa **Määritysten tarjoajat**, että määritysten tarjoaja esimerkkiyritykselle [Litware, Inc.](http://www.litware.com) on luettelossa ja merkitty **Aktiiviseksi**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-146">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the configuration provider for the [Litware, Inc.](http://www.litware.com) sample company is listed, and that it's marked as **Active**.</span></span> <span data-ttu-id="a61ea-147">Jos konfiguraation lähde ei ole näkyvissä, suorita menettelyn [Konfiguraation lähteen luominen ja sen merkitseminen aktiiviseksi](tasks/er-configuration-provider-mark-it-active-2016-11.md) vaiheet.</span><span class="sxs-lookup"><span data-stu-id="a61ea-147">If you don't see this configuration provider, follow the steps in [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) procedure.</span></span>

    ![Sähköisen raportoinnin työtila](./media/GER-JoinDS-ActiveProvider.PNG)

### <a name="import-sample-er-configuration-files"></a><span data-ttu-id="a61ea-149">ER-mallikonfiguraatiotiedostojen tuonti</span><span class="sxs-lookup"><span data-stu-id="a61ea-149">Import sample ER configuration files</span></span>

1. <span data-ttu-id="a61ea-150">Valitse **Raportointikonfiguraatiot**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-150">Select **Reporting configurations**.</span></span>
2. <span data-ttu-id="a61ea-151">Tuo ER-tietomallin konfiguraatiotiedosto.</span><span class="sxs-lookup"><span data-stu-id="a61ea-151">Import the ER data model configuration file.</span></span>
    1. <span data-ttu-id="a61ea-152">Valitse **Vaihto**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-152">Select **Exchange**.</span></span>
    2. <span data-ttu-id="a61ea-153">Valitse **Lataa XML-tiedostosta**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-153">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="a61ea-154">Valitse **Selaa** löytääksesi tiedoston **Model to learn JOIN data sources.version.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-154">Select **Browse** to find the **Model to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="a61ea-155">Valitse **OK**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-155">Select **OK**.</span></span>
3. <span data-ttu-id="a61ea-156">Tuo ER-mallin yhdistämismäärityksen määritystiedosto.</span><span class="sxs-lookup"><span data-stu-id="a61ea-156">Import the ER model-mapping configuration file.</span></span>
    1. <span data-ttu-id="a61ea-157">Valitse **Vaihto**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-157">Select **Exchange**.</span></span>
    2. <span data-ttu-id="a61ea-158">Valitse **Lataa XML-tiedostosta**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-158">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="a61ea-159">Valitse **Selaa** löytääksesi tiedoston **Mapping to learn JOIN data sources.version.1.1.xm**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-159">Select **Browse** to find the **Mapping to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="a61ea-160">Valitse **OK**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-160">Select **OK**.</span></span>
4. <span data-ttu-id="a61ea-161">Tuo ER-muotokonfiguraatiotiedosto.</span><span class="sxs-lookup"><span data-stu-id="a61ea-161">Import the ER format configuration file.</span></span>
    1. <span data-ttu-id="a61ea-162">Valitse **Vaihto**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-162">Select **Exchange**.</span></span>
    2. <span data-ttu-id="a61ea-163">Valitse **Lataa XML-tiedostosta**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-163">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="a61ea-164">Valitse **Selaa** löytääksesi tiedoston **Format to learn JOIN data sources.version.1.1.xm**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-164">Select **Browse** to find the **Format to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="a61ea-165">Valitse **OK**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-165">Select **OK**.</span></span>
5. <span data-ttu-id="a61ea-166">Laajenna konfiguraatioiden puurakenteessa nimike **Mallinnus JOIN-tietolähteiden selvittämiseksi** sekä muut mallinimikkeet (jos käytettävissä).</span><span class="sxs-lookup"><span data-stu-id="a61ea-166">In the configurations tree, expand the **Model to learn JOIN data sources** item as well as other model items (when available).</span></span>
6. <span data-ttu-id="a61ea-167">Pane merkille puurakenteen ER-konfiguraatioiden luettelo sekä **Versiot**-pikavälilehden versiotiedot. Niitä käytetään malliraporttisi tietolähteenä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-167">Observe the list of ER configurations in the tree as well as version details on the **Versions** fast tab – they will be used as the source of data for your sample report.</span></span>

    ![Sähköisen raportoinnin konfiguraatiosivu](./media/GER-JoinDS-ConfigurationsTree.PNG)

### <a name="turn-on-execution-trace-options"></a><span data-ttu-id="a61ea-169">Suorituksen jäljitysasetusten käyttöönotto</span><span class="sxs-lookup"><span data-stu-id="a61ea-169">Turn on execution trace options</span></span>

1. <span data-ttu-id="a61ea-170">Valitse **KONFIGURAATIOT**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-170">Select **CONFIGURATIONS**.</span></span>
2. <span data-ttu-id="a61ea-171">Valitse **Käyttäjän parametrit**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-171">Select **User parameters**.</span></span>
3. <span data-ttu-id="a61ea-172">Määritä suorituksen jäljitysparametrit alla esitetyn näyttökuvan mukaisesti.</span><span class="sxs-lookup"><span data-stu-id="a61ea-172">Set execution trace parameters as shown on the screenshot below.</span></span>

    ![Sähköisen raportoinnin käyttäjän parametrien sivu](./media/GER-JoinDS-Parameters.PNG)

    <span data-ttu-id="a61ea-174">Kun nämä parametrit ovat käytössä, suorituksen jäljitys luodaan jokaiselle tuodun ER-muototiedoston suoritukselle.</span><span class="sxs-lookup"><span data-stu-id="a61ea-174">With these parameters turned on, for every execution of the imported ER format file, the execution trace will be generated.</span></span> <span data-ttu-id="a61ea-175">Luodun suorituksen jäljityksen tietojen avulla voit analysoida ER-muodon ja ER-mallin yhdistämismäärityksen komponenttien suorituksen.</span><span class="sxs-lookup"><span data-stu-id="a61ea-175">Using details of generated execution trace, you can analyze the execution of ER format and ER model-mapping components.</span></span> <span data-ttu-id="a61ea-176">Lisätietoja sähköisen raportoinnin suorituksen jäljitystoiminnosta saat sivulta [Sähköisen raportoinnin muodon suorittamisen seuraaminen suorituskykyyn liittyvien ongelmien ratkaisemiseksi](trace-execution-er-troubleshoot-perf.md).</span><span class="sxs-lookup"><span data-stu-id="a61ea-176">Visit the [Trace execution of ER format to troubleshoot performance issues](trace-execution-er-troubleshoot-perf.md) page for more details about ER execution trace feature.</span></span>

### <a name="review-er-model-mapping-part-1"></a><span data-ttu-id="a61ea-177">ER-mallimäärityksen tarkistus (osa 1)</span><span class="sxs-lookup"><span data-stu-id="a61ea-177">Review ER model mapping (part 1)</span></span>

<span data-ttu-id="a61ea-178">Tarkista ER-mallin yhdistämismäärityskomponentin asetukset.</span><span class="sxs-lookup"><span data-stu-id="a61ea-178">Review settings of the ER model-mapping component.</span></span> <span data-ttu-id="a61ea-179">Komponentti on määritetty käyttämään ER-konfiguraatioiden mallien tietoja, konfiguraatioiden ja konfiguraatiolähteiden tietoja käyttämättä **Liitä**-tyypin tietolähteitä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-179">The component is configured to access information about versions of ER configurations, details of configurations and configuration providers without using data sources of the **Join** type.</span></span>

1. <span data-ttu-id="a61ea-180">Valitse konfiguraatio **Määritys JOIN-tietolähteiden selvittämiseksi**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-180">Select **Mapping to learn JOIN data sources** configuration.</span></span>
2. <span data-ttu-id="a61ea-181">Avaa määritysluettelo valitsemalla **Suunnittelutoiminto**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-181">Select **Designer** to open the list of mappings.</span></span>
3. <span data-ttu-id="a61ea-182">Tarkista määritystiedot valitsemalla **Suunnittelutoiminto**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-182">Select **Designer** to review the mapping details.</span></span>
4. <span data-ttu-id="a61ea-183">Valitse **Näytä tiedot**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-183">Select **Show details**.</span></span>
5. <span data-ttu-id="a61ea-184">Laajenna konfiguraatioiden puurakenteessa tietomallinimikkeet **Set1** ja **Set1.Details**:</span><span class="sxs-lookup"><span data-stu-id="a61ea-184">In the configurations tree, expand the **Set1** and **Set1.Details** data model items:</span></span>

    1. <span data-ttu-id="a61ea-185">Sitova **Details: Record list = Versions** ilmaisee, että nimike **Set1.Details** on sidottu **Versiot**-tietolähteeseen, joka palauttaa **ERSolutionVersionTable**-taulukon tietueita.</span><span class="sxs-lookup"><span data-stu-id="a61ea-185">Binding **Details: Record list = Versions** indicates that the **Set1.Details** item is bound to the **Versions** data source returning records of the **ERSolutionVersionTable** table.</span></span> <span data-ttu-id="a61ea-186">Kukin tämän taulukon tietue edustaa yksittäistä ER-konfiguraation versiota.</span><span class="sxs-lookup"><span data-stu-id="a61ea-186">Each record of this table represents a single version of an ER configuration.</span></span> <span data-ttu-id="a61ea-187">Tämän taulukon sisältö esitetään **Versiot**-pikavälilehdessä **Konfiguraatiot**-sivulla.</span><span class="sxs-lookup"><span data-stu-id="a61ea-187">The content of this table is presented in the **Versions** fast tab on the **Configurations** page.</span></span>
    2. <span data-ttu-id="a61ea-188">Sitova **ConfigurationVersion: String = @.PublicVersionNumber** tarkoittaa, että kunkin ER-konfiguraation version julkisen version arvo perustuu **PublicVersionNumber**-kentän arvoon taulukossa **ERSolutionVersionTable** ja että se sijoitetaan nimikkeeseen **ConfigurationVersion**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-188">Binding **ConfigurationVersion: String = @.PublicVersionNumber** means that the value of the public version of each ER configuration’s version is taken from the **PublicVersionNumber** field of the **ERSolutionVersionTable** table and placed to the **ConfigurationVersion** item.</span></span>
    3. <span data-ttu-id="a61ea-189">Sitova **ConfigurationTitle: String = @.'>Relations'.Solution.Name** ilmaisee, että ER-konfiguraation nimi perustuu **Nimi**-kenttään taulukossa **ERSolutionTable**, joka vuorostaan perustuu monta yhteen -suhteeseen (**'>Relations'**) taulukkojen **ERSolutionVersionTable** ja **ERSolutionTable** välillä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-189">Binding **ConfigurationTitle: String = @.'>Relations'.Solution.Name** indicates that the name of an ER configuration is taken from the **Name** field of the **ERSolutionTable** table assessing by using the many-to-one relation (**'>Relations'**) between the **ERSolutionVersionTable** and **ERSolutionTable** tables.</span></span> <span data-ttu-id="a61ea-190">Kulloisenkin sovellusesiintymän ER-konfiguraatioiden nimet esitetään **Konfiguraatiot**-sivun konfiguraatioiden puurakenteessa.</span><span class="sxs-lookup"><span data-stu-id="a61ea-190">Names of ER configurations of the current application instance are presented in the configurations tree on the **Configurations** page.</span></span>
    4. <span data-ttu-id="a61ea-191">Sitova **@.'>Relations'.Solution.'>Relations'.SolutionVendor.Name** tarkoittaa, että kulloisenkin konfiguraation omistava konfiguraatiolähde perustuu **Nimi**-kenttään taulukossa **ERVendorTable**, joka vuorostaan perustuu monta yhteen -suhteeseen taulukkojen **ERSolutionTable** ja **ERVendorTable** välillä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-191">Binding **@.'>Relations'.Solution.'>Relations'.SolutionVendor.Name** means that the name of the configuration provider that owns the current configuration is taken from the **Name** field of the **ERVendorTable** table assessing by using the many-to-one relation between **ERSolutionTable** and **ERVendorTable** tables.</span></span> <span data-ttu-id="a61ea-192">ER-konfiguraatiolähteiden nimet esitetään konfiguraatioiden puurakenteessa **Konfiguraatiot**-sivun jokaisessa konfiguraation sivuotsikossa.</span><span class="sxs-lookup"><span data-stu-id="a61ea-192">Names of ER configuration providers are presented in the configurations tree on the **Configurations** page on the page header for each configuration.</span></span> <span data-ttu-id="a61ea-193">Koko luettelo ER-konfiguraatiolähteistä esitetään taulukkosivulla **Organisaation hallinto \> Sähköinen raportointi \> Konfiguraation lähde**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-193">The entire list of ER configuration providers can be found on the **Organization administration \> Electronic reporting \> Configuration provider** table page.</span></span>

    ![ER-mallimäärityksen suunnittelun sivu](./media/GER-JoinDS-Set1Review.PNG)

6. <span data-ttu-id="a61ea-195">Laajenna tietomallinimike **Set1.Summary** konfiguraatioiden puurakenteessa:</span><span class="sxs-lookup"><span data-stu-id="a61ea-195">In the configurations tree, expand the **Set1.Summary** data model item:</span></span>

    1. <span data-ttu-id="a61ea-196">Sitova **VersionsNumber: Integer = VersionsSummary.aggregated.VersionsNumber** ilmaisee, että nimike **Set1.Summary.VersionsNumber** on sidottu **GroupBy**-tyypin **VersionsSummary**-tietolähteen koostekenttään **VersionsNumber**, joka määritettiin palauttamaan **ERSolutionVersionTable**-taulukon tietuemäärä **Versiot**-tietolähteen kautta.</span><span class="sxs-lookup"><span data-stu-id="a61ea-196">Binding **VersionsNumber: Integer = VersionsSummary.aggregated.VersionsNumber** indicates that the **Set1.Summary.VersionsNumber** item is bound to the **VersionsNumber** aggregation field of the **VersionsSummary** data source of the **GroupBy** type that was configured to return the number of records of the **ERSolutionVersionTable** table via the **Versions** data source.</span></span>

    ![GROUPBY-tietolähteen parametrisivu](./media/GER-JoinDS-Set1GroupByReview.PNG)

7. <span data-ttu-id="a61ea-198">Sulje sivu.</span><span class="sxs-lookup"><span data-stu-id="a61ea-198">Close the page.</span></span>

### <a name="review-er-model-mapping-part-2"></a><a name="review"></a> <span data-ttu-id="a61ea-199">ER-mallimäärityksen tarkistus (osa 2)</span><span class="sxs-lookup"><span data-stu-id="a61ea-199">Review ER model mapping (part 2)</span></span>

<span data-ttu-id="a61ea-200">Tarkista ER-mallin yhdistämismäärityskomponentin asetukset.</span><span class="sxs-lookup"><span data-stu-id="a61ea-200">Review settings of the ER model-mapping component.</span></span> <span data-ttu-id="a61ea-201">Komponentti on määritetty käyttämään ER-konfiguraatioiden mallien tietoja, konfiguraatioiden ja konfiguraatiolähteiden tietoja käyttäen **Liitä**-tyypin tietolähdettä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-201">The component is configured to access information about versions of ER configurations, details of configurations and configuration providers with using a data source of the **Join** type.</span></span>

1. <span data-ttu-id="a61ea-202">Laajenna konfiguraatioiden puurakenteessa tietomallinimikkeet **Set2** ja **Set2.Details**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-202">In the configurations tree, expand the **Set2** and **Set2.Details** data model items.</span></span> <span data-ttu-id="a61ea-203">Sitova **Details: Record list = Details** ilmaisee, että nimike **Set2.Details** on sidottu **Tiedot**-tietolähteeseen, joka on määritetty **Liitä**-tyypin tietolähteeksi.</span><span class="sxs-lookup"><span data-stu-id="a61ea-203">The binding **Details: Record list = Details** indicates that the **Set2.Details** item is bound to the **Details** data source configured as the data source of the **Join** type.</span></span>

    ![ER-mallimäärityksen suunnittelun sivu](./media/GER-JoinDS-Set2Review.PNG)

    <span data-ttu-id="a61ea-205">**Liitä**-tietolähde voidaan lisätä valitsemalla **Toiminnot\Liitä**-tietolähde:</span><span class="sxs-lookup"><span data-stu-id="a61ea-205">The **Join** data source can be added by selecting the **Functions\Join** data source:</span></span>

    ![ER-mallimäärityksen suunnittelun sivu](./media/GER-JoinDS-AddJoinDS.PNG)

2. <span data-ttu-id="a61ea-207">Valitse **Tiedot**-tietolähde.</span><span class="sxs-lookup"><span data-stu-id="a61ea-207">Select **Detail** s data source.</span></span>
3. <span data-ttu-id="a61ea-208">Valitse **Muokkaa** **Tietolähteet**-ruudussa.</span><span class="sxs-lookup"><span data-stu-id="a61ea-208">Select **Edit** in the **Data sources** pane.</span></span>
4. <span data-ttu-id="a61ea-209">Valitse **Muokkaa liitä**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-209">Select **Edit join**.</span></span>
5. <span data-ttu-id="a61ea-210">Valitse **Näytä tiedot**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-210">Select **Show details**.</span></span>

    ![JOIN-tietolähteen parametrisivu](./media/GER-JoinDS-JoinDSEditor.PNG)

    <span data-ttu-id="a61ea-212">Tätä sivua käytetään **Liitä**-tyypin pakollisen tietolähteen suunnittelemiseen.</span><span class="sxs-lookup"><span data-stu-id="a61ea-212">This page is used to design the required data source of the **Join type**.</span></span> <span data-ttu-id="a61ea-213">Suorituksen aikana tämä tietolähde luo yksittäisen yhteenliitetetyn tietueluettelon **Liitettyjen luettelo** -ruudukon tietolähteistä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-213">At runtime, this data source will create a single joined list of records from the data sources in the **Joined list** grid.</span></span> <span data-ttu-id="a61ea-214">Tietueiden liitos alkaa tietolähteestä **ConfigurationProviders**, joka on ruudukossa ensimmäisenä (**Tyyppi**-sarake on tyhjänä sen osalta).</span><span class="sxs-lookup"><span data-stu-id="a61ea-214">Join of records will start from the **ConfigurationProviders** data source that is in the grid as a first one (the **Type** column is blank for it).</span></span> <span data-ttu-id="a61ea-215">Muiden tietolähteiden tietueet liitetään sen jälkeen päätietolähteen tietueisiin kyseisen ruudukon mukaisessa järjestyksessä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-215">Records of every other data source will be joined consequently to records of the parent data source based on its order in this grid.</span></span> <span data-ttu-id="a61ea-216">Jokainen liitettävä tietolähde on määritettävä kohdetietolähteen alaiseksi tietolähteeksi (`1Versions`-tietolähde on tietolähteen `1Configurations` alainen; `1Configurations`-tietolähde on tietolähteen **ConfigurationProviders** alainen).</span><span class="sxs-lookup"><span data-stu-id="a61ea-216">Every joining data source must be configured as a data source nested under a target data source (`1Versions` data source is nested under `1Configurations` one; `1Configurations` data source is nested under **ConfigurationProviders** one).</span></span> <span data-ttu-id="a61ea-217">Kunkin määritetyn tietolähteen on sisällettävä liitoksen ehdot.</span><span class="sxs-lookup"><span data-stu-id="a61ea-217">Each configured data source must contain the conditions for the join.</span></span> <span data-ttu-id="a61ea-218">Tässä **Liitä**-tyypissä määritetään seuraavat liitokset:</span><span class="sxs-lookup"><span data-stu-id="a61ea-218">In the data source for this particular **Join**, the following joins are defined:</span></span>

    - <span data-ttu-id="a61ea-219">Kuhunkin tietolähteen **ConfigurationProviders** (johon viitataan **ERVendorTable**-taulukossa) liitetään vain tietolähteen **1Configurations** (johon viitataan **ERSolutionTable**-taulukossa) tietueita, joilla on sama arvo kentissä **SolutionVendor** ja **RecId**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-219">Each record of the **ConfigurationProviders** data source (referred to the **ERVendorTable** table) is joined with only records of the **1Configurations** one (referred to in the **ERSolutionTable** table) having the same value in the **SolutionVendor** and **RecId** fields.</span></span> <span data-ttu-id="a61ea-220">Tähän liitokseen käytetään **Sisäliitos**-tyyppiä sekä seuraavia ehtoja tietueiden täsmäämiseen:</span><span class="sxs-lookup"><span data-stu-id="a61ea-220">The **Inner join** type is used for this join as well as the following conditions for matching records:</span></span>

    <span data-ttu-id="a61ea-221">FILTER (Configurations, Configurations.SolutionVendor = ConfigurationProviders.RecId)</span><span class="sxs-lookup"><span data-stu-id="a61ea-221">FILTER (Configurations, Configurations.SolutionVendor = ConfigurationProviders.RecId)</span></span>

    - <span data-ttu-id="a61ea-222">Kuhunkin tietolähteen **1Configurations** (johon viitataan **ERSolutionTable**-taulukossa) liitetään vain tietolähteen **1Versions** (johon viitataan **ERSolutionVersionTable**-taulukossa) tietueita, joilla on sama arvo kentissä **Solution** ja **RecId**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-222">Each record of the **1Configurations** data source (referred to the **ERSolutionTable** table) is joined with the only records of the **1Versions** one (referred to the **ERSolutionVersionTable** table) having the same value in the **Solution** and **RecId** fields.</span></span> <span data-ttu-id="a61ea-223">Tähän liitokseen käytetään **Sisäliitos**-tyyppiä sekä seuraavia ehtoja tietueiden täsmäämiseen:</span><span class="sxs-lookup"><span data-stu-id="a61ea-223">**Inner join** type is used for this join as well as the following conditions for matching records:</span></span>

    <span data-ttu-id="a61ea-224">FILTER (ConfigurationVersions, ConfigurationVersions.Solution = ConfigurationProviders.'1Configurations'.RecId)</span><span class="sxs-lookup"><span data-stu-id="a61ea-224">FILTER (ConfigurationVersions, ConfigurationVersions.Solution = ConfigurationProviders.'1Configurations'.RecId)</span></span>

    - <span data-ttu-id="a61ea-225">**Suorita**-asetuksen arvoksi määritetään **Kysely**, mikä tarkoittaa, että tämä liitoksen tietolähde suoritetaan suorituksen aikana tietokannan tasolla suoran SQL-kutsun muodossa.</span><span class="sxs-lookup"><span data-stu-id="a61ea-225">**Execute** option is configured as **Query** meaning that this join data source will be executed at runtime on database level as a direct SQL call.</span></span>

    <span data-ttu-id="a61ea-226">Voit määrittää sovellustaulukkoja edustavien tietolähteiden tietueiden liitosten yhteydessä liitosehtoja käyttäen kenttäpareja, jotka eivät kuvaa olemassa olevia näiden taulukkojen välisiä AOT-suhteita.</span><span class="sxs-lookup"><span data-stu-id="a61ea-226">For joining records of data sources representing application tables, you can specify join conditions by using pairs of fields other than ones that describe existing in AOT relations between these tables.</span></span> <span data-ttu-id="a61ea-227">Myös tällainen liitos voidaan määrittää suoritettavaksi tietokantatasolla.</span><span class="sxs-lookup"><span data-stu-id="a61ea-227">This type of join can be configured to execute at the database level as well.</span></span>

6. <span data-ttu-id="a61ea-228">Sulje sivu.</span><span class="sxs-lookup"><span data-stu-id="a61ea-228">Close the page.</span></span>
7. <span data-ttu-id="a61ea-229">Valitse **Peruuta**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-229">Select **Cancel**.</span></span>
8. <span data-ttu-id="a61ea-230">Laajenna tietomallinimike **Set2.Summary** konfiguraatioiden puurakenteessa:</span><span class="sxs-lookup"><span data-stu-id="a61ea-230">In the configurations tree, expand the **Set2.Summary** data model item:</span></span>

    - <span data-ttu-id="a61ea-231">Sitova **VersionsNumber: Integer = DetailsSummary.aggregated.VersionsNumber** ilmaisee, että nimike **Set2.Summary.VersionsNumber** on sidottu **GroupBy**-tyypin **DetailsSummary**-tietolähteen koostekenttään **VersionsNumber**, joka määritettiin palauttamaan **Liitä**-tyypin **Tiedot**-tietolähteen liitettyjen tietueiden määrä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-231">Binding **VersionsNumber: Integer = DetailsSummary.aggregated.VersionsNumber** indicates that the **Set2.Summary.VersionsNumber** item is bound to the **VersionsNumber** aggregation field of the **DetailsSummary** data source of the **GroupBy** type that was configured to return the number of joined records of the **Details** data source of the **Join** type.</span></span>
    - <span data-ttu-id="a61ea-232">**Suorita**-sijaintiasetuksen arvoksi määritetään **Kysely**, mikä tarkoittaa, että tämä **GroupBy**-tietolähde suoritetaan suorituksen aikana tietokannan tasolla suoran SQL-kutsun muodossa.</span><span class="sxs-lookup"><span data-stu-id="a61ea-232">The **Execution** location option is configured as **Query** meaning that this **GroupBy** data source will be run at runtime as a direct SQL call at the database level.</span></span> <span data-ttu-id="a61ea-233">Tämä toiminnallisuus on mahdollista, koska perustietolähde **Tiedot**, jonka tyyppi on **Liitä**, on määritetty suoritettavaksi tietokannan tasolla.</span><span class="sxs-lookup"><span data-stu-id="a61ea-233">This behavior is possible because the base data source **Details** of the **Join** type is configured as executed at the database level.</span></span>

    ![GROUPBY-tietolähteen parametrisivu](./media/GER-JoinDS-Set2GroupByReview.PNG)

9. <span data-ttu-id="a61ea-235">Sulje sivu.</span><span class="sxs-lookup"><span data-stu-id="a61ea-235">Close the page.</span></span>
10. <span data-ttu-id="a61ea-236">Valitse **Peruuta**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-236">Select **Cancel**.</span></span>

### <a name="execute-er-format"></a><a name="executeERformat"></a> <span data-ttu-id="a61ea-237">Suorita ER-muoto</span><span class="sxs-lookup"><span data-stu-id="a61ea-237">Execute ER format</span></span>

1. <span data-ttu-id="a61ea-238">Access Finance tai RCS on verkkoselaimesi toinen istunto, jossa käytetään samoja tunnistetietoja ja yritystä kuin ensimmäisessä istunnossa.</span><span class="sxs-lookup"><span data-stu-id="a61ea-238">Access Finance or RCS in the second session of your web browser using same credentials and company as in the first session.</span></span>
2. <span data-ttu-id="a61ea-239">Siirry kohtaan **Organisaation hallinto \> Sähköinen raportointi \> Konfiguraatiot**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-239">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
3. <span data-ttu-id="a61ea-240">Laajenna konfiguraatio **Mallinnus JOIN-tietolähteiden selvittämiseksi** configuration.</span><span class="sxs-lookup"><span data-stu-id="a61ea-240">Expand **Model to learn JOIN data sources** configuration.</span></span>
4. <span data-ttu-id="a61ea-241">Valitse konfiguraatio **Muotoilu JOIN-tietolähteiden selvittämiseksi**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-241">Select **Format to learn JOIN data sources** configuration.</span></span>
5. <span data-ttu-id="a61ea-242">Valitse **Suunnittelu**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-242">Select **Designer**.</span></span>
6. <span data-ttu-id="a61ea-243">Valitse **Näytä tiedot**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-243">Select **Show details**.</span></span>
7. <span data-ttu-id="a61ea-244">Valitse **Määritys**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-244">Select **Mapping**.</span></span>
8. <span data-ttu-id="a61ea-245">Valitse **Laajenna/kutista**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-245">Select **Expand/Collapse**.</span></span>

    <span data-ttu-id="a61ea-246">Tämä muotoilu on suunnitelty täyttämään luotava tekstitiedosto uudella rivillä kutakin ER-konfiguraation versiota kohden (**Versio**-sekvenssiä).</span><span class="sxs-lookup"><span data-stu-id="a61ea-246">This format is designed to populate a generated text file with a new line for every version of an ER configuration (**Version** sequence).</span></span> <span data-ttu-id="a61ea-247">Kukin luotu rivi sisältää sen konfiguraatiolähteen nimen, joka omistaa kulloisenkin konfiguraation, konfiguraation nimen sekä konfiguraation version puolipistein eroteltuna.</span><span class="sxs-lookup"><span data-stu-id="a61ea-247">Each generated line will contain the name of a configuration provider owning the current configuration, the configuration name, and the configuration version separated by semicolon mark.</span></span> <span data-ttu-id="a61ea-248">Luodun tiedoston viimeinen rivi sisältää havaittujen ER-konfiguraatioiden versioiden määrän (**Yhteenveto**-sekvenssi).</span><span class="sxs-lookup"><span data-stu-id="a61ea-248">The final line of generated file will contain the number of discovered versions of ER configurations (**Summary** sequence).</span></span>

    ![ER-muodon suunnittelutoiminnon sivu](./media/GER-JoinDS-FormatReview.PNG)

    <span data-ttu-id="a61ea-250">Tietolähteitä **Tiedot** ja **Yhteenveto** käytetään täyttämään konfiguraatioversion tiedot luodussa tiedostossa:</span><span class="sxs-lookup"><span data-stu-id="a61ea-250">The **Data** and **Summary** data sources are used to populate configuration version details to the generated file:</span></span>

    - <span data-ttu-id="a61ea-251">Tietomallin **Set1** tietoja käytetään, kun valitset **Ei** **Valitsija**-tietolähteen osalta käyttäjän valintaikkunasivulla ER-muodon suorittamisen aikana.</span><span class="sxs-lookup"><span data-stu-id="a61ea-251">Information from the **Set1** data model is used when you choose **No** for the **Selector** data source at runtime on the user dialog page when running ER format.</span></span>
    - <span data-ttu-id="a61ea-252">Tietomallin **Set2** tietoja käytetään, kun valitset **Kyllä** **Valitsija**-tietolähteen osalta käyttäjän valintaikkunasivulla ER-muodon suorittamisen aikana.</span><span class="sxs-lookup"><span data-stu-id="a61ea-252">Information from the **Set2** data model is used when you choose **Yes** for the **Selector** data source at runtime on the user dialog page.</span></span>

    ![ER-muodon suunnittelutoiminnon sivu](./media/GER-JoinDS-FormatMappingReview.PNG)

9. <span data-ttu-id="a61ea-254">Valitse **Suorita**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-254">Select **Run**.</span></span>
10. <span data-ttu-id="a61ea-255">Valitse valintaikkunasivulla **Ei** kentässä **Käytä JOIN-tietolähdettä**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-255">On the dialog page, select **No** in the **Use JOIN data source** field.</span></span>
11. <span data-ttu-id="a61ea-256">Valitse **OK**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-256">Select **OK**.</span></span>
12. <span data-ttu-id="a61ea-257">Tarkista luotu tiedosto.</span><span class="sxs-lookup"><span data-stu-id="a61ea-257">Review generated file.</span></span>

    ![ER käyttäjän valintaikkunasivu](./media/GER-JoinDS-Set1Run.PNG)

#### <a name="analyze-er-format-execution-trace"></a><span data-ttu-id="a61ea-259">ER-muodon suorituksen jäljityksen analysointi</span><span class="sxs-lookup"><span data-stu-id="a61ea-259">Analyze ER format execution trace</span></span>

1. <span data-ttu-id="a61ea-260">Valitse Financen tai RCS:n ensimmäisessä istunnussa **Suunnittelutoiminto**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-260">In the first session of Finance or RCS, select **Designer**.</span></span>
2. <span data-ttu-id="a61ea-261">Valitse **Suorituskyvyn jäljitys**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-261">Select **Performance trac** e.</span></span>
3. <span data-ttu-id="a61ea-262">Valitse **Suorituskyvyn jäljitys** -ruudukossa viimeisimmän sellaisen ER-muodon suorituksen jäljityksen ylin tietue, joka käytti nykyistä mallimäärityskomponenttia.</span><span class="sxs-lookup"><span data-stu-id="a61ea-262">In the **Performance trace** grid, select the top-most record of the latest execution trace of an ER format that used the current model mapping component.</span></span>
4. <span data-ttu-id="a61ea-263">Valitse **OK**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-263">Select **OK**.</span></span>

    <span data-ttu-id="a61ea-264">Saat suoritustilastoista tietoa kaksinkertaisista sovellustaulukkojen kutsuista:</span><span class="sxs-lookup"><span data-stu-id="a61ea-264">Execution statistics informs you about duplicated calls to application tables:</span></span>

    - <span data-ttu-id="a61ea-265">**ERSolutionTable**-taulukon kutsumäärä vastaa konfiguraatioversioiden tietuiden määrää **ERSolutionVersionTable**-taulukossa, ja tällaisten kutsujen määrän vähentämisellä voidaan parantaa suorituskykyä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-265">**ERSolutionTable** has been called as many times as you have configuration version records in the **ERSolutionVersionTable** table, while the number of such calls could be reduced in times for performance improvement.</span></span>
    - <span data-ttu-id="a61ea-266">**ERVendorTable**-taulukon kutsumäärä on kaksinkertainen niihin konfiguraatioversioiden tietueiden määrään nähden, jotka havaittiin **ERSolutionVersionTable**-taulukossa, ja myös tällaisten kutsujen määrän vähentämisellä voidaan parantaa suorituskykyä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-266">**ERVendorTable** has been called twice for every configuration version record that was discovered in the **ERSolutionVersionTable** table, while the number of such calls could be reduced as well.</span></span>

    ![ER-mallimäärityksen suunnittelun sivu](./media/GER-JoinDS-Set1Run2.PNG)

5. <span data-ttu-id="a61ea-268">Sulje sivu.</span><span class="sxs-lookup"><span data-stu-id="a61ea-268">Close the page.</span></span>

### <a name="execute-er-format"></a><span data-ttu-id="a61ea-269">Suorita ER-muoto</span><span class="sxs-lookup"><span data-stu-id="a61ea-269">Execute ER format</span></span>

1. <span data-ttu-id="a61ea-270">Siirry siihen verkkoselaimesi välilehteen, joka sisältää toisen Finance- tai RCS-istunnon.</span><span class="sxs-lookup"><span data-stu-id="a61ea-270">Switch to your web browser tab with the second session of Finance or RCS.</span></span>
2. <span data-ttu-id="a61ea-271">Valitse **Suorita**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-271">Select **Run**.</span></span>
3. <span data-ttu-id="a61ea-272">Valitse valintaikkunasivulla **Kyllä** kentässä **Käytä JOIN-tietolähdettä**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-272">On the dialog page, select **Yes** in the **Use JOIN data source** field.</span></span>
4. <span data-ttu-id="a61ea-273">Valitse **OK**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-273">Select **OK**.</span></span>
5. <span data-ttu-id="a61ea-274">Tarkista luotu tiedosto.</span><span class="sxs-lookup"><span data-stu-id="a61ea-274">Review generated file.</span></span>

    ![ER käyttäjän valintaikkunasivu](./media/GER-JoinDS-Set2Run.PNG)

#### <a name="analyze-er-format-execution-trace"></a><a name="analyze"></a> <span data-ttu-id="a61ea-276">ER-muodon suorituksen jäljityksen analysointi</span><span class="sxs-lookup"><span data-stu-id="a61ea-276">Analyze ER format execution trace</span></span>

1. <span data-ttu-id="a61ea-277">Valitse Financen tai RCS:n ensimmäisessä istunnussa **Suunnittelutoiminto**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-277">In the first session of Finance or RCS, select **Designer**.</span></span>
2. <span data-ttu-id="a61ea-278">Valitse **Suorituskyvyn jäljitys**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-278">Select **Performance trace**.</span></span>
3. <span data-ttu-id="a61ea-279">Valitse **Suorituskyvyn jäljitys** -ruudukossa ylin tietue, joka edustaa viimeisimmän selalisen ER-muodon suorituksen jäljitystä, joka käytti nykyistä mallimäärityskomponenttia.</span><span class="sxs-lookup"><span data-stu-id="a61ea-279">In the **Performance trace** grid, select top-most record representing the latest execution trace of an ER format that used the current model mapping component.</span></span>
4. <span data-ttu-id="a61ea-280">Valitse **OK**.</span><span class="sxs-lookup"><span data-stu-id="a61ea-280">Select **OK**.</span></span>

    <span data-ttu-id="a61ea-281">Tilastotiedot kertovat seuraavista:</span><span class="sxs-lookup"><span data-stu-id="a61ea-281">Statistics informs you about the following:</span></span>

    - <span data-ttu-id="a61ea-282">Sovellustietokantaa on kutsuttu kerran, jotta saadaan tietueita taulukoista **ERVendorTable**, **ERSolutionTable** ja **ERSolutionVersionTable** pakollisia kenttiä varten.</span><span class="sxs-lookup"><span data-stu-id="a61ea-282">Application database has been called once to get records from **ERVendorTable**, **ERSolutionTable**, and **ERSolutionVersionTable** tables to access required fields.</span></span>

    ![ER-mallimäärityksen suunnittelun sivu](./media/GER-JoinDS-Set2Run2.PNG)

    - <span data-ttu-id="a61ea-284">Sovellustietokantaa on kutsuttu kerran konfiguraatioversioiden laskemiseksi käyttämällä liitoksia, jotka konfiguroitiin **Tiedot**-tietolähteessä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-284">Application database has been called once to calculate the number of configuration versions by using joins that were configured in the **Details** data source.</span></span>

    ![ER-mallimäärityksen suunnittelun sivu](./media/GER-JoinDS-Set2Run3.PNG)

## <a name="limitations"></a><span data-ttu-id="a61ea-286">Rajoitukset</span><span class="sxs-lookup"><span data-stu-id="a61ea-286">Limitations</span></span>

<span data-ttu-id="a61ea-287">Kuten tämän ohjeaiheen esimerkistä voi nähdä, **LIITOS**-tietolähde voidaan muodostaa useista tietolähteistä, jotka kuvaavat niitä tietueissa olevia tietoja, jotka on lopulta yhdistettävä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-287">As you can see from the example in this topic, the **JOIN** data source can be built from several data sources that describe the individual datasets of the records that must eventually be joined.</span></span> <span data-ttu-id="a61ea-288">Voit määrittää nämä tietolähteet valmiin ER-[SUODATIN](er-functions-list-filter.md)-toiminnon avulla.</span><span class="sxs-lookup"><span data-stu-id="a61ea-288">You can configure those data sources by using the built-in ER [FILTER](er-functions-list-filter.md) function.</span></span> <span data-ttu-id="a61ea-289">Kun määrität tietolähteen niin, että sitä kutsutaan **LIITOS**-tietolähteen ulkopuolelle, voit käyttää yrityksen alueita tietojen valinnan ehdon osana.</span><span class="sxs-lookup"><span data-stu-id="a61ea-289">When you configure the data source so that it's called beyond the **JOIN** data source, you can use company ranges as part of the condition for data selection.</span></span> <span data-ttu-id="a61ea-290">**LIITOS**-tietolähteen ensimmäinen toteutus ei tue tämäntyyppisiä tietolähteitä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-290">The initial implementation of the **JOIN** data source doesn't support data sources of this type.</span></span> <span data-ttu-id="a61ea-291">Jos esimerkiksi soitat [SUODATIN](er-functions-list-filter.md)-perusteisen tietolähteen suoritusalueella olevaan suodattimeen perustuvaan tietolähteeseen, näyttöön tulee poikkeus, **LIITOS**-tietolähde, jos kutsuttu tietolähde sisältää yritysalueita osana tietojen valitsemisen ehtoa.</span><span class="sxs-lookup"><span data-stu-id="a61ea-291">For example, when you call a [FILTER](er-functions-list-filter.md)-based data source within the scope of execution of a **JOIN** data source, if the called data source contains company ranges as part of the condition for data selection, an exception occurs.</span></span>

<span data-ttu-id="a61ea-292">Microsoft Dynamics 365 Finance -version 10.0.12 (elokuu 2020) avulla voit käyttää yrityksen alueita, kun haluat määrittää tietojen valitsemisen ehdoksi [SUODATUKSEEN](er-functions-list-filter.md) perustuvissa tietolähteissä, joita kutsutaan **LIITOS**-tietolähteen suoritusalueella.</span><span class="sxs-lookup"><span data-stu-id="a61ea-292">In Microsoft Dynamics 365 Finance version 10.0.12 (August 2020), you can use company ranges as part of the condition for data selection in [FILTER](er-functions-list-filter.md)-based data sources that are called within the scope of execution of a **JOIN** data source.</span></span> <span data-ttu-id="a61ea-293">Sovellus [kysely](../dev-ref/xpp-library-objects.md#query-object-model)-muodostimen rajoitusten vuoksi yritysalueita tuetaan vain **LIITOS**-tietolähteen ensimmäisellä tietolähteellä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-293">Because of the limitations of the application [query](../dev-ref/xpp-library-objects.md#query-object-model) builder, the company ranges are supported only for the first data source of a **JOIN** data source.</span></span>

### <a name="example"></a><span data-ttu-id="a61ea-294">Esimerkki</span><span class="sxs-lookup"><span data-stu-id="a61ea-294">Example</span></span>

<span data-ttu-id="a61ea-295">Sinun on esimerkiksi tehtävä sovellustietokantaan yksi puhelu, jotta saat luettelon useiden yritysten ulkomaankauppatapahtumista sekä kyseisissä tapahtumissa viitattavan varastonimikkeen yksityiskohdista.</span><span class="sxs-lookup"><span data-stu-id="a61ea-295">For example, you must make a single call to the application database to get the list of foreign trade transactions of multiple companies and the details of the inventory item that is referred to in those transactions.</span></span>

<span data-ttu-id="a61ea-296">Tässä tapauksessa voit määrittää seuraavat artefaktit ER-mallikartoitukseen:</span><span class="sxs-lookup"><span data-stu-id="a61ea-296">In this case, you configure the following artifacts in your ER model mapping:</span></span>

- <span data-ttu-id="a61ea-297">**Intrastat**-juuritietolähde, joka edustaa **Intrastat**-taulua.</span><span class="sxs-lookup"><span data-stu-id="a61ea-297">**Intrastat** root data source that represents the **Intrastat** table.</span></span>
- <span data-ttu-id="a61ea-298">**Nimikkeet**-juuritietolähde, joka edustaa **InventTable**-taulua.</span><span class="sxs-lookup"><span data-stu-id="a61ea-298">**Items** root data source that represents the **InventTable** table.</span></span>
- <span data-ttu-id="a61ea-299">**Yritykset**-juuritietolähde, joka palauttaa yritysten luettelon (tässä esimerkissä **DEMF** ja **GBSI**), jossa tapahtumia on käytettävä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-299">**Companies** root data source that returns the list of companies (**DEMF** and **GBSI** in this example) where transactions must be accessed.</span></span> <span data-ttu-id="a61ea-300">Yrityskoodi on käytettävissä **Companies.Code**-kentässä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-300">The company code is available from the **Companies.Code** field.</span></span>
- <span data-ttu-id="a61ea-301">**X1**-juuritietolähde, jolla on lauseke `FILTER (Intrastat, VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code))`.</span><span class="sxs-lookup"><span data-stu-id="a61ea-301">**X1** root data source that has the expression `FILTER (Intrastat, VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code))`.</span></span> <span data-ttu-id="a61ea-302">Tämä lauseke sisältää yritysalueiden määritelmän osana tietojen valitsemisen ehtoa `VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code)`.</span><span class="sxs-lookup"><span data-stu-id="a61ea-302">As part of the condition for data selection, this expression contains the definition of company ranges `VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code)`.</span></span>
- <span data-ttu-id="a61ea-303">**X2**-tietolähde **X1**-tietolähteen sisäkkäisenä nimikkeenä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-303">**X2** data source as a nested item of the **X1** data source.</span></span> <span data-ttu-id="a61ea-304">Se sisältää lausekkeen `FILTER (Items, Items.ItemId = X1.ItemId)`.</span><span class="sxs-lookup"><span data-stu-id="a61ea-304">It includes the expression `FILTER (Items, Items.ItemId = X1.ItemId)`.</span></span>

<span data-ttu-id="a61ea-305">Lopuksi voit määrittää **LIITOS**-tietolähteen, jossa **X1** on ensimmäinen tietolähde, ja **X2** on toinen tietolähde.</span><span class="sxs-lookup"><span data-stu-id="a61ea-305">Finally, you can configure a **JOIN** data source where **X1** is the first data source and **X2** is the second data source.</span></span> <span data-ttu-id="a61ea-306">Voit määrittää **Kyselyn** **Suorita**-vaihtoehdoksi, jos haluat suorittaa tämän tietolähteen tietokantatasolla suorana SQL-kutsuna.</span><span class="sxs-lookup"><span data-stu-id="a61ea-306">You can specify **Query** as the **Execute** option to force ER to run this data source on the database level as a direct SQL call.</span></span>

<span data-ttu-id="a61ea-307">Kun konfiguroitu tietolähde suoritetaan, kun ER -suoritus [jäljitetään](trace-execution-er-troubleshoot-perf.md), seuraava ilmoitus näkyy ER-mallin kartoituksen suunnittelussa osana ER-suorituskykyjälkeä.</span><span class="sxs-lookup"><span data-stu-id="a61ea-307">When the configured data source is run while the ER execution is [traced](trace-execution-er-troubleshoot-perf.md), the following statement is shown in the ER model mapping designer as part of the ER performance trace.</span></span>

`SELECT ... FROM INTRASTAT T1 CROSS JOIN INVENTTABLE T2 WHERE ((T1.PARTITION=?) AND (T1.DATAAREAID IN (N'DEMF',N'GBSI') )) AND ((T2.PARTITION=?) AND (T2.ITEMID=T1.ITEMID AND (T2.DATAAREAID = T1.DATAAREAID) AND (T2.PARTITION = T1.PARTITION))) ORDER BY T1.DISPATCHID,T1.SEQNUM`

> [!NOTE]
> <span data-ttu-id="a61ea-308">Virhe ilmenee, jos suoritat **LIITOS**-tietolähteen, joka on määritetty siten, että se sisältää tietojenvalintaehtoja, joiden tietolähteiden **LIITOS**-tietolähteitä on suoritettu.</span><span class="sxs-lookup"><span data-stu-id="a61ea-308">An error occurs if you run a **JOIN** data source that has been configured so that it contains data selection conditions that have company ranges for additional data sources of the executed **JOIN** data source.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a61ea-309">Lisäresurssit</span><span class="sxs-lookup"><span data-stu-id="a61ea-309">Additional resources</span></span>

[<span data-ttu-id="a61ea-310">Sähköisen raportoinnin kaavojen suunnittelutoiminto</span><span class="sxs-lookup"><span data-stu-id="a61ea-310">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="a61ea-311">Sähköisen raportoinnin muodon suorittamisen seuraaminen suorituskykyyn liittyvien ongelmien ratkaisemiseksi</span><span class="sxs-lookup"><span data-stu-id="a61ea-311">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]