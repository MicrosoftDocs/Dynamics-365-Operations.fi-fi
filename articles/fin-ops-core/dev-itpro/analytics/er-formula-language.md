---
title: Sähköisen raportoinnin kaavakieli
description: Tässä ohjeaiheessa on tietoja siitä, miten käyttää kaavakieltä sähköisessä raportoinnissa (ER).
author: NickSelin
manager: kfend
ms.date: 12/18/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERDataModelDesigner, ERExpressionDesignerFormula, ERMappedFormatDesigner, ERModelMappingDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 58771
ms.assetid: 24223e13-727a-4be6-a22d-4d427f504ac9
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 3b1c6a3f3fd5b55012d89a6c9f0bf2ed5dddd13c
ms.sourcegitcommit: 36857283d70664742c8c04f426b231c42daf4ceb
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 12/20/2019
ms.locfileid: "2916657"
---
# <a name="electronic-reporting-formula-language"></a><span data-ttu-id="ead50-103">Sähköisen raportoinnin kaavakieli</span><span class="sxs-lookup"><span data-stu-id="ead50-103">Electronic reporting formula language</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="ead50-104">Sähköinen raportointi (ER) tarjoaa tehokkaan tietojenmuunnoskokemuksen.</span><span class="sxs-lookup"><span data-stu-id="ead50-104">Electronic reporting (ER) provides a powerful data transformation experience.</span></span> <span data-ttu-id="ead50-105">Kieli, jota käytetään ilmaisemaan vaaditut tietojen manipuloinnit ER -kaavojen suunnittelutoiminnossa muistuttaa kaavan kieltä Microsoft Excelissä.</span><span class="sxs-lookup"><span data-stu-id="ead50-105">The language that is used to express the required data manipulations in the ER formula designer resembles the formula language in Microsoft Excel.</span></span>

## <a name="basic-syntax"></a><span data-ttu-id="ead50-106">Perussyntaksi</span><span class="sxs-lookup"><span data-stu-id="ead50-106">Basic syntax</span></span>

<span data-ttu-id="ead50-107">ER-lausekkeet voivat sisältää joitakin seuraavia elementtejä tai kaikki seuraavat elementit:</span><span class="sxs-lookup"><span data-stu-id="ead50-107">ER expressions can contain any or all of the following elements:</span></span>

- [<span data-ttu-id="ead50-108">Vakiot</span><span class="sxs-lookup"><span data-stu-id="ead50-108">Constants</span></span>](#Constants)
- [<span data-ttu-id="ead50-109">Operaattorit</span><span class="sxs-lookup"><span data-stu-id="ead50-109">Operators</span></span>](#Operators)
- [<span data-ttu-id="ead50-110">Viitteet</span><span class="sxs-lookup"><span data-stu-id="ead50-110">References</span></span>](#References)
- [<span data-ttu-id="ead50-111">Polut</span><span class="sxs-lookup"><span data-stu-id="ead50-111">Paths</span></span>](#Paths)
- [<span data-ttu-id="ead50-112">Toiminnot</span><span class="sxs-lookup"><span data-stu-id="ead50-112">Functions</span></span>](#Functions)

## <span data-ttu-id="ead50-113"><a name="Constants">Vakiot</a></span><span class="sxs-lookup"><span data-stu-id="ead50-113"><a name="Constants">Constants</a></span></span>

<span data-ttu-id="ead50-114">Voit käyttää lausekkeiden suunnittelussa tekstivakioita ja numeerisia vakioita (arvoja, joita ei lasketa).</span><span class="sxs-lookup"><span data-stu-id="ead50-114">When you design expressions, you can use text and numeric constants (that is, values that aren't calculated).</span></span> <span data-ttu-id="ead50-115">Esimerkiksi lauseke `VALUE ("100") + 20` käyttää numeerista vakiota **20** ja merkkijonovakiota **"100"** ja se palauttaa numeerisen arvon **120**.</span><span class="sxs-lookup"><span data-stu-id="ead50-115">For example, the expression `VALUE ("100") + 20` uses the numeric constant **20** and the string constant **"100"**, and it returns the numeric value **120**.</span></span>

<span data-ttu-id="ead50-116">ER-kaavojen suunnittelutoimintoa tukee ohjausjaksoja.</span><span class="sxs-lookup"><span data-stu-id="ead50-116">The ER formula designer supports escape sequences.</span></span> <span data-ttu-id="ead50-117">Niinpä voitkin määrittää lausekkeen merkkijonosta, jota on käsiteltävä eri tavalla.</span><span class="sxs-lookup"><span data-stu-id="ead50-117">Therefore, you can specify an expression string that should be handled differently.</span></span> <span data-ttu-id="ead50-118">Lauseke `"Leo Tolstoy ""War and Peace"" Volume 1"` palauttaa esimerkiksi tekstimerkkijonon **Leo Tolstoy "War and Peace" Volume 1**.</span><span class="sxs-lookup"><span data-stu-id="ead50-118">For example, the expression `"Leo Tolstoy ""War and Peace"" Volume 1"` returns the text string **Leo Tolstoy "War and Peace" Volume 1**.</span></span>

## <span data-ttu-id="ead50-119"><a name="Operators">Operaattorit</a></span><span class="sxs-lookup"><span data-stu-id="ead50-119"><a name="Operators">Operators</a></span></span>

<span data-ttu-id="ead50-120">Seuraavassa taulukossa on aritmeettisia operaattoreita, joita voi käyttää matemaattisten perusoperaattoreiden, kuten lisäyksen, vähennyksen sekä kerto- ja jakolaskun suorittamiseen.</span><span class="sxs-lookup"><span data-stu-id="ead50-120">The following table shows the arithmetic operators that you can use to do basic mathematical operations, such as addition, subtraction, multiplication, and division.</span></span>

| <span data-ttu-id="ead50-121">Käyttäjä</span><span class="sxs-lookup"><span data-stu-id="ead50-121">Operator</span></span> | <span data-ttu-id="ead50-122">Merkitys</span><span class="sxs-lookup"><span data-stu-id="ead50-122">Meaning</span></span>               | <span data-ttu-id="ead50-123">Esimerkki</span><span class="sxs-lookup"><span data-stu-id="ead50-123">Example</span></span>     |
|----------|-----------------------|-------------|
| +        | <span data-ttu-id="ead50-124">Lisäys</span><span class="sxs-lookup"><span data-stu-id="ead50-124">Addition</span></span>              | `1+2`       |
| -        | <span data-ttu-id="ead50-125">Vähennys, negaatio</span><span class="sxs-lookup"><span data-stu-id="ead50-125">Subtraction, negation</span></span> | <span data-ttu-id="ead50-126">`5-2`, `-1`</span><span class="sxs-lookup"><span data-stu-id="ead50-126">`5-2`, `-1`</span></span> |
| \*       | <span data-ttu-id="ead50-127">Kertolasku</span><span class="sxs-lookup"><span data-stu-id="ead50-127">Multiplication</span></span>        | `7\*8`      |
| /        | <span data-ttu-id="ead50-128">Jaosto</span><span class="sxs-lookup"><span data-stu-id="ead50-128">Division</span></span>              | `9/3`       |

<span data-ttu-id="ead50-129">Seuraavassa taulukossa on tuetut vertailuoperaattorit.</span><span class="sxs-lookup"><span data-stu-id="ead50-129">The following table shows the comparison operators that are supported.</span></span> <span data-ttu-id="ead50-130">Näillä operaattoreilla voi verrata kahta arvoa.</span><span class="sxs-lookup"><span data-stu-id="ead50-130">You can use these operators to compare two values.</span></span>

| <span data-ttu-id="ead50-131">Käyttäjä</span><span class="sxs-lookup"><span data-stu-id="ead50-131">Operator</span></span> | <span data-ttu-id="ead50-132">Merkitys</span><span class="sxs-lookup"><span data-stu-id="ead50-132">Meaning</span></span>                  | <span data-ttu-id="ead50-133">Esimerkki</span><span class="sxs-lookup"><span data-stu-id="ead50-133">Example</span></span>      |
|----------|--------------------------|--------------|
| =        | <span data-ttu-id="ead50-134">Yhtä suuri</span><span class="sxs-lookup"><span data-stu-id="ead50-134">Equal</span></span>                    | `X=Y`        |
| &gt;     | <span data-ttu-id="ead50-135">Suurempi kuin</span><span class="sxs-lookup"><span data-stu-id="ead50-135">Greater than</span></span>             | `X>Y`        |
| &lt;     | <span data-ttu-id="ead50-136">Pienempi kuin</span><span class="sxs-lookup"><span data-stu-id="ead50-136">Less than</span></span>                | `X<Y`        |
| &gt;=    | <span data-ttu-id="ead50-137">Suurempi tai yhtä suuri kuin</span><span class="sxs-lookup"><span data-stu-id="ead50-137">Greater than or equal to</span></span> | `X>=Y`       |
| &lt;=    | <span data-ttu-id="ead50-138">Pienempi tai yhtä suuri kuin</span><span class="sxs-lookup"><span data-stu-id="ead50-138">Less than or equal to</span></span>    | `X<=Y`       |
| &lt;&gt; | <span data-ttu-id="ead50-139">Ei sama kuin</span><span class="sxs-lookup"><span data-stu-id="ead50-139">Not equal to</span></span>             | `X<>Y`       |

<span data-ttu-id="ead50-140">Lisäksi &-merkkiä voi käyttää tekstin ketjutusoperaattorina.</span><span class="sxs-lookup"><span data-stu-id="ead50-140">Additionally, you can use an ampersand (&) as a text concatenation operator.</span></span> <span data-ttu-id="ead50-141">Tällä tavoin yksittäiseen tekstikappaleeseen voi liittää tai yhdistää yhden tekstimerkkijonon tai useita merkkijonoja.</span><span class="sxs-lookup"><span data-stu-id="ead50-141">In this way, you can join, or concatenate, one or more text strings into a single piece of text.</span></span>

| <span data-ttu-id="ead50-142">Käyttäjä</span><span class="sxs-lookup"><span data-stu-id="ead50-142">Operator</span></span> | <span data-ttu-id="ead50-143">Merkitys</span><span class="sxs-lookup"><span data-stu-id="ead50-143">Meaning</span></span>     | <span data-ttu-id="ead50-144">Esimerkki</span><span class="sxs-lookup"><span data-stu-id="ead50-144">Example</span></span>                                               |
|----------|-------------|-------------------------------------------------------|
| &        | <span data-ttu-id="ead50-145">Liitä</span><span class="sxs-lookup"><span data-stu-id="ead50-145">Concatenate</span></span> | `"Nothing to print:" & " " & "no records found"`      |

### <a name="operator-precedence"></a><span data-ttu-id="ead50-146">Operaattoreiden käsittelyjärjestys</span><span class="sxs-lookup"><span data-stu-id="ead50-146">Operator precedence</span></span>

<span data-ttu-id="ead50-147">Järjestys, jossa yhdistelmälausekkeen osat lasketaan, on tärkeä.</span><span class="sxs-lookup"><span data-stu-id="ead50-147">The order in which the parts of a compound expression are evaluated is important.</span></span> <span data-ttu-id="ead50-148">Esimerkiksi lausekkeen `1 + 4 / 2` tulos on erilainen sen mukaan, suoritetaanko ensi yhteenlasku- vai jakotoiminto.</span><span class="sxs-lookup"><span data-stu-id="ead50-148">For example, the result of the expression `1 + 4 / 2` varies, depending on whether the addition or division operation is done first.</span></span> <span data-ttu-id="ead50-149">Sulkeiden avulla voit määrittää, miten lauseke lasketaan.</span><span class="sxs-lookup"><span data-stu-id="ead50-149">You can use parentheses to explicitly define how an expression is evaluated.</span></span> <span data-ttu-id="ead50-150">Jos haluat esimerkiksi osoittaa, että yhteenlaskutoiminto suoritetaan ensin, voit muuttaa edeltävän lausekkeen muotoon `(1 + 4) / 2`.</span><span class="sxs-lookup"><span data-stu-id="ead50-150">For example, to indicate that the addition operation should be done first, you can change the preceding expression to `(1 + 4) / 2`.</span></span> <span data-ttu-id="ead50-151">Jos et selkeästi ilmaise lausekkeen toimintojen suoritusjärjestystä, järjestys perustuu oletusarvoiseen tukioperaattoreiden määrittämään käsittelyjärjestykseen.</span><span class="sxs-lookup"><span data-stu-id="ead50-151">If you don't explicitly indicate the order of operations in an expression, the order is based on the default precedence that is assigned to the supported operators.</span></span> <span data-ttu-id="ead50-152">Seuraavassa taulukossa kuhunkin operaattoriin liitetty käsittelyjärjestys.</span><span class="sxs-lookup"><span data-stu-id="ead50-152">The following table shows the precedence that is assigned to each operator.</span></span> <span data-ttu-id="ead50-153">Operaattorit, joilla on korkeampi käsittelyjärjestys (esimerkiksi 7), suoritetaan ennen operaattoreita, joilla on alempi käsittelyjärjestys (esimerkiksi 1).</span><span class="sxs-lookup"><span data-stu-id="ead50-153">Operators that have a higher precedence (for example, 7) are evaluated before operators that have a lower precedence (for example, 1).</span></span>

| <span data-ttu-id="ead50-154">Järjestys</span><span class="sxs-lookup"><span data-stu-id="ead50-154">Precedence</span></span> | <span data-ttu-id="ead50-155">Operaattorit</span><span class="sxs-lookup"><span data-stu-id="ead50-155">Operators</span></span>      | <span data-ttu-id="ead50-156">Syntaksi</span><span class="sxs-lookup"><span data-stu-id="ead50-156">Syntax</span></span>                                                                  |
|------------|----------------|-------------------------------------------------------------------------|
| <span data-ttu-id="ead50-157">7</span><span class="sxs-lookup"><span data-stu-id="ead50-157">7</span></span>          | <span data-ttu-id="ead50-158">Ryhmittely</span><span class="sxs-lookup"><span data-stu-id="ead50-158">Grouping</span></span>       | <span data-ttu-id="ead50-159">( …</span><span class="sxs-lookup"><span data-stu-id="ead50-159">( …</span></span> <span data-ttu-id="ead50-160">)</span><span class="sxs-lookup"><span data-stu-id="ead50-160">)</span></span>                                                                   |
| <span data-ttu-id="ead50-161">6</span><span class="sxs-lookup"><span data-stu-id="ead50-161">6</span></span>          | <span data-ttu-id="ead50-162">Jäsenen käyttöoikeus</span><span class="sxs-lookup"><span data-stu-id="ead50-162">Member access</span></span>  | <span data-ttu-id="ead50-163">…</span><span class="sxs-lookup"><span data-stu-id="ead50-163">…</span></span> <span data-ttu-id="ead50-164">.</span><span class="sxs-lookup"><span data-stu-id="ead50-164">.</span></span> <span data-ttu-id="ead50-165">…</span><span class="sxs-lookup"><span data-stu-id="ead50-165">…</span></span>                                                                   |
| <span data-ttu-id="ead50-166">5</span><span class="sxs-lookup"><span data-stu-id="ead50-166">5</span></span>          | <span data-ttu-id="ead50-167">Funktiokutsu</span><span class="sxs-lookup"><span data-stu-id="ead50-167">Function call</span></span>  | <span data-ttu-id="ead50-168">…</span><span class="sxs-lookup"><span data-stu-id="ead50-168">…</span></span> <span data-ttu-id="ead50-169">( …</span><span class="sxs-lookup"><span data-stu-id="ead50-169">( …</span></span> <span data-ttu-id="ead50-170">)</span><span class="sxs-lookup"><span data-stu-id="ead50-170">)</span></span>                                                                 |
| <span data-ttu-id="ead50-171">4</span><span class="sxs-lookup"><span data-stu-id="ead50-171">4</span></span>          | <span data-ttu-id="ead50-172">Kertova</span><span class="sxs-lookup"><span data-stu-id="ead50-172">Multiplicative</span></span> | <span data-ttu-id="ead50-173">…</span><span class="sxs-lookup"><span data-stu-id="ead50-173">…</span></span> <span data-ttu-id="ead50-174">\* …</span><span class="sxs-lookup"><span data-stu-id="ead50-174">\* …</span></span><br><span data-ttu-id="ead50-175">…</span><span class="sxs-lookup"><span data-stu-id="ead50-175">…</span></span> <span data-ttu-id="ead50-176">/ …</span><span class="sxs-lookup"><span data-stu-id="ead50-176">/ …</span></span>                                                         |
| <span data-ttu-id="ead50-177">3</span><span class="sxs-lookup"><span data-stu-id="ead50-177">3</span></span>          | <span data-ttu-id="ead50-178">Lisä</span><span class="sxs-lookup"><span data-stu-id="ead50-178">Additive</span></span>       | <span data-ttu-id="ead50-179">…</span><span class="sxs-lookup"><span data-stu-id="ead50-179">…</span></span> <span data-ttu-id="ead50-180">+ …</span><span class="sxs-lookup"><span data-stu-id="ead50-180">+ …</span></span><br><span data-ttu-id="ead50-181">…</span><span class="sxs-lookup"><span data-stu-id="ead50-181">…</span></span> <span data-ttu-id="ead50-182">- …</span><span class="sxs-lookup"><span data-stu-id="ead50-182">- …</span></span>                                                          |
| <span data-ttu-id="ead50-183">2</span><span class="sxs-lookup"><span data-stu-id="ead50-183">2</span></span>          | <span data-ttu-id="ead50-184">Vertailu</span><span class="sxs-lookup"><span data-stu-id="ead50-184">Comparison</span></span>     | <span data-ttu-id="ead50-185">…</span><span class="sxs-lookup"><span data-stu-id="ead50-185">…</span></span> <span data-ttu-id="ead50-186">&lt; …</span><span class="sxs-lookup"><span data-stu-id="ead50-186">&lt; …</span></span><br><span data-ttu-id="ead50-187">…</span><span class="sxs-lookup"><span data-stu-id="ead50-187">…</span></span> <span data-ttu-id="ead50-188">&lt;= …</span><span class="sxs-lookup"><span data-stu-id="ead50-188">&lt;= …</span></span><br><span data-ttu-id="ead50-189">…</span><span class="sxs-lookup"><span data-stu-id="ead50-189">…</span></span><span data-ttu-id="ead50-190"> =&gt; …</span><span class="sxs-lookup"><span data-stu-id="ead50-190"> =&gt; …</span></span><br><span data-ttu-id="ead50-191">…</span><span class="sxs-lookup"><span data-stu-id="ead50-191">…</span></span> <span data-ttu-id="ead50-192">&gt; …</span><span class="sxs-lookup"><span data-stu-id="ead50-192">&gt; …</span></span><br><span data-ttu-id="ead50-193">…</span><span class="sxs-lookup"><span data-stu-id="ead50-193">…</span></span> <span data-ttu-id="ead50-194">= …</span><span class="sxs-lookup"><span data-stu-id="ead50-194">= …</span></span><br><span data-ttu-id="ead50-195">…</span><span class="sxs-lookup"><span data-stu-id="ead50-195">…</span></span> <span data-ttu-id="ead50-196">&lt;&gt; …</span><span class="sxs-lookup"><span data-stu-id="ead50-196">&lt;&gt; …</span></span> |
| <span data-ttu-id="ead50-197">1</span><span class="sxs-lookup"><span data-stu-id="ead50-197">1</span></span>          | <span data-ttu-id="ead50-198">Erottelu</span><span class="sxs-lookup"><span data-stu-id="ead50-198">Separation</span></span>     | <span data-ttu-id="ead50-199">…</span><span class="sxs-lookup"><span data-stu-id="ead50-199">…</span></span> <span data-ttu-id="ead50-200">, …</span><span class="sxs-lookup"><span data-stu-id="ead50-200">, …</span></span>                                                                   |

<span data-ttu-id="ead50-201">Jos lausekkeessa on useita peräkkäisiä operaattoreita, joilla on sama tärkeysjärjestys, kyseiset operaattorit suoritetaan vasemmalta oikealle.</span><span class="sxs-lookup"><span data-stu-id="ead50-201">If an expression includes multiple consecutive operators that have the same precedence, those operations are evaluated from left to right.</span></span> <span data-ttu-id="ead50-202">Esimerkiksi lauseke `1 + 6 / 2 \* 3 > 5` palauttaa arvon **tosi**.</span><span class="sxs-lookup"><span data-stu-id="ead50-202">For example, the expression `1 + 6 / 2 \* 3 > 5` returns **true**.</span></span> <span data-ttu-id="ead50-203">Käyttämällä sulkeita lausekkeiden haluttu laskentajärjestys voidaan ilmaista selkeästi, mikä myös helpottaa lausekkeiden lukemista ja ylläpitämistä.</span><span class="sxs-lookup"><span data-stu-id="ead50-203">We recommend that you use parentheses to explicitly indicate the desired order of operations in expressions, so that the expressions are easier to read and maintain.</span></span>

## <span data-ttu-id="ead50-204"><a name="References">Viitteet</a></span><span class="sxs-lookup"><span data-stu-id="ead50-204"><a name="References">References</a></span></span>

<span data-ttu-id="ead50-205">Kaikkia nykyisen ER-komponentin tietolähteitä, jotka ovat käytettävissä lausekkeen suunnittelun yhteydessä, voidaan käyttää nimettyinä viitteinä.</span><span class="sxs-lookup"><span data-stu-id="ead50-205">All data sources of the current ER component that are available during the design of an expression can be used as named references.</span></span> <span data-ttu-id="ead50-206">Nykyinen ER-osa voi olla mallin yhdistämismääritys tai muoto.</span><span class="sxs-lookup"><span data-stu-id="ead50-206">The current ER component can be either a model mapping or a format.</span></span> <span data-ttu-id="ead50-207">Esimerkiksi nykyinen ER-mallin määritys sisältää **ReportingDate**-tietolähteen, joka palauttaa *DateTime*-tietotyypin arvon.</span><span class="sxs-lookup"><span data-stu-id="ead50-207">For example, the current ER model mapping contains the **ReportingDate** data source, which returns a value of the *DateTime* data type.</span></span> <span data-ttu-id="ead50-208">Jotta kyseinen arvo saadaan muotoiltua oikein luotavassa asiakirjassa, siihen voidaan viitata lausekkeessa seuraavasti: `DATETIMEFORMAT (ReportingDate, "dd-MM-yyyy")`.</span><span class="sxs-lookup"><span data-stu-id="ead50-208">To correctly format that value in the generating document, you can reference the data source in the expression as `DATETIMEFORMAT (ReportingDate, "dd-MM-yyyy")`.</span></span>

<span data-ttu-id="ead50-209">Kaikkien niiden viittaavan tietolähteen nimen merkkien, jotka eivät ole kirjaimia, edessä on oltava edessään puolilainausmerkki (').</span><span class="sxs-lookup"><span data-stu-id="ead50-209">All characters in the name of a referencing data source that don't represent a letter of the alphabet must be preceded by a single quotation mark (').</span></span> <span data-ttu-id="ead50-210">Kaikilla viittaavan tietolähteen nimillä, jotka sisältävät ainakin yhden merkin, joka ei ole kirjain, on oltava puolilainausmerkkien sisällä.</span><span class="sxs-lookup"><span data-stu-id="ead50-210">If the name of a referencing data source contains at least one symbol that doesn't represent a letter of the alphabet, the name must be enclosed in single quotation marks.</span></span> <span data-ttu-id="ead50-211">Näitä muita kuin kirjaimia voivat olla esimerkiksi välimerkit tai muut kirjoitetut merkit.</span><span class="sxs-lookup"><span data-stu-id="ead50-211">For example, these non-alphabetic symbols can be punctuation marks or other written symbols.</span></span> <span data-ttu-id="ead50-212">Seuraavassa on muutamia esimerkkejä:</span><span class="sxs-lookup"><span data-stu-id="ead50-212">Here are some examples:</span></span>

- <span data-ttu-id="ead50-213">**Today's date & time** -tietolähteeseen on viitattava ER-lausekkeessa seuraavasti: `'Today''s date & time'`.</span><span class="sxs-lookup"><span data-stu-id="ead50-213">The **Today's date & time** data source must be referred to in an ER expression as `'Today''s date & time'`.</span></span>
- <span data-ttu-id="ead50-214">**Asiakkaat**-tietolähteen **name()**-menetelmän on viitattava ER-lausekkeeseen seuraavasti: `Customers.'name()'`.</span><span class="sxs-lookup"><span data-stu-id="ead50-214">The **name()** method of the **Customers** data source must be referred to in an ER expression as `Customers.'name()'`.</span></span>

<span data-ttu-id="ead50-215">Jos sovelluksen tietolähteiden menetelmillä on parametreja, kyseiset menetelmät kutsutaan seuraavalla syntaksilla:</span><span class="sxs-lookup"><span data-stu-id="ead50-215">If the methods of application data sources have parameters, the following syntax is used to call those methods:</span></span>

- <span data-ttu-id="ead50-216">Jos **Järjestelmä**-tietolähteen, jossa *Merkkijono*-tietotyypin parametri on **EN-US**, **isLanguageRTL**-menetelmään on viitattava ER-lausekkeessa seuraavasti: `System.isLanguageRTL("EN-US")`.</span><span class="sxs-lookup"><span data-stu-id="ead50-216">If the **isLanguageRTL** method of the **System** data source has an **EN-US** parameter of the *String* data type, this method must be referred to in an ER expression as `System.isLanguageRTL("EN-US")`.</span></span>
- <span data-ttu-id="ead50-217">Lainausmerkit eivät ole pakollisia, kun menetelmän nimessä on vain aakkosnumeerisia merkkejä.</span><span class="sxs-lookup"><span data-stu-id="ead50-217">Quotation marks aren't required when a method name contains only alphanumeric symbols.</span></span> <span data-ttu-id="ead50-218">Niitä on kuitenkin käytettävä taulun menetelmässä, jos hakasulkeet sisältyvät nimeen.</span><span class="sxs-lookup"><span data-stu-id="ead50-218">However, they are required for a method of a table if the name includes brackets.</span></span>

<span data-ttu-id="ead50-219">Kun **Järjestelmä**-tietolähde lisätään ER-yhdistämismääritykseen, jossa on viittauksena **Yleinen**-sovellusluokka, lauseke `System.isLanguageRTL("EN-US ")` palauttaa *totuusarvon* **EPÄTOSI**.</span><span class="sxs-lookup"><span data-stu-id="ead50-219">When the **System** data source is added to an ER mapping that refers to the **Global** application class, the expression `System.isLanguageRTL("EN-US ")` returns the *Boolean* value **FALSE**.</span></span> <span data-ttu-id="ead50-220">Muokattu lauseke `System.isLanguageRTL("AR")` palauttaa *totuusarvon* **tosi**.</span><span class="sxs-lookup"><span data-stu-id="ead50-220">The modified expression `System.isLanguageRTL("AR")` returns the *Boolean* value **TRUE**.</span></span>

<span data-ttu-id="ead50-221">Voit rajoittaa tapaa, jolla arvot siirretään tämän tyyppisen menetelmän parametreihin:</span><span class="sxs-lookup"><span data-stu-id="ead50-221">You can limit the way that values are passed to the parameters of this type of method:</span></span>

- <span data-ttu-id="ead50-222">Vain vakioita voi siirtää tämän tyyppisiin menetelmiin.</span><span class="sxs-lookup"><span data-stu-id="ead50-222">Only constants can be passed to methods of this type.</span></span> <span data-ttu-id="ead50-223">Vakioiden arvot määritetään suunnitteluvaiheessa.</span><span class="sxs-lookup"><span data-stu-id="ead50-223">The values of the constants are defined at design time.</span></span>
- <span data-ttu-id="ead50-224">Tämän tyypin parametrit tukevat alkeellisia (perus) tietotyyppejä.</span><span class="sxs-lookup"><span data-stu-id="ead50-224">Only primitive (basic) data types are supported for parameters of this type.</span></span> <span data-ttu-id="ead50-225">Alkukantaisia tietotyyppejä ovat esimerkiksi *kokonaisluku*, *reaaliluku*, *totuusarvo* ja *merkkijono*.</span><span class="sxs-lookup"><span data-stu-id="ead50-225">The primitive data types include *Integer*, *Real*, *Boolean*, and *String*.</span></span>

## <span data-ttu-id="ead50-226"><a name="Paths">Polut</a></span><span class="sxs-lookup"><span data-stu-id="ead50-226"><a name="Paths">Paths</a></span></span>

<span data-ttu-id="ead50-227">Kun lauseke viittaa rakenteelliseen tietolähteeseen, polun määritettä voidaan käyttää valittaessa tietolähteen tietty primitiivinen elementti.</span><span class="sxs-lookup"><span data-stu-id="ead50-227">When an expression references a structured data source, you can use the path definition to select a specific primitive element of that data source.</span></span> <span data-ttu-id="ead50-228">Piste (.) -merkkiä käytetään erottamaan rakenteisen tietolähteen yksittäiset elementit.</span><span class="sxs-lookup"><span data-stu-id="ead50-228">A dot character (.) is used to separate individual elements of a structured data source.</span></span> <span data-ttu-id="ead50-229">Esimerkiksi nykyinen ER-mallin määritys sisältää **InvoiceTransactions**-tietolähteen, joka palauttaa tietueluettelon.</span><span class="sxs-lookup"><span data-stu-id="ead50-229">For example, the current ER model mapping contains the **InvoiceTransactions** data source, and this data source returns a list of records.</span></span> <span data-ttu-id="ead50-230">**InvoiceTransactions**-tietuerakenne sisältää **AmountDebit**- ja **AmountCredit**-kentät, joista kumpikin palautta numeerisia arvoja.</span><span class="sxs-lookup"><span data-stu-id="ead50-230">The **InvoiceTransactions** record structure contains the **AmountDebit** and **AmountCredit** fields, and both these fields return numeric values.</span></span> <span data-ttu-id="ead50-231">Tämän vuoksi voit suunnitella seuraavan lausekkeen laskutettavan summan laskemista varten: `InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit`.</span><span class="sxs-lookup"><span data-stu-id="ead50-231">Therefore, you can design the following expression to calculate the invoiced amount: `InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit`.</span></span> <span data-ttu-id="ead50-232">`InvoiceTransactions.AmountDebit`-rakenne tässä lausekkeessa on polku, jota käytetään **AmountDebit**-kentän **InvoiceTransactions**-tietolähteen *tietueluettelo*-tyyppiin pääsemiseksi.</span><span class="sxs-lookup"><span data-stu-id="ead50-232">The `InvoiceTransactions.AmountDebit` construction in this expression is the path that is used to access the **AmountDebit** field of the **InvoiceTransactions** data source of the *Record list* type.</span></span>

### <a name="relative-path"></a><span data-ttu-id="ead50-233">Suhteellinen polku</span><span class="sxs-lookup"><span data-stu-id="ead50-233">Relative path</span></span>

<span data-ttu-id="ead50-234">Jos rakenteisen tietolähteen polku alkaa at-merkillä (@), se on suhteellinen polku.</span><span class="sxs-lookup"><span data-stu-id="ead50-234">If the path of a structured data source starts with an "at" sign (@), it's a relative path.</span></span> <span data-ttu-id="ead50-235">At-merkki näytetään käytettävän hierarkkisen puurakenteen absoluuttisen polun jäljellä olevan osan sijasta.</span><span class="sxs-lookup"><span data-stu-id="ead50-235">The "at" sign is shown instead of the remaining part of the absolute path of the hierarchical tree structure that is used.</span></span> <span data-ttu-id="ead50-236">Seuraavassa kuvassa on esimerkki.</span><span class="sxs-lookup"><span data-stu-id="ead50-236">The following illustration shows an example.</span></span> <span data-ttu-id="ead50-237">Tässä absoluuttinen polku `Ledger.'accountingCurrency()'` ilmaisee, että kirjanpitovaluutan arvo **kirjanpidon** tietolähteestä syötetään \*\*AccountingCurrency\*\*\*-kenttään tietomallissa.</span><span class="sxs-lookup"><span data-stu-id="ead50-237">Here, the absolute path `Ledger.'accountingCurrency()'` indicates that the accounting currency value from the **Ledger** data source is entered in the **AccountingCurrency** field of the data model.</span></span>

![Esimerkki absoluuttisesta polusta ER-mallin yhdistämismääritysten suunnittelusivulla](./media/ER-FormulaLanguage-AbsolutePath.png)

<span data-ttu-id="ead50-239">Seuraavassa kuvassa oleva esimerkki osoittaa, miten suhteellinen polku on käytössä.</span><span class="sxs-lookup"><span data-stu-id="ead50-239">The example in the following illustration shows how a relative path is used.</span></span> <span data-ttu-id="ead50-240">Suhteellinen polku `@.AccountNum` ilmaisee, että **AccountNum**-kentän **Intrastat**-tietolähteen (joka näkyy tietomallin hierarkkisen puun **AccountNum**-kentän yläpuolella) käytetään syöttämään asiakkaan tai toimittajan tilinumero tietomallin **AccountNum**-kenttään.</span><span class="sxs-lookup"><span data-stu-id="ead50-240">The relative path `@.AccountNum` indicates that the **AccountNum** field of the **Intrastat** data source (which appears one level above the **AccountNum** field in the data model's hierarchical tree) is used to enter the customer or vendor account number in the data model's **AccountNum** field.</span></span>

![Esimerkki relatiivisesta polusta ER-mallin yhdistämismääritysten suunnittelusivulla](./media/ER-FormulaLanguage-RelativePath1.png)

<span data-ttu-id="ead50-242">Jäljellä oleva osa absoluuttisesta polusta näkyy myös [ER kaavaeditorissa](general-electronic-reporting-formula-designer.md).</span><span class="sxs-lookup"><span data-stu-id="ead50-242">The remaining part of the absolute path is also shown in the [ER formula editor](general-electronic-reporting-formula-designer.md).</span></span>

![ER-kaavan suunnittelijasivun absoluuttisen polun jäljellä oleva osa](./media/ER-FormulaLanguage-RelativePath2.png)

## <span data-ttu-id="ead50-244"><a name="Functions">Toiminnot</a></span><span class="sxs-lookup"><span data-stu-id="ead50-244"><a name="Functions">Functions</a></span></span>

<span data-ttu-id="ead50-245">ER:n sisäänrakennettuja funktioita voidaan käyttää ER-lausekkeissa.</span><span class="sxs-lookup"><span data-stu-id="ead50-245">ER built-in functions can be used in ER expressions.</span></span> <span data-ttu-id="ead50-246">Kaikkia lausekekontekstin (kuten nykyinen ER-mallin määritys tai ER-muoto) tietolähteitä voidaan käyttää kutsufunktioiden parametreina kutsufunktioargumenttien luettelon mukaisesti.</span><span class="sxs-lookup"><span data-stu-id="ead50-246">All data sources of the expression context (that is, the current ER model mapping or ER format) can be used as parameters of calling functions, in accordance with the list of arguments for calling functions.</span></span> <span data-ttu-id="ead50-247">Myös vakioita voidaan käyttää kutsufunktioiden parametreina.</span><span class="sxs-lookup"><span data-stu-id="ead50-247">Constants can also be used as parameters of calling functions.</span></span> <span data-ttu-id="ead50-248">Esimerkiksi nykyinen ER-mallin määritys sisältää **InvoiceTransactions**-tietolähteen, joka palauttaa tietueluettelon.</span><span class="sxs-lookup"><span data-stu-id="ead50-248">For example, the current ER model mapping contains the **InvoiceTransactions** data source, and this data source returns a list of records.</span></span> <span data-ttu-id="ead50-249">**InvoiceTransactions**-tietuerakenne sisältää **AmountDebit**- ja **AmountCredit**-kentät, joista kumpikin palautta numeerisia arvoja.</span><span class="sxs-lookup"><span data-stu-id="ead50-249">The **InvoiceTransactions** record structure contains the **AmountDebit** and **AmountCredit** fields, and both these fields return numeric values.</span></span> <span data-ttu-id="ead50-250">Voit siis laskea laskutetun määrän suunnittelemalla seuraavan lausekkeen, jossa käytetään sisäänrakennettua ER-pyöristystoimintoa: `ROUND (InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit, 2)`.</span><span class="sxs-lookup"><span data-stu-id="ead50-250">Therefore, to calculate the invoiced amount, you can design the following expression that uses the built-in ER rounding function: `ROUND (InvoiceTransactions.AmountDebit - InvoiceTransactions.AmountCredit, 2)`.</span></span>

<span data-ttu-id="ead50-251">Kun suunnittelet ER-mallien yhdistämismäärityksiä ja ER-raportteja, voit käyttää ER-funktioita seuraavista luokista:</span><span class="sxs-lookup"><span data-stu-id="ead50-251">When you design ER model mappings and ER reports, you can use ER functions from the following categories:</span></span>

- [<span data-ttu-id="ead50-252">Päivämäärä- ja aikatoiminnot</span><span class="sxs-lookup"><span data-stu-id="ead50-252">Date and time functions</span></span>](er-functions-category-datetime.md)
- [<span data-ttu-id="ead50-253">Luettelotoiminnot</span><span class="sxs-lookup"><span data-stu-id="ead50-253">List functions</span></span>](er-functions-category-list.md)
- [<span data-ttu-id="ead50-254">Loogiset toiminnot</span><span class="sxs-lookup"><span data-stu-id="ead50-254">Logical functions</span></span>](er-functions-category-logical.md)
- [<span data-ttu-id="ead50-255">Matemaattinen toiminto</span><span class="sxs-lookup"><span data-stu-id="ead50-255">Mathematical functions</span></span>](er-functions-category-mathematical.md)
- [<span data-ttu-id="ead50-256">Tallennustoiminnot</span><span class="sxs-lookup"><span data-stu-id="ead50-256">Record functions</span></span>](er-functions-category-record.md)
- [<span data-ttu-id="ead50-257">Tekstitoiminnot</span><span class="sxs-lookup"><span data-stu-id="ead50-257">Text functions</span></span>](er-functions-category-text.md)
- [<span data-ttu-id="ead50-258">Tietojen keruutoiminnot</span><span class="sxs-lookup"><span data-stu-id="ead50-258">Data collection functions</span></span>](er-functions-category-data-collection.md)
- [<span data-ttu-id="ead50-259">Muut (liiketoiminnan toimialuekohtaiset) toiminnot</span><span class="sxs-lookup"><span data-stu-id="ead50-259">Other (business domain–specific) functions</span></span>](er-functions-category-other.md)
- [<span data-ttu-id="ead50-260">Tyypin muuntamisen toiminnot</span><span class="sxs-lookup"><span data-stu-id="ead50-260">Type conversion functions</span></span>](er-functions-category-type-conversion.md)

## <a name="functions-list-extension"></a><span data-ttu-id="ead50-261">Toimintojen luettelon laajennus</span><span class="sxs-lookup"><span data-stu-id="ead50-261">Functions list extension</span></span>

<span data-ttu-id="ead50-262">ER:n avulla on mahdollista laajentaa luetteloa toiminnoista, joita käytetään ER-lausekkeissa.</span><span class="sxs-lookup"><span data-stu-id="ead50-262">ER lets you extend the list of functions that are used in ER expressions.</span></span> <span data-ttu-id="ead50-263">Tähän tarvitaan jonkin verran suunnittelutyötä.</span><span class="sxs-lookup"><span data-stu-id="ead50-263">Some engineering effort is required.</span></span> <span data-ttu-id="ead50-264">Lisätietoja on kohdassa [Sähköisen raportoinnin (ER) toimintojen luettelon laajentaminen](general-electronic-reporting-formulas-list-extension.md).</span><span class="sxs-lookup"><span data-stu-id="ead50-264">For detailed information, see [Extend the list of Electronic reporting (ER) functions](general-electronic-reporting-formulas-list-extension.md).</span></span>

## <a name="compound-expressions"></a><span data-ttu-id="ead50-265">Yhdistelmälausekkeet</span><span class="sxs-lookup"><span data-stu-id="ead50-265">Compound expressions</span></span>

<span data-ttu-id="ead50-266">Voit luoda yhdistelmälausekkeita, jotka käyttävät eri luokkien funktioita edellyttäen, että tietotyypit vastaavat toisiaan.</span><span class="sxs-lookup"><span data-stu-id="ead50-266">You can create compound expressions that use functions from different categories, provided that the data types match.</span></span> <span data-ttu-id="ead50-267">Kun käytät funktioita yhdessä, vastaa tulosteen tietotyyppiä yhdestä toiminnosta toisen funktion edellyttämän syötetieto tyypin mukaan.</span><span class="sxs-lookup"><span data-stu-id="ead50-267">When you use functions together, match the data type of the output from one function to the input data type that is required by another function.</span></span> <span data-ttu-id="ead50-268">Jos esimerkiksi haluat välttää mahdollisen "luettelo-tyhjä"-virheen kentän sidonnassa ER-muotoelementtiin, yhdistä [Luettelo](er-functions-category-list.md)-luokan funktiot [loogisen](er-functions-category-logical.md)-luokan funktiolla, kuten seuraavassa esimerkissä näytetään.</span><span class="sxs-lookup"><span data-stu-id="ead50-268">For example, to avoid a possible "list-is-empty" error in a binding of a field to an ER format element, combine functions from the [List](er-functions-category-list.md) category with a function from the [Logical](er-functions-category-logical.md) category, as the following example shows.</span></span> <span data-ttu-id="ead50-269">Tässä kaavassa käytetään [IF](er-functions-logical-if.md)-funktiota, kun testataan, onko **IntrastatTotals**-luettelo tyhjä, ennen kuin se palauttaa vaaditun koosteen arvon kyseisestä luettelosta.</span><span class="sxs-lookup"><span data-stu-id="ead50-269">Here, the formula uses the [IF](er-functions-logical-if.md) function to test whether the **IntrastatTotals** list is empty before it returns the value of the required aggregation from that list.</span></span> <span data-ttu-id="ead50-270">Jos **IntrastatTotals**-luettelo on tyhjä, kaava palauttaa arvon **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ead50-270">If the **IntrastatTotals** list is empty, the formula returns **0** (zero).</span></span>

```
IF(ISEMPTY(IntrastatTotals), 0.0, IntrastatTotals.aggregated.'$AmountMSTRounded') 
```

## <a name="multiple-solutions"></a><span data-ttu-id="ead50-271">Useita ratkaisuja</span><span class="sxs-lookup"><span data-stu-id="ead50-271">Multiple solutions</span></span>

<span data-ttu-id="ead50-272">Usein voit saada samat tietojen muunnoksen tulokset monella tavalla käyttämällä eri luokkien tai eri toimintojen funktioita samasta luokasta.</span><span class="sxs-lookup"><span data-stu-id="ead50-272">Often, you can get the same data transformation result in multiple ways, by using functions from different categories or different functions from the same category.</span></span> <span data-ttu-id="ead50-273">Esimerkiksi edellinen lauseke voidaan määrittää myös käyttämällä [MÄÄRÄ](er-functions-list-count.md)-funktiota [luettelo](er-functions-category-list.md)-luokasta.</span><span class="sxs-lookup"><span data-stu-id="ead50-273">For example, the previous expression can also be configured by using the [COUNT](er-functions-list-count.md) function from the [List](er-functions-category-list.md) category.</span></span>

```
IF(COUNT (IntrastatTotals)=0, 0.0, IntrastatTotals.aggregated.'$AmountMSTRounded') 
```

## <a name="additional-resources"></a><span data-ttu-id="ead50-274">Lisäresurssit</span><span class="sxs-lookup"><span data-stu-id="ead50-274">Additional resources</span></span>

[<span data-ttu-id="ead50-275">Sähköisen raportoinnin yleiskatsaus</span><span class="sxs-lookup"><span data-stu-id="ead50-275">Electronic Reporting overview</span></span>](general-electronic-reporting.md)

[<span data-ttu-id="ead50-276">Sähköisen raportoinnin kaavojen suunnittelutoiminto</span><span class="sxs-lookup"><span data-stu-id="ead50-276">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="ead50-277">Sähköisen raportoinnin toimintoluettelon laajentaminen</span><span class="sxs-lookup"><span data-stu-id="ead50-277">Extend the list of Electronic reporting functions</span></span>](general-electronic-reporting-formulas-list-extension.md)
