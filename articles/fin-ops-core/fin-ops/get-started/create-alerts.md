---
title: Hälytyssääntöjen luominen
description: Tässä ohjeaiheessa on tietoja hälytyksistä. Siinä myös selitetään, miten luodaan sellainen hälytyssääntö, joka ilmoittaa tapahtumista, kuten saapuvasta päivämäärästä tai tapahtuvasta muutoksesta.
author: tjvass
manager: AnnBe
ms.date: 02/19/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: EventCreateRule
audience: Application user
ms.reviewer: sericks
ms.search.scope: Operations
ms.search.region: Global
ms.author: tjvass
ms.search.validFrom: 2018-3-30
ms.dyn365.ops.version: Platform update 15
ms.openlocfilehash: 85d4774bc710f0c48b384601e5505f11394cf5d5
ms.sourcegitcommit: a688c864fc609e35072ad8fd2c01d71f6a5ee7b9
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 02/20/2020
ms.locfileid: "3075921"
---
# <a name="create-alert-rules"></a><span data-ttu-id="3ed6c-103">Hälytyssääntöjen luominen</span><span class="sxs-lookup"><span data-stu-id="3ed6c-103">Create alert rules</span></span>

[!include [banner](../includes/banner.md)]

## <a name="getting-started"></a><span data-ttu-id="3ed6c-104">Aloittaminen</span><span class="sxs-lookup"><span data-stu-id="3ed6c-104">Getting started</span></span>

<span data-ttu-id="3ed6c-105">Ennen hälytyssäännön luomista on päätettävä, milloin ja missä tilanteissa haluat vastaanottaa hälytyksiä.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-105">Before you set up an alert rule, decide when or in what situations you want to receive alerts.</span></span> <span data-ttu-id="3ed6c-106">Kun tiedät, mistä tapahtumasta haluat ilmoituksen, voit etsiä sivun, jossa kyseisen tapahtuman aiheuttavat tiedot näkyvät.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-106">When you know which event you want to be notified about, find the page where the data that causes that event appears.</span></span> <span data-ttu-id="3ed6c-107">Tapahtuma voi olla tietty päivämäärä tai tapahtuva muutos.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-107">The event can be a date that arrives or a specific change that occurs.</span></span> <span data-ttu-id="3ed6c-108">Sinun onkin etsittävä sivu, jossa päivämäärä on määritetty tai jossa muuttuva kenttä tai luotu uusi tietue tulee näkyviin.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-108">Therefore, you must find the page where the date is specified, or where the field that changes or the new record that is created appears.</span></span> <span data-ttu-id="3ed6c-109">Kun nämä tiedot ovat valmiina, voit luoda hälytyssäännön.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-109">After you have this information, you can create the alert rule.</span></span>

<span data-ttu-id="3ed6c-110">Hälytyssääntöä luotaessa määritetään ehdot, joiden on toteuduttava ennen hälytyksen antamista.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-110">When you create an alert rule, you define the criteria that must be met before an alert is triggered.</span></span> <span data-ttu-id="3ed6c-111">Ehdot tarkoittavat periaatteessa sitä, että tietty tapahtuma esiintyy ja tietyt ehdot täyttyvät samanaikaisesti.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-111">Criteria is basically the match between the occurrence of an event and the fulfillment of specific conditions.</span></span> <span data-ttu-id="3ed6c-112">Tapahtuman esiintyessä järjestelmä suorittaa tarkistuksen määritettyjen ehtojen mukaisesti.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-112">When an event occurs, the system starts to perform a check according to the conditions that are set up.</span></span>

## <a name="ensure-the-alert-batch-jobs-are-running"></a><span data-ttu-id="3ed6c-113">Hälytyksen erätöiden suorittamisen varmistaminen</span><span class="sxs-lookup"><span data-stu-id="3ed6c-113">Ensure the alert batch jobs are running</span></span>

<span data-ttu-id="3ed6c-114">Tietojen muuttamisen erätöiden ja eräpäivän hälytysten on oltava käynnissä, jotta hälytyksen ehdot voidaan käsitellä ja ilmoitukset lähettää.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-114">The batch jobs for data change and due date alerts need to be running for the alert conditions to be processed and the notifications to be sent.</span></span> <span data-ttu-id="3ed6c-115">Jos haluat suorittaa erätyöt, siirry kohtaan **Järjestelmän hallinta** > **Kausittaiset tehtävät** > **Hälytykset** ja lisää uusi erätyö **Muutokseen perustuvat hälytykset** ja/tai **Eräpäivän hälytykset**.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-115">To run batch jobs, go to **System administration** > **Periodic tasks** > **Alerts** and add a new batch job for **Change based alerts** and/or **Due date alerts**.</span></span> <span data-ttu-id="3ed6c-116">Jos tarvitaan pitkään ja usein suoritettava erätyö, valitse **Toistuvuus** ja määritä **Ei päättymispäivää** -kohdan **Toistumisen kuvio** -kohdan arvoksi **Minuutit** ja **Määrä**-kohdan arvoksi **1**.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-116">If a long and frequently running batch job is needed, select **Recurrence** and set **No end date** with a **Recurrence pattern** of **Minutes** and a **Count** of **1**.</span></span>

## <a name="events"></a><span data-ttu-id="3ed6c-117">Tapahtumat</span><span class="sxs-lookup"><span data-stu-id="3ed6c-117">Events</span></span>

<span data-ttu-id="3ed6c-118">Tapahtuma, joka käynnistää hälytyssäännön, voi olla tietty päivämäärä tai tapahtuva muutos.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-118">The event that triggers an alert rule can be a date that arrives or a specific change that occurs.</span></span> <span data-ttu-id="3ed6c-119">Käynnistää tapahtumat, jotka on määritetty **Luo hälytyssääntö** -valintaikkunan **Hälytä seuraavissa tilanteissa** -pikavälilehdessä.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-119">Triggers for events are defined on the **Alert me when** FastTab of the **Create alert rule** dialog box.</span></span> <span data-ttu-id="3ed6c-120">Tietyn kentän käytettävissä olevat tapahtumat määräytyvät valitun käynnistimen mukaan.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-120">The events that are available for a particular field depend on the trigger that is selected.</span></span>

<span data-ttu-id="3ed6c-121">Jos esimerkiksi määrität hälytyssäännön **Alkamispäivä**-kenttään, eräpäivän tapahtumat soveltuvat.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-121">For example, if you're setting up an alert rule for the **Start date** field, due date events are appropriate.</span></span> <span data-ttu-id="3ed6c-122">**Erääntymisaika**-tapahtumatyyppi on tämän vuoksi käytettävissä kyseisessä kentässä.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-122">Therefore, the **is due in** event type is available for that field.</span></span> <span data-ttu-id="3ed6c-123">Eräpäivään perustuva tapahtuma ei kuitenkaan sovellu esimerkiksi **Kustannuspaikka**-kentälle.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-123">However, for a field such as **Cost center**, a due date event isn't appropriate.</span></span> <span data-ttu-id="3ed6c-124">**Erääntymisaika**-tapahtumatyyppi ei ole tämän vuoksi käytettävissä.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-124">Therefore, the **is due in** event type isn't available.</span></span> <span data-ttu-id="3ed6c-125">Sen sijaan käytettävissä on **on muuttunut** -tapahtumatyyppi.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-125">Instead, the **has changed** event type is available.</span></span>

## <a name="event-types"></a><span data-ttu-id="3ed6c-126">Tapahtumatyypit</span><span class="sxs-lookup"><span data-stu-id="3ed6c-126">Event types</span></span>

<span data-ttu-id="3ed6c-127">Mahdollisia tapahtumatyyppejä on kolme:</span><span class="sxs-lookup"><span data-stu-id="3ed6c-127">Three types of events can occur:</span></span>

- <span data-ttu-id="3ed6c-128">**Luomis- ja poistamistyyppiset tapahtumat** – Nämä tapahtumat käynnistävät hälytyksen, kun tietue luodaan tai poistetaan.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-128">**Create-type and delete-type events** – These events trigger an alert when a record is created or deleted.</span></span>
- <span data-ttu-id="3ed6c-129">**Päivitystyypin tapahtumat** – Nämä tapahtumat käynnistävät hälytyksen, kun tietyn kentän tiedot muuttuvat.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-129">**Update-type events** – These events trigger an alert when the data in a specific field changes.</span></span>
- <span data-ttu-id="3ed6c-130">**Eräpäivätyypin tapahtumat** – Nämä tapahtumat käynnistävät hälytyksen tiettynä päivämääränä.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-130">**Due date-type events** – These events trigger an alert when a date arrives.</span></span>
    
<span data-ttu-id="3ed6c-131">Käyttäjä voi käynnistää muutokset.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-131">Changes that occur can be initiated by a user.</span></span> <span data-ttu-id="3ed6c-132">Esimerkiksi käyttäjä muuttaa ostotilauksen toimituspäivää.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-132">For example, a user changes the delivery date of a purchase order.</span></span> <span data-ttu-id="3ed6c-133">Vaihtoehtoisest muutokset voivat tapahtua prosessin osana.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-133">Alternatively, changes can occur as part of a process.</span></span> <span data-ttu-id="3ed6c-134">Esimerkiksi sivun **Tila**-kenttä muuttuu niin, että se vastaa järjestelmän eri prosessien elinkaarta.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-134">For example, the **Status** field on a page changes to reflect the life cycle of various processes in the system.</span></span>

## <a name="conditions"></a><span data-ttu-id="3ed6c-135">Olosuhteet</span><span class="sxs-lookup"><span data-stu-id="3ed6c-135">Conditions</span></span>

<span data-ttu-id="3ed6c-136">Voit käyttää **Luo hälytyssääntö** -valintaikkunan **Hälytä seuraavasta:** -pikavälilehden ehtoja tapahtumien hälytysten ohjauksessa.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-136">On the **Alert me for** FastTab in the **Create alert rule** dialog box, you can use conditions to control when you're alerted about events.</span></span>

<span data-ttu-id="3ed6c-137">Voit esimerkiksi määrittää, että järjestelmä lähettää hälytyksen ostotilausten tilojen muuttuessa vain silloin, kun tila vastaa tiettyjä ehtoja.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-137">For example, you can specify that the system should alert you when the status of purchase orders changes, but only if the status matches a specific set of conditions.</span></span> <span data-ttu-id="3ed6c-138">Haluat ilmoituksen etenkin silloin, kun ostotilauksen tilaksi määritetään **Vastaanotettu**.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-138">Specifically, you want to be alerted when the status of a purchase order is set to **Received**.</span></span> <span data-ttu-id="3ed6c-139">Tilan muutos on hälytyksen laukaiseva tapahtuma.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-139">This change in status is the event that triggers the alert.</span></span>

<span data-ttu-id="3ed6c-140">Seuraavaksi päätetään, mistä ostotilauksista haluat saada hälytyksen.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-140">Next, you must decide which purchase orders you want to be alerted about.</span></span> <span data-ttu-id="3ed6c-141">Voit esimerkiksi valita yhden seuraavista vaihtoehdoista.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-141">For example, you can select one of the following options.</span></span> <span data-ttu-id="3ed6c-142">Nämä asetukset määrittävät hälytyssäännön ehdot.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-142">These options define the conditions for the alert rule.</span></span>

- <span data-ttu-id="3ed6c-143">**Nykyinen valittu tietue** – Saat hälytyksen, kun tietyn ostotilauksen tilaksi tulee **Vastaanotettu**.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-143">**Current selected record** – You receive an alert when the status of a specific purchase order changes to **Received**.</span></span>
- <span data-ttu-id="3ed6c-144">**Kaikki tietueet** – Saat hälytyksen, kun aktiivisen sivunäkymän nimikkeen ostotilauksen tila muuttuu.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-144">**All records** – You receive an alert when the status of a purchase order is changed for an item in the active page view.</span></span> <span data-ttu-id="3ed6c-145">Voit luoda tietylle tietuejoukolle sääntöjä sivulla olevien suodatuksen lisäasetusten avulla.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-145">You can use the advanced filtering that is available on the page to create rules for a specific set of records.</span></span> <span data-ttu-id="3ed6c-146">Voit esimerkiksi luoda hälytyksen, joka käynnistetään tietyn asiakasryhmän asiakkaiden kaikille ostotilauksille.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-146">For example, you can create an alert that is triggered for all purchase orders for the customers in a specific customer group.</span></span>
    
## <a name="expiry-of-rule"></a><span data-ttu-id="3ed6c-147">Päättymissääntö</span><span class="sxs-lookup"><span data-stu-id="3ed6c-147">Expiry of rule</span></span>

<span data-ttu-id="3ed6c-148">Määritä **Luo hälytyssääntö** -valintaikkunan **Hälytä tähän asti:** -pikavälilehdessä, miten kauan hälytyssääntö on aktiivinen.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-148">On the **Alert me until** FastTab of the **Create alert rule** dialog box, you can specify how long the alert rule should be active.</span></span>

## <a name="alert-contents"></a><span data-ttu-id="3ed6c-149">Hälytyksen sisältö</span><span class="sxs-lookup"><span data-stu-id="3ed6c-149">Alert contents</span></span>

<span data-ttu-id="3ed6c-150">Määritä **Luo hälytyssääntö** -valintaikkunan **Hälytystapa**-pikavälilehdessä hälytyksen sanomalle aihe- ja sanomateksti.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-150">On the **Alert me with** FastTab of the **Create alert rule** dialog box, you can specify the subject text and message text that the alert messages should use.</span></span>

## <a name="user-id"></a><span data-ttu-id="3ed6c-151">Käyttäjätunnus</span><span class="sxs-lookup"><span data-stu-id="3ed6c-151">User ID</span></span>

<span data-ttu-id="3ed6c-152">Määritä **Luo hälytyssääntö** -valintaikkunan **Hälytystapa**-pikavälilehdessä käyttäjä, joka vastaanottaa hälytyssanomat.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-152">On the **Alert me with** FastTab of the **Create alert rule** dialog box, you can specify which user should receive the alert messages.</span></span> <span data-ttu-id="3ed6c-153">Käyttäjätunnus valitaan oletusarvoisesti.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-153">By default, your user ID is selected.</span></span> <span data-ttu-id="3ed6c-154">Vain organisaation järjestelmänvalvoja voi vaihtaa hälytyksen saavaa käyttäjää.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-154">The ability to change the user receiving the alert is restricted to organization administrators.</span></span>

## <a name="alerts-as-business-events"></a><span data-ttu-id="3ed6c-155">Hälytykset liiketoimintatapahtumina</span><span class="sxs-lookup"><span data-stu-id="3ed6c-155">Alerts as business events</span></span>

<span data-ttu-id="3ed6c-156">Hälytyksiä voidaan lähettää ulkoisesti liiketoimintatapahtuman kehyksen avulla.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-156">Alerts can be sent externally using the business events framework.</span></span> <span data-ttu-id="3ed6c-157">Kun luot hälytyksen, määritä **Organisaation laajuinen** -kohdan arvoksi **Ei** ja **Lähetä ulkoisesti** -kohdan arvoksi **Kyllä**.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-157">When creating an alert, set **Organization-wide** to **No** and set **Send externally** to **Yes**.</span></span> <span data-ttu-id="3ed6c-158">Kun hälytys käynnistää liiketoimintatapahtuman, voit käynnistää Power Automaten luoman työnkulun käyttämällä **Kun liiketoimintatapahtuma ilmenee** -käynnistimen Finance and Operations -yhdistimessä tai lähettää tapahtuman liiketoimintatapahtumien päätepisteeseen **Liiketoimintatapahtumien luettelo** -kohdan avulla.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-158">After you have the alert triggering the business event, you can trigger a flow built in Power Automate using the **When a business event occurs** trigger on the Finance and Operations connector, or explicitly send the event to a business events endpoint via the **Business events catalog**.</span></span>

## <a name="create-an-alert-rule"></a><span data-ttu-id="3ed6c-159">Luo hälytyssääntö</span><span class="sxs-lookup"><span data-stu-id="3ed6c-159">Create an alert rule</span></span>

0. <span data-ttu-id="3ed6c-160">Hälytyksen erätöiden suorittamisen varmistaminen (katso yllä).</span><span class="sxs-lookup"><span data-stu-id="3ed6c-160">Ensure the alert batch jobs are running (see above).</span></span>
1. <span data-ttu-id="3ed6c-161">Avaa sivu, joka sisältää valvottavat tiedot.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-161">Open the page that contains the data to monitor.</span></span>
2. <span data-ttu-id="3ed6c-162">Valitse **Asetukset**-välilehden **Jaa**-ryhmän toimintoruudussa **Luo hälytyssääntö**.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-162">On the Action Pane, on the **Options** tab, in the **Share** group, select **Create alert rule**.</span></span>
3. <span data-ttu-id="3ed6c-163">Valitse **Kenttä**-kentän **Luo hälytyssääntö** -valintaikkunassa seurattava kenttä.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-163">In the **Create alert rule** dialog box, in the **Field** field, select the field to monitor.</span></span>
4. <span data-ttu-id="3ed6c-164">Valitse **Tapahtuma**-kentässä tapahtuman tyyppi.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-164">In the **Event** field, select the type of event.</span></span>
5. <span data-ttu-id="3ed6c-165">Valitse **Hälytä seuraavasta:** -pikavälilehdessä haluttu vaihtoehto.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-165">On the **Alert me for** FastTab, select the desired option.</span></span> <span data-ttu-id="3ed6c-166">Jos haluat lähettää hälytyksen liiketoimintatapahtumana, varmista, että **Organisaation laajuinen** -kohdan arvoksi on määritetty **Ei**.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-166">If you want to send the alert as a business event, ensure that **Organization-wide** is set to **No**.</span></span>
6. <span data-ttu-id="3ed6c-167">Jos haluat hälytyssäännön poistuvan käytöstä tiettynä päivämääränä, valitse **Hälytä tähän asti** -pikavälilehdessä päättymispäivämäärä.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-167">If the alert rule should become inactive on a specific date, on the **Alert me until** FastTab, select an end date.</span></span>
7. <span data-ttu-id="3ed6c-168">Hyväksy **Hälytystapa**-pikavälilehden **Aihe**-kentässä sähköpostiviestin aiheen oletusotsikko tai kirjoita uusi aihe.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-168">On the **Alert me with** FastTab, in the **Subject** field, accept the default subject heading for the email message, or enter a new subject.</span></span> <span data-ttu-id="3ed6c-169">Tekstiä käytetään otsikkona sähköpostiviestissä jonka saat, kun hälytys laukaistaan.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-169">The text is used as the subject heading for the email message that you receive when an alert is triggered.</span></span> <span data-ttu-id="3ed6c-170">Jos haluat lähettää hälytyksen liiketoimintatapahtumana, määritä **Lähetä ulkoisesti** -kohdan arvoksi **Kyllä**.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-170">If you want to send the alert as a business event, set **Send externally** to **Yes**.</span></span>
8. <span data-ttu-id="3ed6c-171">Valitse **Sanoma**-kentässä valinnainen sanoma.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-171">In the **Message** field, enter an optional message.</span></span> <span data-ttu-id="3ed6c-172">Tämä teksti on sanoma, jonka saat, kun hälytys laukaistaan.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-172">The text is used as the message that you receive when an alert is triggered.</span></span>
9. <span data-ttu-id="3ed6c-173">Tallenna asetukset ja luo hälytyssääntö valitsemalla **OK**.</span><span class="sxs-lookup"><span data-stu-id="3ed6c-173">Select **OK** to save the settings and create the alert rule.</span></span>
