---
title: Hälytysten eräkäsittely
description: Tässä ohjeaiheessa on tietoja hälytysten eräkäsittelystä.
author: tjvass
manager: AnnBe
ms.date: 09/10/2010
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: tjvass
ms.search.validFrom: 2018-3-30
ms.dyn365.ops.version: Platform update 15
ms.openlocfilehash: 57208e87dbbd0ae6fc05644229a8a9cf08da4249
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 03/09/2021
ms.locfileid: "5562407"
---
# <a name="batch-processing-of-alerts"></a><span data-ttu-id="b8fd1-103">Hälytysten eräkäsittely</span><span class="sxs-lookup"><span data-stu-id="b8fd1-103">Batch processing of alerts</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="b8fd1-104">Hälytykset käsitellään eräkäsittelytoiminnolla.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-104">Alerts are processed by the batch processing functionality.</span></span> <span data-ttu-id="b8fd1-105">Sinun on määritettävä eräkäsittely ennen prosessia ja hälytysten toimituksia.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-105">You must set up batch processing before the process and deliver alerts.</span></span>

<span data-ttu-id="b8fd1-106">Eräkäsittelytoiminto tukee kahta tapahtumatyyppiä:</span><span class="sxs-lookup"><span data-stu-id="b8fd1-106">Batch processing functionality supports two types of events:</span></span>

- <span data-ttu-id="b8fd1-107">Muutoksiin perustuvien tapahtumien käynnistämät tapahtumat.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-107">Events triggered by change-based events.</span></span> <span data-ttu-id="b8fd1-108">Näitä tapahtumia kutsutaan myös tapahtumien luomiseksi tai poistamiseksi ja tapahtumien päivittämiseksi.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-108">These events are also referred to as create/delete and update events.</span></span>
- <span data-ttu-id="b8fd1-109">Eräpäivien käynnistämät tapahtumat.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-109">Events triggered by due dates.</span></span>

<span data-ttu-id="b8fd1-110">Voit määrittää kutakin tapahtumatyyppiä varten eräprosessin.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-110">You can set up batch processes for each type of event.</span></span>

## <a name="batch-processing-for-change-based-events"></a><span data-ttu-id="b8fd1-111">Muutokseen perustuvien tapahtumien eräkäsittely</span><span class="sxs-lookup"><span data-stu-id="b8fd1-111">Batch processing for change-based events</span></span>

<span data-ttu-id="b8fd1-112">Järjestelmä lukee kaikki muutoksiin perustuvat tapahtumat, jotka ovat tapahtuneet eräkäsittelyn edellisen suorituksen jälkeen.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-112">The system reads all change-based events that have occurred since batch processing was last run.</span></span> <span data-ttu-id="b8fd1-113">Muutokseen perustuvat tapahtumat sisältävät päivitykset kenttiin, tietueiden poistamisen ja tietueiden luonnin.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-113">Change-based events include updates to fields, the deletion of records, and the creation of records.</span></span> <span data-ttu-id="b8fd1-114">Näitä tapahtumia verrataan hälytyssäännöissä määritettyihin ehtoihin.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-114">These events are compared with the conditions that you set up in alert rules.</span></span> <span data-ttu-id="b8fd1-115">Kun tapahtuma vastaa säännön ehtoja, eräprosessi luo hälytyksen.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-115">When an event matches the conditions in a rule, the batch process generates an alert.</span></span>

### <a name="frequency-for-change-based-events"></a><span data-ttu-id="b8fd1-116">Muutoksiin perustuvien tapahtumien aikaväli</span><span class="sxs-lookup"><span data-stu-id="b8fd1-116">Frequency for change-based events</span></span>

<span data-ttu-id="b8fd1-117">Voit määrittää muutoksiin perustuvia tapahtumia varten eräkäsittelytehtävän, joka käynnistää tapahtuman käsittelemisen nopeasti tapahtuman järjestelmään kirjaamisen jälkeen.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-117">For change-based events, you can set up a batch job that triggers the processing of an event soon after the system logs the event.</span></span> <span data-ttu-id="b8fd1-118">Jos määrität erätyön useammin tapahtuvaksi, käyttäjät saavat hälytykset nopeammin muutosten tekemisen jälkeen.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-118">If you set up the batch job to recur more often, users receive their alerts sooner after changes occur.</span></span> <span data-ttu-id="b8fd1-119">Usein suoritettava eräkäsittely voi kuitenkin vaikuttaa järjestelmän suorituskykyyn.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-119">However, a high frequency for batch processing might adversely affect system performance.</span></span>

<span data-ttu-id="b8fd1-120">Toisaalta erätyö, jota ei suoriteta niin usein ja joka ajoitetaan aikaan, jolloin järjestelmän kuormitus on alhainen, voi parantaa järjestelmän suorituskykyä.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-120">On the other hand, a batch job that recurs less often, and that you schedule for times when the system load is low, might help improve system performance.</span></span> <span data-ttu-id="b8fd1-121">Harvoin suoritettava eräkäsittely ei kuitenkaan ehkä täytä käyttäjien hälytysvaatimuksia.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-121">However, a low frequency for batch processing might not meet the users' demands for timely alerts.</span></span>

<span data-ttu-id="b8fd1-122">Kun määrität muutoksiin perustuvien tapahtumien eräkäsittelyn aikavälejä, ota tämän vuoksi huomioon hälytysten aikarajat ja koko järjestelmän suorituskyky.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-122">Therefore, when you set up the frequency of batch processing for change-based events, consider the balance between the timeliness of alerts and the performance of the whole system.</span></span> <span data-ttu-id="b8fd1-123">Tämä on erityisen tärkeää silloin, kun hälytyssääntöjä luovien käyttäjien määrä lisääntyy.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-123">These considerations become more relevant as the number of users who create alert rules increases.</span></span> <span data-ttu-id="b8fd1-124">Tiheys ei vaikuta järjestelmän käsittelemien tapahtumien määrään.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-124">The frequency doesn't affect the number of events that the system processes.</span></span> <span data-ttu-id="b8fd1-125">Jos useat käyttäjät luovat sääntöjä, prosessi suorittaa enemmän tarkistuksia.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-125">However, if more users create rules, the process runs more checks.</span></span> <span data-ttu-id="b8fd1-126">Tietojen tämän tyyppinen vaihtaminen voi vaikuttaa järjestelmän suorituskykyyn.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-126">This type of data exchange might affect system performance.</span></span>

#### <a name="the-risks-of-low-batch-frequency"></a><span data-ttu-id="b8fd1-127">Pitkillä aikaväleillä toteutettujen eräkäsittelyjen riskit</span><span class="sxs-lookup"><span data-stu-id="b8fd1-127">The risks of low batch frequency</span></span>

<span data-ttu-id="b8fd1-128">Jos määrität muutosperustaisten tapahtumien eräkäsittelyn aikavälit pitkiksi, hälytyssääntöjen ehtojen tiedot voivat muuttua ennen käsittelyä.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-128">If you set up a low frequency for batch processing for change-based events, data that is relevant to the conditions in alert rules might change before processing.</span></span> <span data-ttu-id="b8fd1-129">Voit menettää hälytykset tämän vuoksi.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-129">Therefore, you might lose alerts.</span></span>

<span data-ttu-id="b8fd1-130">Hälytys voidaan esimerkiksi luoda käynnistymään, kun tapahtuma on **asiakkaan yhteystietojen muutokset** ja ehtona on **asiakas = BB**.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-130">For example, you create an alert to trigger when the event is **customer contact changes** and the condition is **customer = BB**.</span></span> <span data-ttu-id="b8fd1-131">Toisin sanoen prosessi kirjaan tapahtuman, kun asiakkaan BB yhteyshenkilö muuttuu.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-131">In other words, when the customer contact for customer BB changes, the process logs the event.</span></span> <span data-ttu-id="b8fd1-132">Eräkäsittelyjärjestelmä määritetään kuitenkin niin, että eräkäsittely tapahtuu tietojen merkintää harvemmin.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-132">However, the batch processing system is set up so that batch processing occurs less often than data entry.</span></span> <span data-ttu-id="b8fd1-133">Jos asiakkaan nimi muuttuu nimestä **BB** nimeksi **AA** ennen uuden tapahtuman käsittelyä, tietokannan tiedot eivät enää vastaa säännön ehtoa **asiakas = BB**.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-133">If the customer name changes from **BB** to **AA** before the event is processed, the data in the database no longer matches the condition in the rule, **customer = BB**.</span></span> <span data-ttu-id="b8fd1-134">Tämän vuoksi hälytystä ei muodosteta, kun tapahtuma lopulta käsitellään.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-134">Therefore, when the event is finally processed, no alert is generated.</span></span>

### <a name="set-up-processing-for-change-based-alerts"></a><span data-ttu-id="b8fd1-135">Muutokseen perustuvien hälytysten käsittelyn määrittäminen</span><span class="sxs-lookup"><span data-stu-id="b8fd1-135">Set up processing for change-based alerts</span></span>

1. <span data-ttu-id="b8fd1-136">Siirry kohtaan **Järjestelmän hallinta** &gt; **Kausittaiset tehtävät** &gt; **Hälytykset** &gt; **Muutokseen perustuvat hälytykset**.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-136">Go to **System administration** &gt; **Periodic tasks** &gt; **Alerts** &gt; **Change based alerts**.</span></span>
2. <span data-ttu-id="b8fd1-137">Syötä **Muutokseen perustuvat hälytykset** -valintaikkunaan soveltuvat tiedot.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-137">In the **Change based alerts** dialog box, enter the appropriate information.</span></span>

## <a name="batch-processing-for-due-date-events"></a><span data-ttu-id="b8fd1-138">Eräpäivään perustuvien tapahtumien eräkäsittely</span><span class="sxs-lookup"><span data-stu-id="b8fd1-138">Batch processing for due-date events</span></span>

<span data-ttu-id="b8fd1-139">Järjestelmä havaitsee kaikki eräpäivien aiheuttamat tapahtumat, joita verrataan hälytyssääntöjen määrittämiin ehtoihin.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-139">The system detects all events that are caused by due dates, and these events are compared with the conditions that are set up in alert rules.</span></span> <span data-ttu-id="b8fd1-140">Eräkäsittely luo hälytyksen, kun tapahtuma täyttää säännön ehdot.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-140">The batch process generates an alert when an event matches the conditions in a rule.</span></span>

### <a name="frequency-for-due-date-events"></a><span data-ttu-id="b8fd1-141">Eräpäivään perustuvien tapahtumien aikaväli</span><span class="sxs-lookup"><span data-stu-id="b8fd1-141">Frequency for due-date events</span></span>

<span data-ttu-id="b8fd1-142">Saatat haluta määrittää eräpäivään perustuvien tapahtumien eräkäsittelyn yöhön tai päivän hiljaisiin hetkiin järjestelmän kuormituksen tasapainottamiseksi.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-142">For due-date events, you might want to set up batch jobs that are run during the night or at specific times of the day, to balance the system load.</span></span> <span data-ttu-id="b8fd1-143">Erätyö on suositeltavaa määrittää suoritettavaksi vähintään kerran päivässä.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-143">We recommend that you set up the batch job so that it's run at least one time per day.</span></span> <span data-ttu-id="b8fd1-144">Jos hälytysten halutaan lähtevän mahdollisimman nopeasti, määritä eräkäsittely niin, että se tapahtuu heti järjestelmän päivämäärän muutoksen jälkeen.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-144">If alerts should be sent as early as possible, set up the batch processing to occur immediately after the system date changes.</span></span> <span data-ttu-id="b8fd1-145">Jos haluat luoda hälytyksiä eräpäivään perustuvista tapahtumista, jotka tapahtuvat sen jälkeen, kun erätyö on jo käsitellyt hälytykset, voit suorittaa erätyön uudelleen samana päivänä.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-145">If you want to generate alerts for due-date events that occur after a batch job has already processed alerts, you can run the batch job again on the same day.</span></span>

<span data-ttu-id="b8fd1-146">Esimerkiksi erätyö on suoritettu tiettynä päivänä.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-146">For example, a batch job has been run on a particular day.</span></span> <span data-ttu-id="b8fd1-147">Tämän jälkeen luodaan ostotilaus, jonka eräpäivä käynnistää hälytyksen kyseisenä päivänä.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-147">You then create a purchase order that has a due date that should trigger an alert on that same day.</span></span> <span data-ttu-id="b8fd1-148">Jos haluat saada hälytyksen samana päivänä, erätyö on suoritettava uudelleen ostotilauksen luonnin jälkeen.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-148">To receive the alert on that day, you must run the batch job again after the purchase order is created.</span></span> <span data-ttu-id="b8fd1-149">Jos et kuitenkaan suorita erätyötä uudelleen tuona päivänä, erätyö löytää seuraavana päivänä edellisinä päivinä käsittelemättä jääneet eräpäivään perustuvat tapahtumat.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-149">However, if you don't run the batch job again on that day, the next day's batch job detects any due-date events that weren't processed on previous days.</span></span>

> [!NOTE]
> <span data-ttu-id="b8fd1-150">Samasta eräpäiväperustaisesta tapahtumasta, joka täyttää samat ehdot, ei monisteta hälytystä, vaikka eräkäsittely suoritettaisiin useamman kerran päivässä.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-150">Even when the batch process is run more than one time per day, alerts aren't duplicated for the same due-date event and conditions.</span></span> <span data-ttu-id="b8fd1-151">Hälytyksiä luodaan vain edellisen erätyön suorituksen jälkeen järjestelmään tehtyihin muutoksiin perustuvista eräpäivistä.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-151">Alerts are generated only for dates that have become due because of changes that occurred in the system after the last batch job was run.</span></span>

### <a name="batch-processing-window"></a><span data-ttu-id="b8fd1-152">Eräkäsittelyikkuna</span><span class="sxs-lookup"><span data-stu-id="b8fd1-152">Batch processing window</span></span>

<span data-ttu-id="b8fd1-153">Yrityksen hälytyssääntöjen käsittely voidaan keskeyttää eri syistä.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-153">The processing of alert rules in a company can be stopped for several reasons.</span></span> <span data-ttu-id="b8fd1-154">Näitä syitä ovat esimerkiksi lomat, järjestelmävirheet tai muut ongelmat, jotka estävät erätöiden suorittamisen joksikin aikaa.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-154">These reasons include vacations, system errors, or other issues that prevent the batch jobs from being run for some time.</span></span>

<span data-ttu-id="b8fd1-155">Voit estää eräpäivähälytysten vanhentumisen sen vuoksi, ettei erätyötä ole suoritettu useisiin päivän, määrittämällä eräkäsittelyn aikavälin.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-155">To prevent due-date alerts from becoming obsolete because the batch job hasn't been run for several days, you can set up a batch processing window.</span></span> <span data-ttu-id="b8fd1-156">Eräkäsittelyn ikkunan avulla ei voi estää erätyön suorittamista määritettyinä päivinä.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-156">A batch processing window can be used to prevent a batch job from being run for a specified number of days.</span></span>

<span data-ttu-id="b8fd1-157">Jos määrität eräkäsittelyn ikkunan, hälytys lähetetään hälytyssäännön käsittelyn yhteydessä, vaikka hälytys ylittäisi eräpäivän ehdoissa määritetyn aikarajan.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-157">If you set up a batch processing window, an alert is sent when the alert rule is processed, even if the alert exceeds the time limit that is defined in the due-date criteria.</span></span> <span data-ttu-id="b8fd1-158">Hälytys lähetetään siihen asti kunnes tämän aikarajan ja eräkäsittelyn ikkunan määrittämä kausi vanhenee.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-158">An alert continues to be sent for as long as the period that is defined by this time limit plus the batch processing window isn't exceeded.</span></span> <span data-ttu-id="b8fd1-159">Jos kausi kuitenkin ohittaa aikarajan ja eräkäsittelyn ikkunan määrittämän arvon, hälytystä ei enää lähetetä.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-159">However, when the period exceeds the value defined by the time limit plus the batch processing window, an alert is no longer sent.</span></span>

### <a name="set-up-processing-for-due-date-alerts"></a><span data-ttu-id="b8fd1-160">Eräpäivään perustuvien hälytysten käsittelyn määrittäminen</span><span class="sxs-lookup"><span data-stu-id="b8fd1-160">Set up processing for due-date alerts</span></span>

1. <span data-ttu-id="b8fd1-161">Siirry kohtaan **Järjestelmän hallinta** &gt; **Kausittaiset tehtävät** &gt; **Hälytykset** &gt; **Eräpäivän hälytykset**.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-161">Go to **System administration** &gt; **Periodic tasks** &gt; **Alerts** &gt; **Due date alerts**.</span></span>
2. <span data-ttu-id="b8fd1-162">Syötä **Eräpäivän hälytykset** -valintaikkunaan soveltuvat tiedot.</span><span class="sxs-lookup"><span data-stu-id="b8fd1-162">In the **Due date alerts** dialog box, enter the appropriate information.</span></span>


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]