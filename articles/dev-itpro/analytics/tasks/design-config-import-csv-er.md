--- 
title: ER-konfiguraatioiden suunnitteleminen tietojen tuomiseksi ulkoisista tiedostoista CSV-muotoon
description: "Voit suunnitella tämän menettelyn avulla sähköisen raportoinnin (ER) konfiguraatioita, joilla tuodaan tietoja ulkoisesta tiedostosta CSV-muodossa Dynamics 365 for Finance and Operationsiin."
author: NickSelin
manager: AnnBe
ms.date: 12/12/2017
ms.topic: business-process
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: kfend
ms.search.scope: Operations
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2016-06-30
ms.dyn365.ops.version: Version 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: e782d33f3748524491dace28008cd9148ae70529
ms.openlocfilehash: 8d3ea3d797de154979eae112658cf05d1914feeb
ms.contentlocale: fi-fi
ms.lasthandoff: 08/08/2018

---
# <a name="design-er-configurations-to-import-data-from-external-csv-files"></a><span data-ttu-id="c1048-103">ER-konfiguraatioiden suunnitteleminen tietojen tuomiseksi ulkoisista tiedostoista CSV-muotoon</span><span class="sxs-lookup"><span data-stu-id="c1048-103">Design ER configurations to import data from external CSV files</span></span>

[!include [task guide banner](../../includes/task-guide-banner.md)]

<span data-ttu-id="c1048-104">Voit suunnitella tämän menettelyn avulla sähköisen raportoinnin (ER) konfiguraatioita, joilla tuodaan tietoja ulkoisesta tiedostosta CSV-muodossa Dynamics 365 for Finance and Operationsiin.</span><span class="sxs-lookup"><span data-stu-id="c1048-104">Use this procedure to design Electronic reporting (ER) configurations to import data in to the Dynamics 365 for Finance and Operations application from an external file in CSV format.</span></span> <span data-ttu-id="c1048-105">Tällä menettelyllä luodaan pakollisia ER-määrityksiä malliyritykselle Litware, Inc. Näitä vaiheita varten on suoritettava ensin ER Konfiguraation lähteen luominen ja sen merkitseminen aktiiviseksi -menettelyn vaiheet.</span><span class="sxs-lookup"><span data-stu-id="c1048-105">In this procedure, you will create the required ER configurations for the sample company, Litware, Inc. To complete these steps, you must first complete the steps in the procedure, “ER Create a configuration provider and mark it as active.”</span></span> 

<span data-ttu-id="c1048-106">Tämä menettely on luotu käyttäjille, joille on määritetty järjestelmänvalvojan tai sähköisen raportoinnin kehittäjän rooli.</span><span class="sxs-lookup"><span data-stu-id="c1048-106">This procedure is created for users with the assigned role of System administrator or Electronic reporting developer.</span></span> <span data-ttu-id="c1048-107">Nämä vaiheet voidaan suorittaa USMF-tietojoukon avulla.</span><span class="sxs-lookup"><span data-stu-id="c1048-107">These steps can be completed using the USMF data set.</span></span> 

<span data-ttu-id="c1048-108">Sinun on myös ladattava ja tallennettava paikallisesti seuraavat tiedostot: (https://go.microsoft.com/fwlink/?linkid=862266): 1099model.xml, 1099formatcsv.xml, 1099entriescsv.csv.</span><span class="sxs-lookup"><span data-stu-id="c1048-108">You must also download and save the following files locally: (https://go.microsoft.com/fwlink/?linkid=862266): 1099model.xml, 1099formatcsv.xml, 1099entriescsv.csv.</span></span>

1. <span data-ttu-id="c1048-109">Siirry kohtaan Organisaation hallinto > Työtilat > Sähköinen raportointi.</span><span class="sxs-lookup"><span data-stu-id="c1048-109">Go to Organization administration > Workspaces > Electronic reporting.</span></span>
    * <span data-ttu-id="c1048-110">Voit määrittää prosessin, jolla XML-, TXT- tai CSV-muotoisia ulkoisia tiedostoja tuodaan Dynamics 365 for Finance and Operations -sovelluksen tauluihin.</span><span class="sxs-lookup"><span data-stu-id="c1048-110">You can configure a process to import external files in XML, TXT, or CSV format to tables in the Dynamics 365 for Finance and Operations application.</span></span> <span data-ttu-id="c1048-111">Luo liiketoiminnan kannalta tuotuja tietoja varten ensin abstrakti tietomalli – tätä varten luodaan ER-tietomallin konfiguraatio.</span><span class="sxs-lookup"><span data-stu-id="c1048-111">First, you must create an abstract data model to represent the imported data, from a business standpoint – an ER data model configuration is created for that.</span></span> <span data-ttu-id="c1048-112">Määritä seuraavaksi suunniteltuun tietomalliin yhdistettävän tuodun tiedoston rakenne tavaksi, jolla tiedoston tiedot voidaan siirtää abstraktiin tietomalliin – tätä varten luodaan ER-muotokonfiguraatio.</span><span class="sxs-lookup"><span data-stu-id="c1048-112">Next, define a structure of the imported file that maps to the designed data model as the way to port data from the file to the abstract data model – an ER format configuration is created for that.</span></span> <span data-ttu-id="c1048-113">ER-tietomallin konfiguraatiota on sitten laajennettava uudella mallin yhdistämismäärityksellä, joka ilmaisee, miten sovelluksen taulut tai tietoyksiköt päivitetään tuodun tiedoston tietojen ja abstraktin tietomallin pysyvien tietojen avulla.</span><span class="sxs-lookup"><span data-stu-id="c1048-113">Then, the ER data model configuration must be extended with a new model mapping that describes how the data from the imported file and the persisted data from the abstract data model is used to update the application tables or data entities.</span></span>  
    * <span data-ttu-id="c1048-114">Seuraavissa vaiheissa näytetään, miten ulkoisesti seuratut toimittajien tapahtumat tuodaan ulkoisesta CSV-tiedostosta toimittajan 1099-lomakkeiden tilitysten myöhempää käyttöä varten.</span><span class="sxs-lookup"><span data-stu-id="c1048-114">The following steps show how externally tracked vendors’ transactions are imported from the external CSV file for later use in the vendor’s settlement for 1099’s forms.</span></span>   
    * <span data-ttu-id="c1048-115">Tarkista, onko Litware, Inc. -malliyrityksen konfiguraation lähde käytettävissä ja merkitty aktiiviseksi.</span><span class="sxs-lookup"><span data-stu-id="c1048-115">Verify that the configuration provider for sample company, Litware, Inc. is available and marked as active.</span></span> <span data-ttu-id="c1048-116">Jos konfiguraation lähde ei ole näkyvissä, suorita ensin Konfiguraation lähteen luominen ja sen merkitseminen aktiiviseksi -menettelyn vaiheet.</span><span class="sxs-lookup"><span data-stu-id="c1048-116">If you don’t see this configuration provider, you must first complete the steps in the procedure, “Create a configuration provider and mark it as active”.</span></span>  
2. <span data-ttu-id="c1048-117">Valitse Raportointikonfiguraatiot.</span><span class="sxs-lookup"><span data-stu-id="c1048-117">Click Reporting configurations.</span></span>
3. <span data-ttu-id="c1048-118">Käytä 1099-maksumalli-suodatinta.</span><span class="sxs-lookup"><span data-stu-id="c1048-118">Apply the '1099 Payments model' filter.</span></span> <span data-ttu-id="c1048-119">Jos olet jo suorittanut menettelyn ER Luo vaaditut konfiguraatiot tietojen tuomiseksi ulkoisesta tiedostosta sähköistä raportointia varten ja 1099-maksumalli-konfiguraatio on käytettävissä konfiguraatiopuussa, ohita kaikki seuraavan alitehtävän vaiheet.</span><span class="sxs-lookup"><span data-stu-id="c1048-119">If you already completed the procedure,” ER Create required configurations to import data from an external file for electronic reporting”, and the ‘1099 Payments model’ configuration is available in the configuration tree, skip all of the steps in the next sub-task.</span></span>   

## <a name="add-a-new-er-model-configuration"></a><span data-ttu-id="c1048-120">Uuden ER-mallimäärityksen lisääminen</span><span class="sxs-lookup"><span data-stu-id="c1048-120">Add a new ER model configuration</span></span>
1. <span data-ttu-id="c1048-121">Lataa tietojen tuontia tukevan uuden mallin luomisen sijaan aiemmin lataamasi tiedosto, 1099model.xml.</span><span class="sxs-lookup"><span data-stu-id="c1048-121">Instead of creating a new model to support data import, load the 1099model.xml file that you previously downloaded.</span></span> <span data-ttu-id="c1048-122">Tässä tiedostossa on toimittajien tapahtumien mukautettu tietomalli.</span><span class="sxs-lookup"><span data-stu-id="c1048-122">This file contains the custom data model of vendors’ transactions.</span></span> <span data-ttu-id="c1048-123">Tämä tietomalli on jo yhdistetty tarvittaviin tieto-osiin.</span><span class="sxs-lookup"><span data-stu-id="c1048-123">This data model is already mapped to the necessary data components.</span></span>  
2. <span data-ttu-id="c1048-124">Valitse Vaihto.</span><span class="sxs-lookup"><span data-stu-id="c1048-124">Click Exchange.</span></span>
3. <span data-ttu-id="c1048-125">Valitse Lataa XML-tiedostosta.</span><span class="sxs-lookup"><span data-stu-id="c1048-125">Click Load from XML file.</span></span>
4. <span data-ttu-id="c1048-126">Valitse Selaa ja siirry aiemmin ladattuun 1099model.xml-tiedostoon.</span><span class="sxs-lookup"><span data-stu-id="c1048-126">Click Browse and navigate to the 1099model.xml file that you previously downloaded.</span></span>  
5. <span data-ttu-id="c1048-127">Valitse OK.</span><span class="sxs-lookup"><span data-stu-id="c1048-127">Click OK.</span></span>

## <a name="add-a-new-er-format-configuration-that-supports-data-import"></a><span data-ttu-id="c1048-128">Tietojen tuontia tukevan uuden ER-muodon konfiguraation lisääminen</span><span class="sxs-lookup"><span data-stu-id="c1048-128">Add a new ER format configuration that supports data import</span></span>
1. <span data-ttu-id="c1048-129">Valitse puussa 1099-maksumalli.</span><span class="sxs-lookup"><span data-stu-id="c1048-129">In the tree, select '1099 Payments model'.</span></span>
2. <span data-ttu-id="c1048-130">Avaa valintaikkuna napsauttamalla Luo konfigurointi.</span><span class="sxs-lookup"><span data-stu-id="c1048-130">Click Create configuration to open the drop dialog.</span></span>
3. <span data-ttu-id="c1048-131">Anna Uusi-kenttään Muoto perustuu tietomalliin 1099-maksumalli.</span><span class="sxs-lookup"><span data-stu-id="c1048-131">In the New field, enter 'Format based on data model 1099 Payments model'.</span></span>
4. <span data-ttu-id="c1048-132">Valitse Tukee tietojen tuontia -kentässä Kyllä.</span><span class="sxs-lookup"><span data-stu-id="c1048-132">Select Yes in the Supports data import field.</span></span>
5. <span data-ttu-id="c1048-133">Sulje sivu painamalla ESC-näppäintä.</span><span class="sxs-lookup"><span data-stu-id="c1048-133">Press ESC key to close this page.</span></span>
    * <span data-ttu-id="c1048-134">Lataa tietojen tuontia tukevan uuden ER-muodon luomisen sijaan aiemmin lataamasi tiedosto, 1099formatcsv.xml.</span><span class="sxs-lookup"><span data-stu-id="c1048-134">Instead of creating a new ER format to support data import, load the 1099formatcsv.xml file that you previously downloaded.</span></span> <span data-ttu-id="c1048-135">Tässä tiedostossa on pakollinen ER-muoto, joka määrittää saapuvan CSV-tiedoston rakenteen ja tämän rakenteen yhdistämismäärityksen toimittajien tapahtumien tietomalliin.</span><span class="sxs-lookup"><span data-stu-id="c1048-135">This file contains the required ER format that defines the structure of the incoming CSV file and the mapping of this structure to the data model of the vendors’ transactions.</span></span>   
6. <span data-ttu-id="c1048-136">Valitse Vaihto.</span><span class="sxs-lookup"><span data-stu-id="c1048-136">Click Exchange.</span></span>
7. <span data-ttu-id="c1048-137">Valitse Lataa XML-tiedostosta.</span><span class="sxs-lookup"><span data-stu-id="c1048-137">Click Load from XML file.</span></span>
    * <span data-ttu-id="c1048-138">Valitse Selaa ja siirry aiemmin ladattuun 1099formatcsv.xml-tiedostoon.</span><span class="sxs-lookup"><span data-stu-id="c1048-138">Click Browse and navigate to the 1099formatcsv.xml file that you previously downloaded.</span></span>  
8. <span data-ttu-id="c1048-139">Valitse OK.</span><span class="sxs-lookup"><span data-stu-id="c1048-139">Click OK.</span></span>
9. <span data-ttu-id="c1048-140">Laajenna puussa 1099-maksumalli.</span><span class="sxs-lookup"><span data-stu-id="c1048-140">In the tree, expand '1099 Payments model'.</span></span>
10. <span data-ttu-id="c1048-141">Valitse puussa 1099-maksumalli\Toimittajien tapahtumien tuominen (CSV).</span><span class="sxs-lookup"><span data-stu-id="c1048-141">In the tree, select '1099 Payments model\For importing vendors' transactions (CSV)'.</span></span>

## <a name="review-format-settings"></a><span data-ttu-id="c1048-142">Muotoasetusten tarkasteleminen</span><span class="sxs-lookup"><span data-stu-id="c1048-142">Review format settings</span></span>
1. <span data-ttu-id="c1048-143">Valitse Suunnittelutoiminto.</span><span class="sxs-lookup"><span data-stu-id="c1048-143">Click Designer.</span></span>
2. <span data-ttu-id="c1048-144">Valitse Laajenna tai tiivistä.</span><span class="sxs-lookup"><span data-stu-id="c1048-144">Click Expand/collapse.</span></span>
3. <span data-ttu-id="c1048-145">Vaihda Näytä tiedot käyttöön.</span><span class="sxs-lookup"><span data-stu-id="c1048-145">Toggle ‘Show details’ on.</span></span>
    * <span data-ttu-id="c1048-146">Suunniteltu muoto vastaa ulkoisen tiedoston odotettua rakennetta CSV-muodossa.</span><span class="sxs-lookup"><span data-stu-id="c1048-146">The designed format represents the expected structure of the external file in CSV format.</span></span>  
4. <span data-ttu-id="c1048-147">Valitse puussa Incoming: File\Root: Sequence.</span><span class="sxs-lookup"><span data-stu-id="c1048-147">In the tree, select 'Incoming: File\Root: Sequence'.</span></span>
    * <span data-ttu-id="c1048-148">Tyypin SEQUENCE juurielementin vaihtoehto Uusi rivi - Windows (CR LF) on valittu Erikoismerkit-kentässä.</span><span class="sxs-lookup"><span data-stu-id="c1048-148">For the Root element of the type SEQUENCE, the option ‘New line - Windows (CR LF)’ has been selected in the ‘Special characters’ field.</span></span> <span data-ttu-id="c1048-149">Tämän asetuksen perusteella jokaista jäsennystiedoston riviä pidetään erillisenä tietueena.</span><span class="sxs-lookup"><span data-stu-id="c1048-149">Based on this setting, each line in the parsing file must be considered as a separate record.</span></span>   
5. <span data-ttu-id="c1048-150">Valitse puussa Incoming: File\Root: Sequence\Line: Sequence 1..\*.</span><span class="sxs-lookup"><span data-stu-id="c1048-150">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* '.</span></span>
    * <span data-ttu-id="c1048-151">Tyypin SEQUENCE Root\Line-elementille on valittu vaihtoehto Yksi tai useita Monimuotoisuus-kentässä.</span><span class="sxs-lookup"><span data-stu-id="c1048-151">For the Root\Line element of the type SEQUENCE, the option ‘One many’ has been selected in the ‘Multiplicity’ field.</span></span> <span data-ttu-id="c1048-152">Tämän asetuksen perusteella jäsennystiedostossa on vähintään yksi rivi.</span><span class="sxs-lookup"><span data-stu-id="c1048-152">Based on this setting, at least one line will be presented in the parsing file.</span></span>   
6. <span data-ttu-id="c1048-153">Valitse puussa Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case.</span><span class="sxs-lookup"><span data-stu-id="c1048-153">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case'.</span></span>
    * <span data-ttu-id="c1048-154">Ota huomioon, että tyypin CASE Root\Line\Types-elementti on lisätty Root\Line-järjestyksen sisäkkäisenä elementtinä.</span><span class="sxs-lookup"><span data-stu-id="c1048-154">Note that the Root\Line\Types element of the type CASE has been added as the nested element of the Root\Line sequence.</span></span> <span data-ttu-id="c1048-155">Koska tämä CASE-elementti sisältää 3 sisäkkäistä järjestyselementtiä, tämä asetus olettaa, että jäsennystiedostossa odotetaan olevan 3 erilaista rivityyppiä.</span><span class="sxs-lookup"><span data-stu-id="c1048-155">Because this CASE element contains 3 nested sequence elements, this setting assumes that we expect to meet 3 different types of line in the parsing file.</span></span>   
7. <span data-ttu-id="c1048-156">Valitse puussa Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Header: Sequence 1..1.</span><span class="sxs-lookup"><span data-stu-id="c1048-156">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Header: Sequence 1..1 '.</span></span>
    * <span data-ttu-id="c1048-157">Tyypin SEQUENCE Root\Line\Types\Header-elementti sisältää sisäkkäisen STRING-elementin, jonka arvo on määritetty vakiopituiseksi merkkijonoksi.</span><span class="sxs-lookup"><span data-stu-id="c1048-157">The Root\Line\Types\Header element of the type SEQUENCE contains the nested STRING element the value of which has been defined as the fixed string value.</span></span> <span data-ttu-id="c1048-158">Tämä järjestys jäsentää jäsennystiedoston otsikkorivin.</span><span class="sxs-lookup"><span data-stu-id="c1048-158">This sequence will parse the header line of the parsing file.</span></span>   
8. <span data-ttu-id="c1048-159">Valitse puussa Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,).</span><span class="sxs-lookup"><span data-stu-id="c1048-159">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)'.</span></span>
    * <span data-ttu-id="c1048-160">Tyypin SEQUENCE Root\Line\Types\Record-elementti jäsentää tapahtumarivit.</span><span class="sxs-lookup"><span data-stu-id="c1048-160">The Root\Line\Types\Record element of the type SEQUENCE, has been configured to parse the transaction lines.</span></span> <span data-ttu-id="c1048-161">Huomaa, että Mukautettu erotin -valinta on määritetty pilkuksi.</span><span class="sxs-lookup"><span data-stu-id="c1048-161">Note that the ‘Custom delimiter’ character option has been configured as a comma.</span></span> <span data-ttu-id="c1048-162">Tämä tarkoittaa sitä, että pilkkua käytetään kenttien erottimena jäsennystiedoston tämän tyyppisessä rivissä.</span><span class="sxs-lookup"><span data-stu-id="c1048-162">This means that the comma will be used as a fields’ separator for this type of line in the parsing file.</span></span>   
    * <span data-ttu-id="c1048-163">Huomaa, että erilaisten tietotyyppien useita sisäkkäisiä elementtejä on lisätty Root\Line\Types\Record-elementtiin, jotta tapahtuman rivit voidaan jäsentää erillisinä kenttinä.</span><span class="sxs-lookup"><span data-stu-id="c1048-163">Note that several nested elements of different data types have been added for the Root\Line\Types\Record element for parsing the transaction’s lines as separated fields.</span></span> <span data-ttu-id="c1048-164">Huomaa, että Tarjoussovellus-valinnan arvoksi on määritetty Ei mitään.</span><span class="sxs-lookup"><span data-stu-id="c1048-164">Note that the ‘Quotation application’ option has been configured as ‘None’.</span></span> <span data-ttu-id="c1048-165">Tämä tarkoittaa sitä, että tiedoston jäsennyksessä millään tämän tyyppisellä kentällä ei katsota olevan kehystettyjä merkkejä.</span><span class="sxs-lookup"><span data-stu-id="c1048-165">This means that in the parsing file, all fields of this type will be considered as having no enclosed characters.</span></span>   
9. <span data-ttu-id="c1048-166">Valitse puussa Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\TransactionDate: DateTime.</span><span class="sxs-lookup"><span data-stu-id="c1048-166">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\TransactionDate: DateTime'.</span></span>
    * <span data-ttu-id="c1048-167">Esimerkiksi tyypin DATETIME Root\Line\Types\Record\TransactionDate-elementti hakee tapahtuman päivämäärän ja aika-arvon jäsennystiedostosta muodossa K/p/vvvv.</span><span class="sxs-lookup"><span data-stu-id="c1048-167">For example, the Root\Line\Types\Record\TransactionDate element of the type DATETIME has been configured to get the transaction’s date and time value from the parsing file in the ‘M/d/yyyy’ format.</span></span>   
10. <span data-ttu-id="c1048-168">Valitse puussa Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\CountryCode: String 0..1.</span><span class="sxs-lookup"><span data-stu-id="c1048-168">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\CountryCode: String 0..1 '.</span></span>
    * <span data-ttu-id="c1048-169">Huomaa, että tyypin STRING Root\Line\Types\Record\CountryCode-elementti on määritetty niin, että Monimuotoisuus-kentän arvo on Nolla tai yksi.</span><span class="sxs-lookup"><span data-stu-id="c1048-169">Note that Root\Line\Types\Record\CountryCode element of the type STRING has been configured as having the option ‘Zero one’ in the ‘Multiplicity’ field.</span></span> <span data-ttu-id="c1048-170">Tämä asetus määrittää jäsennysrivin CountryCode-kentän arvoksi valinnaisen arvon.</span><span class="sxs-lookup"><span data-stu-id="c1048-170">This setting considers the value of the CountryCode field in the parsing line as optional.</span></span>   
11. <span data-ttu-id="c1048-171">Valitse puussa Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\Remark: Sequence 1..1 (,).</span><span class="sxs-lookup"><span data-stu-id="c1048-171">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Record: Sequence 1..1 (,)\Remark: Sequence 1..1 (,)'.</span></span>
    * <span data-ttu-id="c1048-172">Huomaa, että tyypin SEQUENCE Root\Line\Types\Record\Remark-elementti on määritetty niin, että Tarjoussovellus-kentän arvo on Kaikki ja Lainausmerkki-kentän arvo on Lainausmerkit.</span><span class="sxs-lookup"><span data-stu-id="c1048-172">Note that Root\Line\Types\Record\Remark element of the type SEQUENCE has been configured as having the option ‘All’ in the ‘Quotation application’ field and double quotes character in the ‘Quotation mark’ field.</span></span> <span data-ttu-id="c1048-173">Tällöin jäsennystiedoston kaikkien tämän tyyppisten rivien kenttien (kuvataan sisäkkäisillä elementeillä: STRING-tyyppinen teksti) ajatellaan olevan lainausmerkkien sisässä.</span><span class="sxs-lookup"><span data-stu-id="c1048-173">It means that all fields of this type of lines in the parsing file (described by the nested elements: Text of the STRING type) will be considered as enclosed in double quotes characters.</span></span>  
12. <span data-ttu-id="c1048-174">Valitse puussa Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Unparsed: Sequence 1..1.</span><span class="sxs-lookup"><span data-stu-id="c1048-174">In the tree, select 'Incoming: File\Root: Sequence\Line: Sequence 1..\* \Types: Case\Unparsed: Sequence 1..1 '.</span></span>
    * <span data-ttu-id="c1048-175">Tyypin SEQUENCE Root\Line\Types\Unparsed-elementti jäsentää sen rakenteen tapahtumarivit, joka ei vastaa CASE-pääelementissä kuvattua rakennetta.</span><span class="sxs-lookup"><span data-stu-id="c1048-175">The Root\Line\Types\Unparsed element of the type SEQUENCE has been configured to parse the transaction lines for the structure which does not match the structure described above in the parent CASE element.</span></span>   

## <a name="review-the-setting-of-the-format-mapping-to-the-data-model"></a><span data-ttu-id="c1048-176">Tietomalliin tehtävän muodon yhdistämismäärityksen asetuksen tarkasteleminen</span><span class="sxs-lookup"><span data-stu-id="c1048-176">Review the setting of the format mapping to the data model</span></span>
1. <span data-ttu-id="c1048-177">Valitse Yhdistä muoto malliin.</span><span class="sxs-lookup"><span data-stu-id="c1048-177">Click Map format to model.</span></span>
    * <span data-ttu-id="c1048-178">Yhdistämismääritys malliin CSV-muodosta -mallin yhdistämismääritys kuvaa tietojen siirron tietovirtaa saapuvasta CSV-tiedostosta tietomalliin.</span><span class="sxs-lookup"><span data-stu-id="c1048-178">The model mapping ‘Mapping to model from CSV format’ describes the data flow of the data transfer from the incoming CSV file to the data model.</span></span>   
2. <span data-ttu-id="c1048-179">Valitse Suunnittelutoiminto.</span><span class="sxs-lookup"><span data-stu-id="c1048-179">Click Designer.</span></span>
3. <span data-ttu-id="c1048-180">Laajenna puussa format.</span><span class="sxs-lookup"><span data-stu-id="c1048-180">In the tree, expand 'format'.</span></span>
    * <span data-ttu-id="c1048-181">Huomaa, että suunniteltu muoto esitellään tässä tietolähdeosana.</span><span class="sxs-lookup"><span data-stu-id="c1048-181">Note that the designed format is presented here as a data source component.</span></span>  
4. <span data-ttu-id="c1048-182">Laajenna puussa format\Incoming: File(Incoming).</span><span class="sxs-lookup"><span data-stu-id="c1048-182">In the tree, expand 'format\Incoming: File(Incoming)'.</span></span>
5. <span data-ttu-id="c1048-183">Laajenna puussa format\Incoming: File(Incoming)\Root: Sequence(Root).</span><span class="sxs-lookup"><span data-stu-id="c1048-183">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)'.</span></span>
6. <span data-ttu-id="c1048-184">Laajenna puussa format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line).</span><span class="sxs-lookup"><span data-stu-id="c1048-184">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)'.</span></span>
7. <span data-ttu-id="c1048-185">Laajenna puussa format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types).</span><span class="sxs-lookup"><span data-stu-id="c1048-185">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)'.</span></span>
8. <span data-ttu-id="c1048-186">Laajenna puussa format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record).</span><span class="sxs-lookup"><span data-stu-id="c1048-186">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)'.</span></span>
9. <span data-ttu-id="c1048-187">Laajenna puussa format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data.</span><span class="sxs-lookup"><span data-stu-id="c1048-187">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data'.</span></span>
10. <span data-ttu-id="c1048-188">Laajenna puussa format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data\CountryCode: String 0..1 (CountryCode).</span><span class="sxs-lookup"><span data-stu-id="c1048-188">In the tree, expand 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data\CountryCode: String 0..1 (CountryCode)'.</span></span>
11. <span data-ttu-id="c1048-189">Laajenna puussa format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data\TransactionDate: DateTime(TransactionDate).</span><span class="sxs-lookup"><span data-stu-id="c1048-189">In the tree, select 'format\Incoming: File(Incoming)\Root: Sequence(Root)\Line: Sequence 1..\* (Line)\Types: Case(Types)\Record: Sequence 1..1 (,)(Record)\Data\TransactionDate: DateTime(TransactionDate)'.</span></span>
    * <span data-ttu-id="c1048-190">Huomaa, että pakolliset ja valinnaiset muotoelementit, kuten TransactionDate ja CountryCode, ovat erilaisia ennalta määritetyn muodon tietolähdeosassa.</span><span class="sxs-lookup"><span data-stu-id="c1048-190">Note that the required and optional format elements, such as TransactionDate and CountryCode, look different in the predefined ‘format’ data source component.</span></span>   
12. <span data-ttu-id="c1048-191">Laajenna puussa 'Transactions = '$both''.</span><span class="sxs-lookup"><span data-stu-id="c1048-191">In the tree, expand 'Transactions = '$both''.</span></span>
    * <span data-ttu-id="c1048-192">Huomaa, että tuodun tiedoston rakennetta määrittävät muotoelementit on sidottu tietomallin elementteihin.</span><span class="sxs-lookup"><span data-stu-id="c1048-192">Note that the elements of the format that defines the structure of the imported file are bound to the elements of the data model.</span></span> <span data-ttu-id="c1048-193">Tuodun CSV-tiedoston sisältö tallennetaan näiden sidontojen perusteella ajonaikaisesti aiemmin luotuun tietomalliin.</span><span class="sxs-lookup"><span data-stu-id="c1048-193">Based on these bindings, the content of the imported CSV file will be stored at run-time in the existing data model.</span></span> <span data-ttu-id="c1048-194">CountryRegion-elementin sidontaan kannattaa kiinnittää huomiota.</span><span class="sxs-lookup"><span data-stu-id="c1048-194">Pay attention to the binding of the CountryRegion element.</span></span> <span data-ttu-id="c1048-195">Jos saapuvan tiedoston tapahtumaelementissä ei ole määritettyä maakoodin arvoa, tietomallissa käytetään oletusmaakoodia USA.</span><span class="sxs-lookup"><span data-stu-id="c1048-195">For any transaction element in the incoming file that does not have a country code value specified, the default country code ‘USA’ will be populated in the data model.</span></span>   
13. <span data-ttu-id="c1048-196">Vaihda Näytä tiedot käyttöön.</span><span class="sxs-lookup"><span data-stu-id="c1048-196">Toggle on ‘Show details’.</span></span>
14. <span data-ttu-id="c1048-197">Valitse Vahvistukset-välilehti.</span><span class="sxs-lookup"><span data-stu-id="c1048-197">Click the Validations tab.</span></span>
15. <span data-ttu-id="c1048-198">Valitse Haku.</span><span class="sxs-lookup"><span data-stu-id="c1048-198">Click Search.</span></span>
16. <span data-ttu-id="c1048-199">Kirjoita Etsi-kenttään "toim".</span><span class="sxs-lookup"><span data-stu-id="c1048-199">In the Find field, type 'vend'.</span></span>
17. <span data-ttu-id="c1048-200">Valitse Etsi seuraava.</span><span class="sxs-lookup"><span data-stu-id="c1048-200">Click Find next.</span></span>
    * <span data-ttu-id="c1048-201">Tässä muodon yhdistämismäärityksessä voi olla käyttäjän määrittämä logiikka, jolla tarkistetaan tuotujen tietojen oikeellisuus yrityksen näkökulmasta.</span><span class="sxs-lookup"><span data-stu-id="c1048-201">This format mapping may contain user-defined logic to validate the accuracy of the imported data from a business standpoint.</span></span> <span data-ttu-id="c1048-202">Jos esimerkiksi asetuksen perusteella tuotavan tiedoston minkä tahansa rivin rakenne ei vastaa otsikkorivin tai tapahtumarivin rakennetta, infolokiin tulee varoitussanoma, jossa käyttäjälle kerrotaan tapauksesta. Tiedoissa on myös tapahtuman järjestysnumero tiedostossa.</span><span class="sxs-lookup"><span data-stu-id="c1048-202">For example, based on the setting, for any line in the importing file the structure of which does not match neither the structure of the header line nor transaction line, a warning message will be generated in the Infolog informing the user about this case, indicating the transaction’s sequence number in the file.</span></span>   
18. <span data-ttu-id="c1048-203">Sulje sivu.</span><span class="sxs-lookup"><span data-stu-id="c1048-203">Close the page.</span></span>

## <a name="run-the-format-mapping"></a><span data-ttu-id="c1048-204">Muodon yhdistämismäärityksen suorittaminen</span><span class="sxs-lookup"><span data-stu-id="c1048-204">Run the format mapping</span></span>
<span data-ttu-id="c1048-205">Testausta varten voit suorittaa muodon yhdistämismäärityksen käyttämällä aiemmin ladattua 1099entriescsv.csv-tiedostoa.</span><span class="sxs-lookup"><span data-stu-id="c1048-205">For testing purposes, execute the format mapping using the 1099entriescsv.csv file that you previously downloaded.</span></span> <span data-ttu-id="c1048-206">Luodut tiedot vastaavat tietoja, jotka tuodaan valitusta CSV-tiedostosta ja joilla täytetään mukautetun tietomallin tiedot varsinaisen tuonnin yhteydessä.</span><span class="sxs-lookup"><span data-stu-id="c1048-206">The generated output will present data that will be imported from the selected CSV file and populated to the custom data model at real import.</span></span>   
1. <span data-ttu-id="c1048-207">Valitse Suorita.</span><span class="sxs-lookup"><span data-stu-id="c1048-207">Click Run.</span></span>
    * <span data-ttu-id="c1048-208">Valitse Selaa ja siirry aiemmin ladattuun 1099entriescsv.csv-tiedostoon.</span><span class="sxs-lookup"><span data-stu-id="c1048-208">Click Browse and navigate to the 1099entriescsv.csv file that you previously downloaded.</span></span>  
2. <span data-ttu-id="c1048-209">Valitse OK.</span><span class="sxs-lookup"><span data-stu-id="c1048-209">Click OK.</span></span>
    * <span data-ttu-id="c1048-210">Kiinnitä huomioita varoituksiin riveistä, joita ei hyväksytä.</span><span class="sxs-lookup"><span data-stu-id="c1048-210">Note the warning messages about lines that are not accepted.</span></span> <span data-ttu-id="c1048-211">Rivi 4 sisältää tulojen arvon, joka esitetään hyväksymättömässä muodossa. Rivillä 7 taas tapahtuman huomautusteksti ei ole lainausmerkeissä.</span><span class="sxs-lookup"><span data-stu-id="c1048-211">Line 4 contains the income value that is presented in the non-acceptable format while line 7 does not contain the transaction remark text in double quotes.</span></span>   
    * <span data-ttu-id="c1048-212">Tarkista XML-muotoiset tiedot. Nämä tiedot on tuotu valitusta tiedostosta ja siirretty tietomalliin.</span><span class="sxs-lookup"><span data-stu-id="c1048-212">Review the output in XML format that represents the data that has been imported from the selected file and ported to the data model.</span></span> <span data-ttu-id="c1048-213">Huomaa, että kaikki 7 tuodun CSV-tiedoston riviä on käsitelty.</span><span class="sxs-lookup"><span data-stu-id="c1048-213">Note that all 7 lines of the imported CSV file were processed.</span></span> <span data-ttu-id="c1048-214">Sisältyvien kenttien otsikoista 1 ohitettiin, 4 tapahtumaa jäsennettiin oikein ja 2 tapahtumaa todettiin virheellisiksi.</span><span class="sxs-lookup"><span data-stu-id="c1048-214">The containing fields’ titles line 1 were skipped, 4 transactions were properly parsed, and 2 transactions were recognized as not valid.</span></span>   
3. <span data-ttu-id="c1048-215">Sulje sivu.</span><span class="sxs-lookup"><span data-stu-id="c1048-215">Close the page.</span></span>
4. <span data-ttu-id="c1048-216">Sulje sivu.</span><span class="sxs-lookup"><span data-stu-id="c1048-216">Close the page.</span></span>


