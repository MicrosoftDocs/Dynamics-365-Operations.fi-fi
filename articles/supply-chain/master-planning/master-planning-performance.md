---
title: Pääsuunnittelun suorituskyvyn parantaminen
description: Tässä ohjeaiheessa käsitellään erilaisia asetuksia, joilla voidaan parantaa pääsuunnittelun tai vianmääritysongelmien suorituskykyä.
author: t-benebo
manager: tfehr
ms.date: 12/18/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ReqCreatePlanWorkspace
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: benebotg
ms.search.validFrom: 2019-05-31
ms.dyn365.ops.version: AX 10.0.0
ms.openlocfilehash: 54f39793b6e8b24a13a4b80b59ba35f10e8f3da5
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 02/15/2021
ms.locfileid: "5237470"
---
# <a name="improve-master-planning-performance"></a><span data-ttu-id="ba848-103">Pääsuunnittelun suorituskyvyn parantaminen</span><span class="sxs-lookup"><span data-stu-id="ba848-103">Improve master planning performance</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="ba848-104">Tässä ohjeaiheessa käsitellään erilaisia asetuksia, joilla voidaan parantaa pääsuunnittelun tai vianmääritysongelmien suorituskykyä.</span><span class="sxs-lookup"><span data-stu-id="ba848-104">This topic explains the various options that can help you improve the performance of master planning or troubleshoot issues.</span></span> <span data-ttu-id="ba848-105">Siinä on tietoja parametreista ja asetuksista sekä suositelluista määrityksistä ja toiminnoista.</span><span class="sxs-lookup"><span data-stu-id="ba848-105">It includes information about parameters and settings, as well as recommended configurations and actions.</span></span> <span data-ttu-id="ba848-106">Se sisältää myös yhteenvedon kaikista tärkeistä parametreista, jotka kannattaa ottaa huomioon pitkäkestoisissa pääsuunnittelutöissä.</span><span class="sxs-lookup"><span data-stu-id="ba848-106">Also included is a summary of all the important parameters that you should consider when you have long-running master planning jobs.</span></span>

<span data-ttu-id="ba848-107">Tämä ohjeaihe on tarkoitettu järjestelmänvalvojille tai IT-käyttäjille, jotka voivat tehdä vianmääritystä.</span><span class="sxs-lookup"><span data-stu-id="ba848-107">This topic is intended for system admins or IT users who have the capability to troubleshoot.</span></span> <span data-ttu-id="ba848-108">Se on tarkoitettu myös tuotannon tai toimituksen suunnittelijoille, koska siinä on tietoja liiketoiminnan suunnittelutarpeisiin liittyvistä parametreista.</span><span class="sxs-lookup"><span data-stu-id="ba848-108">It's also intended for production or supply planners because it includes information about parameters that are related to business planning requirements.</span></span> 

## <a name="parameters-related-to-master-planning-performance"></a><span data-ttu-id="ba848-109">Pääsuunnittelun suorituskykyyn liittyvät parametrit</span><span class="sxs-lookup"><span data-stu-id="ba848-109">Parameters related to master planning performance</span></span>

<span data-ttu-id="ba848-110">Eri parametrit vaikuttavat pääsuunnittelun ajoaikaan, ja ne onkin otettava huomioon.</span><span class="sxs-lookup"><span data-stu-id="ba848-110">Various parameters influence the running time of master planning and should be considered.</span></span>

### <a name="number-of-threads"></a><span data-ttu-id="ba848-111">Säikeiden määrä</span><span class="sxs-lookup"><span data-stu-id="ba848-111">Number of threads</span></span>

<span data-ttu-id="ba848-112">Voit säätää **Säikeiden määrä** -parametrilla pääsuunnitteluprosessia siten, että sen suorituskyky paranee tietyn tietojoukon osalta.</span><span class="sxs-lookup"><span data-stu-id="ba848-112">The **Number of threads** parameter lets you adjust the master scheduling process to help improve performance on the specific data set.</span></span> <span data-ttu-id="ba848-113">Tämä parametri määrittää pääsuunnittelun suorittamiseen käytettävien säikeiden kokonaismäärän.</span><span class="sxs-lookup"><span data-stu-id="ba848-113">This parameter specifies the total number of threads that will be used to run master planning.</span></span> <span data-ttu-id="ba848-114">Se aiheuttaa pääsuunnitteluajon rinnakkaisuuden, mikä puolestaan auttaa lyhentämään ajoaikaa.</span><span class="sxs-lookup"><span data-stu-id="ba848-114">It causes parallelization of the master planning run, which helps decrease the running time.</span></span> 

<span data-ttu-id="ba848-115">Voit määrittää **Säikeiden määrä** -parametrin **Pääsuunnitteluajo**-valintaikkunassa.</span><span class="sxs-lookup"><span data-stu-id="ba848-115">You can set the **Number of threads** parameter in the **Master planning run** dialog box.</span></span> <span data-ttu-id="ba848-116">Voit avata tämän valintaikkunan valitsemalla **Pääsuunnittelu \> Pääsuunnittelu \> Suorita \> Pääsuunnittelu**. Vaihtoehtoisesti voit valita **Suorita** **Pääsuunnittelu**-työtilassa.</span><span class="sxs-lookup"><span data-stu-id="ba848-116">To open this dialog box, go to **Master planning \> Master planning \> Run \> Master planning**, or select **Run** in the **Master planning** workspace.</span></span> <span data-ttu-id="ba848-117">Parhaan arvon määrittäminen tälle parametrille onnistuu kokeilemalla.</span><span class="sxs-lookup"><span data-stu-id="ba848-117">To determine the best value for this parameter, you will have to rely on a trial-and-error process.</span></span> <span data-ttu-id="ba848-118">Voit kuitenkin laskea ensimmäisen arvon seuraavilla kaavoilla:</span><span class="sxs-lookup"><span data-stu-id="ba848-118">However, you can use the following formulas to calculate an initial value:</span></span>

- <span data-ttu-id="ba848-119">**Valmistusteollisuus:** (säikeiden määrä) = (suunniteltujen tilausten määrä ÷ 1 000)</span><span class="sxs-lookup"><span data-stu-id="ba848-119">**If your industry is manufacturing:** (Number of threads) = (Number of planned orders ÷ 1,000)</span></span>
- <span data-ttu-id="ba848-120">**Muut:** (Säikeiden määrä) = (Nimikkeiden määrä ÷ 1 000)</span><span class="sxs-lookup"><span data-stu-id="ba848-120">**Otherwise:** (Number of threads) = (Number of items ÷ 1,000)</span></span>

<span data-ttu-id="ba848-121">Pääsuunnittelussa käytettävien aputoimintojen määrä on oltava pienempi tai yhtä suuri kuin eräpalvelimessa sallittujen säikeiden enimmäismäärä.</span><span class="sxs-lookup"><span data-stu-id="ba848-121">The number of helpers used during master planning must be less than or equal to the maximum number of threads that are allowed on the batch server.</span></span> <span data-ttu-id="ba848-122">Jos aputoimintojen määrä ylittää eräpalvelimen säikeiden määrä, lisäsäikeet eivät tee mitään.</span><span class="sxs-lookup"><span data-stu-id="ba848-122">If the number of helpers exceeds the number of threads on the batch server, the extra threads won't do any work.</span></span>

> [!NOTE]
> <span data-ttu-id="ba848-123">**Säikeiden määrä** -parametrin asetus **0** (nolla) pidentää pääsuunnittelun ajoaikaa.</span><span class="sxs-lookup"><span data-stu-id="ba848-123">Setting the **Number of threads** parameter to **0** (zero) increases the master planning running time.</span></span> <span data-ttu-id="ba848-124">Tämän vuoksi arvo kannattaa määrittää suuremmaksi kuin 0.</span><span class="sxs-lookup"><span data-stu-id="ba848-124">Therefore, we recommend that you always set a value that is more than 0.</span></span>

### <a name="number-of-tasks-in-helper-task-bundle"></a><span data-ttu-id="ba848-125">Lisätyöaseman tehtävänipun tehtävien määrä</span><span class="sxs-lookup"><span data-stu-id="ba848-125">Number of tasks in helper task bundle</span></span>

<span data-ttu-id="ba848-126">**Tehtävänipun tehtävien määrä** -asetusta (nipun kokoa) muuttamalla voit ehkä lyhentää ajoaikaa.</span><span class="sxs-lookup"><span data-stu-id="ba848-126">By changing the **Number of tasks in task bundle** setting (that is, the bundle size), you might be able to decrease the running time.</span></span> <span data-ttu-id="ba848-127">Tämä asetus määrittää, kuinka monta nimikettä yksi aputoiminto suunnittelee yhdessä.</span><span class="sxs-lookup"><span data-stu-id="ba848-127">This setting controls the number of items that are planned together by a single helper.</span></span>

<span data-ttu-id="ba848-128">Voit määrittää **Tehtävänipun tehtävien määrä** -parametrin **Pääsuunnitelman parametrit** -sivun **Yleiset**-välilehden **Suorituskyky**-osassa (**Pääsuunnittelu \> Asetukset \> Pääsuunnittelun parametrit**).</span><span class="sxs-lookup"><span data-stu-id="ba848-128">You can set the **Number of tasks in task bundle** parameter in the **Performance** section on the **General** tab of the **Master planning parameters** page (**Master planning \> Setup \> Master planning parameters**).</span></span> <span data-ttu-id="ba848-129">Tämän parametrin paras arvo määräytyy tietojen mukaan.</span><span class="sxs-lookup"><span data-stu-id="ba848-129">The best value for this parameter depends on your data.</span></span> <span data-ttu-id="ba848-130">Tämän vuoksi aluksi kannattaa käyttää arvoa **1** ja määrittää sitten kokeilemalla asetukselle paras arvo.</span><span class="sxs-lookup"><span data-stu-id="ba848-130">Therefore, we recommend that you start with a value of **1**, and then use a trial-and-error process to determine the best value for your setup.</span></span>

<span data-ttu-id="ba848-131">Yleensä tehtävien määrää kannattaa nostaa, kun nimikkeitä on erittäin paljon (satojatuhansia).</span><span class="sxs-lookup"><span data-stu-id="ba848-131">In general, we recommend that you increase the number of tasks when the number of items is very large (in the hundreds of thousands).</span></span> <span data-ttu-id="ba848-132">Muussa tapauksessa tehtävien määrää kannattaa vähentää.</span><span class="sxs-lookup"><span data-stu-id="ba848-132">Otherwise, you should decrease the number of tasks.</span></span> <span data-ttu-id="ba848-133">Ota seuraavat suositukset huomioon seuraavien toimialojen osalta:</span><span class="sxs-lookup"><span data-stu-id="ba848-133">For the following specific industries, consider these recommendations:</span></span>

- <span data-ttu-id="ba848-134">Vähittäis- ja jakelualoilla, joissa yksittäisiä nimikkeitä on runsaasti, aputoimintoja käytetään runsaasti, koska nimikkeiden välillä ei ole riippuvuutta.</span><span class="sxs-lookup"><span data-stu-id="ba848-134">In the retail and distribution industries where there are many independent items, use many helpers because there is no dependency between items.</span></span> 
- <span data-ttu-id="ba848-135">Valmistusteollisuudessa, jossa on monia tuoterakenteita ja jaettuja aliosia, käytetään vähemmän aputoimintoja, koska nimikkeiden väliset riippuvuudet voivat aiheuttaa odotusaikoja.</span><span class="sxs-lookup"><span data-stu-id="ba848-135">In the manufacturing industry where there are many bills of materials (BOMs) and shared subcomponents, use fewer helpers because dependencies between items might cause waiting times.</span></span>

> [!TIP]
> <span data-ttu-id="ba848-136">Jos suorituskykyongelmia esiintyy, **Lisätyöaseman tehtävänipun tehtävien määrä** -asetus kannattaa vähentää arvoksi **1**.</span><span class="sxs-lookup"><span data-stu-id="ba848-136">If you have performance issues, we recommend that you reduce the **Number of helpers in task bundle** setting to **1**.</span></span> <span data-ttu-id="ba848-137">Voit sitten aloittaa asetuksen parhaan arvon etsimisen kokeilemalla.</span><span class="sxs-lookup"><span data-stu-id="ba848-137">You can then start the trial-and-error process to find the best value for your setup.</span></span> <span data-ttu-id="ba848-138">Yleensä suorituskykyongelmia esiintyy, kun yhden nimikkeen käsittely kestää kauemmin kuin muiden nimikkeiden.</span><span class="sxs-lookup"><span data-stu-id="ba848-138">In general, performance issues occur when one item takes longer to process than the remaining items.</span></span> <span data-ttu-id="ba848-139">Siinä tapauksessa havaitaan, että pääsuunnitteluajon kahden muun tehtävän, joiden tila on **Kattavuus**, ajoaika on merkittävästi erilainen.</span><span class="sxs-lookup"><span data-stu-id="ba848-139">In this case, you will see that two subsequent tasks that have a status of **Coverage** in the master planning run take significantly different amounts of time to run.</span></span> <span data-ttu-id="ba848-140">Äärimmäisissä tapauksissa ero voi olla jopa 30 minuuttia.</span><span class="sxs-lookup"><span data-stu-id="ba848-140">In extreme cases, this difference might be as much as 30 minutes.</span></span> <span data-ttu-id="ba848-141">Voit päätellä tehtävien ajoajan tarkastelemalla kuinkin tehtävän kestoa.</span><span class="sxs-lookup"><span data-stu-id="ba848-141">You can infer the amount of time that tasks take to run by looking at the duration of each task.</span></span>

### <a name="use-of-cache"></a><span data-ttu-id="ba848-142">Välimuistin käyttö</span><span class="sxs-lookup"><span data-stu-id="ba848-142">Use of cache</span></span>

<span data-ttu-id="ba848-143">Voit säätää **Välimuistin käyttö** -parametrilla pääsuunnitteluprosessia siten, että sen suorituskyky paranee tietyn tietojoukon osalta.</span><span class="sxs-lookup"><span data-stu-id="ba848-143">The **Use of cache** parameter lets you adjust the master scheduling process to help it perform better on the specific data set.</span></span> <span data-ttu-id="ba848-144">Voit säätää sitä esimerkiksi seuraavien tulosten saamiseksi:</span><span class="sxs-lookup"><span data-stu-id="ba848-144">For example, you can adjust it to achieve the following results:</span></span>

- <span data-ttu-id="ba848-145">Mitä enemmän välimuistiin tallennetaan, siltä enemmän tietoja kertyy muistiin.</span><span class="sxs-lookup"><span data-stu-id="ba848-145">If more caching is done, more data is collected in data memory.</span></span> <span data-ttu-id="ba848-146">Oletuksena on, että tietoja käytetään myöhemmin uudelleen.</span><span class="sxs-lookup"><span data-stu-id="ba848-146">The expectation is that the data will be used again later.</span></span> <span data-ttu-id="ba848-147">Jos tiedot ovat muistissa, tietokantapyyntöjä syntyy ehkä enemmän.</span><span class="sxs-lookup"><span data-stu-id="ba848-147">If the data is in memory, you might save some database requests.</span></span> <span data-ttu-id="ba848-148">Jos välimuistitallennuksia tehdään kuitenkin enemmän, muistia tarvitaan lisää.</span><span class="sxs-lookup"><span data-stu-id="ba848-148">However, if more caching is done, memory requirements increase.</span></span>
- <span data-ttu-id="ba848-149">Jos välimuistitallennuksia tehdään vähemmän, samat tiedot on ehkä noudattava entistä useammin tietokannasta.</span><span class="sxs-lookup"><span data-stu-id="ba848-149">If less caching is done, the same data might have to be fetched from the database more often.</span></span> <span data-ttu-id="ba848-150">Lisäksi AOS-palvelin tallentaa vähän tietoja muistiin koko prosessin aikana.</span><span class="sxs-lookup"><span data-stu-id="ba848-150">Additionally, Application Object Server (AOS) stores little data in memory throughout the process.</span></span>

<span data-ttu-id="ba848-151">On vaikea ennakoida, kumpi vaihtoehto on parempi, sillä tietojen lisäksi myös laitteistolla on merkitystä kussakin tapauksessa.</span><span class="sxs-lookup"><span data-stu-id="ba848-151">It's difficult to predict which option will be better because each case depends not only on the data but also on the hardware.</span></span> <span data-ttu-id="ba848-152">Koska esimerkiksi välimuistitallennuksen vähentäminen kuormittaa tietokantapalvelinta enemmän, tätä vaihtoehtoa ei luultavasti kannata valita, jos tietokantapalvelin on jo ylikuormittunut.</span><span class="sxs-lookup"><span data-stu-id="ba848-152">For example, because less caching causes additional load on the database server, it probably isn't a good idea to use that option if your database server is already overloaded.</span></span>

<span data-ttu-id="ba848-153">Voit määrittää **Välimuistin käyttö** -parametrin **Pääsuunnitelman parametrit** -sivun **Yleiset**-välilehden **Suorituskyky**-osassa (**Pääsuunnittelu \> Asetukset \> Pääsuunnittelun parametrit**).</span><span class="sxs-lookup"><span data-stu-id="ba848-153">You can set the **Use of cache** parameter in the **Performance** section on the **General** tab of the **Master planning parameters** page (**Master planning \> Setup \> Master planning parameters**).</span></span> <span data-ttu-id="ba848-154">Välimuistin tehokas käyttö määräytyy suuressa määrin asiakastietojen perusteella.</span><span class="sxs-lookup"><span data-stu-id="ba848-154">The effectiveness of caching depends heavily on the customer data.</span></span> <span data-ttu-id="ba848-155">Jos välimuistiin tallennettuja tietoja ei koskaan tarvita, muistia käytetään turhaan, jos tiedot tallennetaan ajoitusprosessin päättymiseen saakka.</span><span class="sxs-lookup"><span data-stu-id="ba848-155">For example, if cached data is never needed, you just waste memory if you store data until the end of the scheduling process.</span></span> <span data-ttu-id="ba848-156">Jos tässä tapauksessa välimuistitallennusmääritystä vähennetään, suorituskyky voi parantua, sillä AOS-palvelin tarvitsee vähemmän muistia ja palvelinresursseja vapautuu muihin tehtäviin.</span><span class="sxs-lookup"><span data-stu-id="ba848-156">In this case, if you configure less caching, performance might increase because AOS requires less memory and server resources are freed up for other tasks.</span></span>

> [!TIP]
> <span data-ttu-id="ba848-157">Yleensä **Välimuistin käyttö** -parametriksi kannattaa määrittää **Maksimi**, koska parametri on tarkoitettu suorituskykyä parantava toiminto.</span><span class="sxs-lookup"><span data-stu-id="ba848-157">In general, we recommend that you set the **Use of cache** parameter to **Maximum**, because the parameter is intended as a performance enhancing feature.</span></span> <span data-ttu-id="ba848-158">Parametrin arvoksi kannattaa määrittää **Minimi**, jos ajo tehdään paikallisesti ja muistia on rajallisesti (noin 2 gigatavua \[Gt\]).</span><span class="sxs-lookup"><span data-stu-id="ba848-158">We recommend that you set the parameter to **Minimum** if you run on premises and have limited memory (approximately 2 gigabytes \[GB\]).</span></span>

### <a name="number-of-orders-in-firming-bundle"></a><span data-ttu-id="ba848-159">Vahvistusmyyntirakenteen tilausten määrä</span><span class="sxs-lookup"><span data-stu-id="ba848-159">Number of orders in firming bundle</span></span>

<span data-ttu-id="ba848-160">**Vahvistusmyyntirakenteen tilausten määrä** -parametri määrittää, kuinka monta tilausta kukin säie tai erä käsittelee yhteensä kerrallaan.</span><span class="sxs-lookup"><span data-stu-id="ba848-160">The **Number or orders in firming bundle** parameter specifies the total number of orders that will be processed at a time by each thread/batch.</span></span> <span data-ttu-id="ba848-161">Se aiheuttaa automaattisen vahvistusprosessin rinnakkaisen suorittamisen.</span><span class="sxs-lookup"><span data-stu-id="ba848-161">It causes parallelization of the autofirming process.</span></span>

<span data-ttu-id="ba848-162">Voit määrittää **Vahvistusmyyntirakenteen tilausten määrä** -parametrin **Pääsuunnitelman parametrit** -sivun **Yleiset**-välilehden **Suorituskyky**-osassa (**Pääsuunnittelu \> Asetukset \> Pääsuunnittelun parametrit**).</span><span class="sxs-lookup"><span data-stu-id="ba848-162">You can set the **Number or orders in firming bundle** parameter in the **Performance** section on the **General** tab of the **Master planning parameters** page (**Master planning \> Setup \> Master planning parameters**).</span></span> <span data-ttu-id="ba848-163">Automaattinen vahvistusprosessi rinnakkainen suorittaminen perustuu yhdessä käsiteltäviin tilauksiin.</span><span class="sxs-lookup"><span data-stu-id="ba848-163">Parallelization of the autofirming process is based on the orders that must be processed together.</span></span> <span data-ttu-id="ba848-164">Esimerkiksi, jos tämän parametrin arvoksi on määritetty **50**, jokainen säie tai erätehtävä poimii kerralla 50 tilausta ja käsittelee ne yhdessä.</span><span class="sxs-lookup"><span data-stu-id="ba848-164">For example, if this parameter is set to **50**, each thread or batch task will pick up 50 orders at a time and process them together.</span></span> <span data-ttu-id="ba848-165">Paras arvo kannattaa etsiä kokeilemalla.</span><span class="sxs-lookup"><span data-stu-id="ba848-165">We recommend that you use a trial-and-error process to find the best value.</span></span> <span data-ttu-id="ba848-166">Voit kuitenkin laskea ensimmäisen arvon seuraavalla kaavalla:</span><span class="sxs-lookup"><span data-stu-id="ba848-166">However, you can use the following formula to calculate an initial value:</span></span>

<span data-ttu-id="ba848-167">(Tilausten myyntirakennekohtainen määrä) = (kysyntänimikkeiden määrä ÷ säikeiden määrä)</span><span class="sxs-lookup"><span data-stu-id="ba848-167">(Number of orders per bundle) = (Number of demand items ÷ Number of threads)</span></span>

> [!NOTE]
> <span data-ttu-id="ba848-168">Jos määrität **Vahvistusmyyntirakenteen tilausten määrä** -parametrin arvoksi **0** (nolla), rinnakkaista automaattista vahvistusprosessia ei tapahdu.</span><span class="sxs-lookup"><span data-stu-id="ba848-168">If you set the **Number of orders in firming bundle** parameter to **0** (zero), no parallelization of the autofirming process will occur.</span></span> <span data-ttu-id="ba848-169">Koko prosessi suoritetaan yhtenä erätehtävänä, ja niiden ajoaika on kumulatiivinen.</span><span class="sxs-lookup"><span data-stu-id="ba848-169">The whole process will run on a single batch task and have a cumulative running time.</span></span> <span data-ttu-id="ba848-170">Tämän vuoksi pääsuunnittelun ajoaika pitenee.</span><span class="sxs-lookup"><span data-stu-id="ba848-170">Therefore, the running time of your master planning will increase.</span></span> <span data-ttu-id="ba848-171">Tämän vuoksi tämän parametrin arvo kannattaa määrittää suuremmaksi kuin **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ba848-171">For this reason, we recommend that you set this parameter to a value that is more than **0** (zero).</span></span>

### <a name="time-fences"></a><span data-ttu-id="ba848-172">Aikarajat</span><span class="sxs-lookup"><span data-stu-id="ba848-172">Time fences</span></span>

<span data-ttu-id="ba848-173">Aikarajat määrittävät, kuinka pitkälle tulevaisuuteen pääsuunnittelu laskee laskelmat ja muut tarpeet.</span><span class="sxs-lookup"><span data-stu-id="ba848-173">Time fences specify how far in the future the calculations and other requirements must be calculated by master planning.</span></span> <span data-ttu-id="ba848-174">Mitä pidempi aikaraja on, sitä kauemmin pääsuunnittelun suorittaminen kestää.</span><span class="sxs-lookup"><span data-stu-id="ba848-174">The larger the time fence is, the longer it will take master planning to run.</span></span> <span data-ttu-id="ba848-175">Määritä tämän vuoksi aikarajat liiketoimintatarpeiden mukaan.</span><span class="sxs-lookup"><span data-stu-id="ba848-175">Therefore, set the time fences according to your business requirements.</span></span> <span data-ttu-id="ba848-176">Lisätietoja aikarajasta on kohdassa [Pääsuunnittelun määrittäminen](master-planning-setup.md).</span><span class="sxs-lookup"><span data-stu-id="ba848-176">For more information about time fences, see [Set up master planning](master-planning-setup.md).</span></span>

### <a name="actions"></a><span data-ttu-id="ba848-177">Toimenpiteet</span><span class="sxs-lookup"><span data-stu-id="ba848-177">Actions</span></span>

<span data-ttu-id="ba848-178">Aikarajat sisältävät myös **Toimenpidesanoma**-parametrin.</span><span class="sxs-lookup"><span data-stu-id="ba848-178">Among the time fences, you can also find the **Action message** parameter.</span></span> <span data-ttu-id="ba848-179">Toimenpidesanomien laskeminen pidentää pääsuunnittelun ajoaikaa.</span><span class="sxs-lookup"><span data-stu-id="ba848-179">The calculation of action messages causes a longer running time for master planning.</span></span> <span data-ttu-id="ba848-180">Jos toimenpidesanomia ei analysoida ja käytetä säännöllisesti (kuten päivittäin tai viikoittain), harkitse laskennan poistamista käytöstä pääsuunnitteluajon aikana.</span><span class="sxs-lookup"><span data-stu-id="ba848-180">If action messages aren't regularly analyzed and applied (daily, weekly, and so on), consider turning off the calculation during the master planning run.</span></span> <span data-ttu-id="ba848-181">Voit poistaa laskennan käytöstä **Pääsuunnitelmat**-sivulla määrittämällä suoritettavan (**Pääsuunnitelman \> Määritys \> Suunnitelmat \> Pääsuunnitelmat**) **Toimenpidesanoman**-aikarajaksi **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ba848-181">To turn off the calculation, on the **Master plans** page (**Master planning \> Setup \> Plans \> Master plans**), set the **Action message** time fence to **0** (zero).</span></span> <span data-ttu-id="ba848-182">Varmista myös, että **Toimenpidesanoma**-asetus on poistettu käytöstä kaikissa kattavuusryhmissä.</span><span class="sxs-lookup"><span data-stu-id="ba848-182">Also make sure that the **Action message** setting is turned off for all the coverage groups.</span></span>

### <a name="futures"></a><span data-ttu-id="ba848-183">Viivästyssanomat</span><span class="sxs-lookup"><span data-stu-id="ba848-183">Futures</span></span>

<span data-ttu-id="ba848-184">Viivästyssanomien laskeminen pidentää pääsuunnittelun ajoaikaa.</span><span class="sxs-lookup"><span data-stu-id="ba848-184">The calculation of futures causes a longer running time for master planning.</span></span> <span data-ttu-id="ba848-185">Jos et suunnittele tuoterakenteita tai jos viivästyksiä ei tarvitse välittää toimituksesta kysyntään suunnitelman aikana, viivästyssanomien laskelmien poistamista käytöstä pääsuunnittelun aikana kannattaa harkita.</span><span class="sxs-lookup"><span data-stu-id="ba848-185">If you aren't planning BOMs, or if delays don't have to be propagated from supply to demand during planning, consider turning off futures calculations during master planning.</span></span> <span data-ttu-id="ba848-186">Voit poistaa laskelmat käytöstä määrittämällä suoritettavan pääsuunnitelman **Viivästyssanomat**-aikarajaksi **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ba848-186">To turn off the calculations, set the **Futures** time fence to **0** (zero) for the master plan that you're running.</span></span> <span data-ttu-id="ba848-187">Varmista myös, että **Viivästyssanoma**-asetus on poistettu käytöstä kaikissa kattavuusryhmissä.</span><span class="sxs-lookup"><span data-stu-id="ba848-187">Also make sure that the **Futures** setting is turned off for all the coverage groups.</span></span>

## <a name="one-heavy-routine-at-a-time"></a><span data-ttu-id="ba848-188">Yksi kuormittava rutiini kerrallaan</span><span class="sxs-lookup"><span data-stu-id="ba848-188">One heavy routine at a time</span></span>

<span data-ttu-id="ba848-189">Kun ajoitat pääsuunnittelua, älä ajoita samaan aikaan muita erätöitä.</span><span class="sxs-lookup"><span data-stu-id="ba848-189">When you schedule master planning, don't schedule any other batch job at the same time.</span></span> <span data-ttu-id="ba848-190">Vältä etenkin muiden kuormittavien rutiinien samanaikaista ajoittamista. Tällainen on esimerkiksi varaston sulkeminen.</span><span class="sxs-lookup"><span data-stu-id="ba848-190">Be especially careful that you don't schedule any other heavy routines, such as inventory close, at the same time.</span></span>

## <a name="review-the-session-log"></a><span data-ttu-id="ba848-191">Istuntolokin tarkasteleminen</span><span class="sxs-lookup"><span data-stu-id="ba848-191">Review the session log</span></span>

<span data-ttu-id="ba848-192">Järjestelmä voi kerätä lisätietoja pääsuunnittelun aikana suoritettavista tehtävistä,</span><span class="sxs-lookup"><span data-stu-id="ba848-192">The system can collect additional information about the tasks that run during master planning.</span></span> <span data-ttu-id="ba848-193">Jos haluat järjestelmän keräävän näitä tietoja, ota **Seuraa käsittelyaikaa** -asetus käyttöön **Pääsuunnitteluajo**-valintaikkunassa.</span><span class="sxs-lookup"><span data-stu-id="ba848-193">To have the system collect this information, turn on the **Track processing time** setting in the **Master planning run** dialog box.</span></span> <span data-ttu-id="ba848-194">Kerätyt tiedot voivat auttaa etsimään ajon pullonkauloja.</span><span class="sxs-lookup"><span data-stu-id="ba848-194">The information that is collected can help you find bottlenecks in the run.</span></span> <span data-ttu-id="ba848-195">Kun esimerkiksi **Lisätyöaseman tehtävänipun tehtävien määrä** -parametrin asetukseksi on määritetty **1**, voit tunnistaa nimikkeen, jonka ajoaika on pisin.</span><span class="sxs-lookup"><span data-stu-id="ba848-195">For example, when the **Number of tasks in helper task bundle** parameter is set to **1**, you can identify the item that has the longest running time.</span></span> <span data-ttu-id="ba848-196">Voit myös verrata sellaisten erilaisten säikeiden ajoaikoja, joilla on **Kattavuus**-tila, ja verrata kunkin tehtävän kestoa.</span><span class="sxs-lookup"><span data-stu-id="ba848-196">You can also compare the running times for the various threads that have a status of **Coverage** and compare the duration for each task.</span></span>

<span data-ttu-id="ba848-197">Voit tarkastella järjestelmän pääsuunnitteluajoja käyttämällä jompaakumpaa seuraavaa ohjetta.</span><span class="sxs-lookup"><span data-stu-id="ba848-197">To review the master planning runs of your system, follow one of these steps.</span></span>

- <span data-ttu-id="ba848-198">Valitse **Pääsuunnittelu**-työtilassa työtila avattavassa kentässä ja valitse sitten **Pääsuunnittelu**-ruudussa **Historia**.</span><span class="sxs-lookup"><span data-stu-id="ba848-198">In the **Master planning** workspace, select a master plan in the drop-down field, and then on the **Master planning** tile, select **History**.</span></span> <span data-ttu-id="ba848-199">Valitse ensin työ, sitten **Kyselyt** pikavälilehdessä ja sitten **Käsittelytehtävän kesto**.</span><span class="sxs-lookup"><span data-stu-id="ba848-199">Select a job, select **Inquiries** on the FastTab, and then select **Process task duration**.</span></span>
- <span data-ttu-id="ba848-200">Valitse **Pääsuunnitelmat**-sivulla vasemmassa ruudussa suunnitelma ja valitse sitten **Historia** pikavälilehdessä.</span><span class="sxs-lookup"><span data-stu-id="ba848-200">On the **Master plans** page, select a plan in the left pane, and then select **History** on the FastTab.</span></span> <span data-ttu-id="ba848-201">Valitse ensin työ, sitten **Kyselyt** pikavälilehdessä ja sitten **Käsittelytehtävän kesto**.</span><span class="sxs-lookup"><span data-stu-id="ba848-201">Select a job, select **Inquiries** on the FastTab, and then select **Process task duration**.</span></span>

<span data-ttu-id="ba848-202">Ota seuraavat seikat huomioon, kun tarkastelet istuntolokia:</span><span class="sxs-lookup"><span data-stu-id="ba848-202">When you review the session log, consider the following:</span></span>

- <span data-ttu-id="ba848-203">**Päivityksen** ei pitäisi kestää kauan (yleensä se kestää noin 30 minuuttia). Se on kuitenkin yksisäikeinen.</span><span class="sxs-lookup"><span data-stu-id="ba848-203">**Update** should not take a long time (in general, it should take up to 30 minutes), however, it's single-threaded.</span></span>
- <span data-ttu-id="ba848-204">**Suunnitelman kopioinnin** ei pitäisi kestään kauan (sen pitäisi kestää noin minuutin).</span><span class="sxs-lookup"><span data-stu-id="ba848-204">**Copy plan** should not take a long time (it should take about one minute).</span></span>
- <span data-ttu-id="ba848-205">**Automaattinen vahvistaminen** kestää yleensä noin 30 minuuttia.</span><span class="sxs-lookup"><span data-stu-id="ba848-205">**Auto firming** usually takes about 30 minutes.</span></span> <span data-ttu-id="ba848-206">Se voi kuitenkin kestää useita tunteja tilausten määrän ja nimikkeiden monimutkaisuuden mukaan.</span><span class="sxs-lookup"><span data-stu-id="ba848-206">However, it can take up to multiple hours, depending on the number of orders and the complexity of the items.</span></span>
- <span data-ttu-id="ba848-207">**Automaattisen vahvistuksen** pitäisi kestää lyhyemmän ajan kuin **Kattavuus**.</span><span class="sxs-lookup"><span data-stu-id="ba848-207">**Auto firming** should take less time than **Coverage**.</span></span>
- <span data-ttu-id="ba848-208">**Kattavuuden** keston pitäisi olla pidempi kuin muiden asetusten keston.</span><span class="sxs-lookup"><span data-stu-id="ba848-208">**Coverage** should take the longest time relative to the rest.</span></span>
- <span data-ttu-id="ba848-209">**Toiminto-** ja **viivästyssanoma** voi kestään pitkään tietojen ja tuoterakenteiden määrän mukaan.</span><span class="sxs-lookup"><span data-stu-id="ba848-209">**Action** and **Future message** can take a long time, depending on the data and the number of BOMs.</span></span>

## <a name="filtering-of-items"></a><span data-ttu-id="ba848-210">Nimikkeiden suodattaminen</span><span class="sxs-lookup"><span data-stu-id="ba848-210">Filtering of items</span></span>

<span data-ttu-id="ba848-211">**Pääsuunnitteluajo**-valintaikkunassa käytetyt suodattimet vaikuttavat pääsuunnitteluajon kestoon.</span><span class="sxs-lookup"><span data-stu-id="ba848-211">Filters that are applied in the **Master planning run** dialog box affect the duration of the master planning run.</span></span> <span data-ttu-id="ba848-212">Valitse **Pääsuunnittelu \> Pääsuunnittelu \> Suorita \> Pääsuunnittelu**. Vaihtoehtoisesti voit valita **Suorita** **Pääsuunnittelu**-työtilassa.</span><span class="sxs-lookup"><span data-stu-id="ba848-212">Go to **Master planning \> Master planning \> Run \> Master planning**, or select **Run** in the **Master planning** workspace.</span></span> <span data-ttu-id="ba848-213">Jos haluat jättää nimikkeet ajon ulkopuolelle, suodatus kannattaa tehdä nimikkeen elinkaaren tilan (eikä nimikenumeroiden) perusteella.</span><span class="sxs-lookup"><span data-stu-id="ba848-213">To exclude items from the run, we recommend that you filter by the lifecycle state of the item (not by item numbers).</span></span> <span data-ttu-id="ba848-214">Kun suodatusperusteena käytetään elinkaaren tilaan, päivitysprosessi kestää vähemmän aikaa kuin nimikenumeroiden mukaan suodatettaessa.</span><span class="sxs-lookup"><span data-stu-id="ba848-214">When you filter by lifecycle state, the update process will take less time than when you filter by item numbers.</span></span>

## <a name="automatically-filter-by-items-with-direct-demand"></a><span data-ttu-id="ba848-215">Suodata automaattisesti suoran kysynnän nimikkeiden mukaan</span><span class="sxs-lookup"><span data-stu-id="ba848-215">Automatically filter by items with direct demand</span></span>

<span data-ttu-id="ba848-216">Voit parantaa pääsuunnittelun ajoaikaa valitsemalla vain ne nimikkeet, joilla on suora kysyntä.</span><span class="sxs-lookup"><span data-stu-id="ba848-216">To improve the master planning run time, you can choose to only include items with direct demand.</span></span> <span data-ttu-id="ba848-217">Tätä suodatinta voi käyttää vain täydellisessä pääsuunnittelun ajossa, jossa ei ole muita suodattimia **Sisällytettävät tietueet** -kenttään.</span><span class="sxs-lookup"><span data-stu-id="ba848-217">This filter can only be used for a complete master planning run with no other filters applied in the **Records to include** field.</span></span> <span data-ttu-id="ba848-218">Suodattimien kanssa suoritettava pääsuunnittelu ohittaa **Suodata automaattisesti kohteet, joilla on suora kysyntä** -asetus.</span><span class="sxs-lookup"><span data-stu-id="ba848-218">A master planning run with filters will ignore the **Automatically filter by items with direct demand** setting.</span></span>

<span data-ttu-id="ba848-219">**Suodata automaattisesti kohteilla, joilla on suora kysyntä** -kenttä, löytyy **Pääsuunnittelun parametrit** -sivulta, ja sitä voidaan käyttää sekä esikäsittely- että jälkikäsittelyasetuksilla.</span><span class="sxs-lookup"><span data-stu-id="ba848-219">The **Automatically filter by items with direct demand** field is found on the **Master planning parameters** page and can be used with both pre-processing and post-processing settings.</span></span>

### <a name="pre-processing"></a><span data-ttu-id="ba848-220">Esikäsittely</span><span class="sxs-lookup"><span data-stu-id="ba848-220">Pre-processing</span></span>
<span data-ttu-id="ba848-221">**Esikäsittely: Suodata automaattisesti kohteiden mukaan suoraan kysynnän** parametrilla varmistaa, että pääsuunnittelun esikäsittelyvaihe sisältää vain kohteet, jotka täyttävät vähintään yhden seuraavista ehdoista:</span><span class="sxs-lookup"><span data-stu-id="ba848-221">The **Pre-processing: Automatically filter by items with direct demand** parameter ensures that the pre-processing phase of master planning only includes items that fulfill at least one of the following conditions:</span></span>
  - <span data-ttu-id="ba848-222">Nimikkeellä on odotettu vastaanotto tai asia, kuten ostotilaus, myyntitilaus, tarjous, siirtotilaus tai tuotantotilaus.</span><span class="sxs-lookup"><span data-stu-id="ba848-222">The item has an expected receipt or issue, such as a purchase order, sales order, quote, transfer order, or production order.</span></span> 
  - <span data-ttu-id="ba848-223">Nimikkeellä on nimikekattavuus ja varmuusvarasto (pienin käytettävissä oleva varasto).</span><span class="sxs-lookup"><span data-stu-id="ba848-223">The item has item coverage with safety stock (minimum on-hand inventory).</span></span>
  - <span data-ttu-id="ba848-224">Ennusteen kysyntä on tämän päivän jälkeen olemassa nimikkeelle.</span><span class="sxs-lookup"><span data-stu-id="ba848-224">Forecast demand after today exists for the item.</span></span>
  - <span data-ttu-id="ba848-225">Ennusteen tarjonta on tämän päivän jälkeen olemassa nimikkeelle.</span><span class="sxs-lookup"><span data-stu-id="ba848-225">Forecast supply after today exists for the item.</span></span>
  - <span data-ttu-id="ba848-226">Nimike sisältää vielä luotavan puhelinkeskusmoduulin jatkuvuusrivit.</span><span class="sxs-lookup"><span data-stu-id="ba848-226">The item includes any continuity lines from the call center module yet to be created.</span></span>

> [!NOTE]
> <span data-ttu-id="ba848-227">Nimikkeellä, jolla on fyysisesti käytettävissä oleva varasto, ei näy tarvetapahtumaa, koska nimikkeelle ei ole kysyntää.</span><span class="sxs-lookup"><span data-stu-id="ba848-227">An item that has physically available on-hand inventory will not show a requirement transaction because there is no demand for the item.</span></span>

### <a name="post-processing"></a><span data-ttu-id="ba848-228">Jälkikäsittely</span><span class="sxs-lookup"><span data-stu-id="ba848-228">Post-processing</span></span>
<span data-ttu-id="ba848-229">**Jälkikäsittely: Suodata automaattisesti kohteilla, joilla on suora kysyntä** -asetus on merkityksellinen vain, jos määrität **Tuoterakenne version vaatimuksen** kattavuusryhmiin.</span><span class="sxs-lookup"><span data-stu-id="ba848-229">The **Post-processing: Automatically filter by items with direct demand** option is only relevant if you set **BOM version requirement** in your coverage groups.</span></span> <span data-ttu-id="ba848-230">Muussa tapauksessa parametria ei tarvitse ottaa käyttöön.</span><span class="sxs-lookup"><span data-stu-id="ba848-230">Otherwise, you do not need to enable the parameter.</span></span> 

<span data-ttu-id="ba848-231">Ennen kattavuusvaihetta otetaan käyttöön esikattavuusvaihe, jonka aikana nimikkeet, joilla on kattavuus asetuksen **tuoterakenneversion vaatimus**, käsitellään uudelleen.</span><span class="sxs-lookup"><span data-stu-id="ba848-231">Before the coverage step starts, there is a pre-coverage step during which items with the coverage setting **BOM version requirement** enabled will be reprocessed.</span></span> <span data-ttu-id="ba848-232">Tämä tehdään sen varmistamiseksi, että vaaditun tuoterakenneversion nimikkeet suunnitellaan.</span><span class="sxs-lookup"><span data-stu-id="ba848-232">This is done to ensure that items from the required BOM version are planned.</span></span> <span data-ttu-id="ba848-233">Nimikkeille, joilla katsotaan olevan kysyntää esikäsittelyn aikana ei enää ole kysyntää ja siksi olisi jätettävä pois suunnitteluajosta.</span><span class="sxs-lookup"><span data-stu-id="ba848-233">Items that are considered to have demand during pre-processing no longer have any demand and therefore should be excluded from the planning run.</span></span>

## <a name="performance-checklist-summary"></a><span data-ttu-id="ba848-234">Suorituskyvyn tarkistusluettelon yhteenveto</span><span class="sxs-lookup"><span data-stu-id="ba848-234">Performance checklist summary</span></span>

- <span data-ttu-id="ba848-235">**Säikeiden määrä** – määritä arvo suuremmaksi kuin **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ba848-235">**Number of threads** – Set to a value that is more than **0** (zero).</span></span>
- <span data-ttu-id="ba848-236">**Lisätyöaseman tehtävänipun tehtävien määrä** – Määritä arvo suuremmaksi kuin **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ba848-236">**Number of tasks in helper task bundle** – Set to a value that is more than **0** (zero).</span></span> <span data-ttu-id="ba848-237">(Käytä aiemmin tässä ohjeaiheessa annettuja kaavoja.)</span><span class="sxs-lookup"><span data-stu-id="ba848-237">(Use the formulas that are given earlier in this topic.)</span></span>
- <span data-ttu-id="ba848-238">**Välimuistin käyttö** – määritä arvoksi **Maksimi**, ellei järjestelmän muisti on vähissä.</span><span class="sxs-lookup"><span data-stu-id="ba848-238">**Use of cache** – Set to **Maximum** unless your system is low on memory.</span></span>
- <span data-ttu-id="ba848-239">**Vahvistusmyyntirakenteen tilausten määrä** – Määritä arvo suuremmaksi kuin **0** (nolla).</span><span class="sxs-lookup"><span data-stu-id="ba848-239">**Number of orders in firming bundle** – Set to a value that is more than **0** (zero).</span></span> <span data-ttu-id="ba848-240">(Käytä aiemmin tässä ohjeaiheessa annettu kaava.)</span><span class="sxs-lookup"><span data-stu-id="ba848-240">(Use the formula that is given earlier in this topic.)</span></span>
- <span data-ttu-id="ba848-241">**Aikarajat** – säädä liiketoimintatarpeiden mukaan.</span><span class="sxs-lookup"><span data-stu-id="ba848-241">**Time fences** – Adjust to your business needs.</span></span>
- <span data-ttu-id="ba848-242">**Toiminnot ja viivästykset** – poista toiminnot ja viivästykset, jos et käytä niitä.</span><span class="sxs-lookup"><span data-stu-id="ba848-242">**Actions and futures** – Disable actions and future if you don't use them.</span></span>
- <span data-ttu-id="ba848-243">**Yksi kuormittava rutiini kerrallaan** – älä suorita pääsuunnittelu yhdessä muiden kuormittavien rutiinien kanssa.</span><span class="sxs-lookup"><span data-stu-id="ba848-243">**One heavy routine at a time** – Don't run master planning together with any other heavy routine.</span></span>
- <span data-ttu-id="ba848-244">**Tarkista istuntoloki.**</span><span class="sxs-lookup"><span data-stu-id="ba848-244">**Review the session log.**</span></span>
- <span data-ttu-id="ba848-245">**Nimikkeiden suodatus** – Jätä nimikkeitä pääsuunnitteluajon ulkopuolelle elinkaaren tilan avulla.</span><span class="sxs-lookup"><span data-stu-id="ba848-245">**Filtering of items** – Use the lifecycle state to exclude items from the master planning run.</span></span> <span data-ttu-id="ba848-246">(Älä käytä nimikenumeroita.)</span><span class="sxs-lookup"><span data-stu-id="ba848-246">(Don't use the item numbers.)</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]