---
title: Tuotantorakenne- ja reseptirivien vapauttaminen varastoon
description: "Tässä ohjeaiheessa käsitellään tuoterakennerivien ja reseptirivien raaka-aineiden varastoon vapauttamisprosessia."
author: johanhoffmann
manager: AnnBe
ms.date: 10/30/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
audience: Application User
ms.reviewer: bis
ms.search.scope: AX 7.3.0, Operations, UnifiedOperations
ms.custom: 1705903
ms.search.region: Global
ms.author: johanho
ms.search.validfrom: 2017-12-31
ms.dyn365.ops.version: 7.3
ms.translationtype: HT
ms.sourcegitcommit: 029511634e56aec7fdd91bad9441cd12951fbd8d
ms.openlocfilehash: 6bbeb5b3ec74e48bf3b1a87ff0a78bd2266209f8
ms.contentlocale: fi-fi
ms.lasthandoff: 01/17/2018

---

# <a name="release-bom-and-formula-lines-to-the-warehouse"></a><span data-ttu-id="68194-103">Tuotantorakenne- ja reseptirivien vapauttaminen varastoon</span><span class="sxs-lookup"><span data-stu-id="68194-103">Release BOM and formula lines to the warehouse</span></span>

<span data-ttu-id="68194-104">Tässä ohjeaiheessa käsitellään tuoterakennerivien ja reseptirivien raaka-aineiden varastoon vapauttamisprosessia.</span><span class="sxs-lookup"><span data-stu-id="68194-104">This topic describes the process for releasing raw material for bill of materials (BOM) lines and formula lines to the warehouse.</span></span> <span data-ttu-id="68194-105">Kun vapautat tuoterakenne- tai reseptirivin varastoon, järjestelmä määrittää ensin, onko materiaalia jo saatavana työnohjauksessa tuotannon syöttösijainnissa, jossa tuotantoprosessi kuluttaa materiaalin.</span><span class="sxs-lookup"><span data-stu-id="68194-105">When you release a BOM or formula line to the warehouse, the system first determines whether material is already available at the production input location on the shop floor where the material will be consumed for the production process.</span></span>

- <span data-ttu-id="68194-106">Jos materiaalia on saatavana tuotannon syöttösijainnissa, se kerätään kyseisestä sijainnista heti, kun signaali materiaalin vapauttamisesta varastoon on annettu.</span><span class="sxs-lookup"><span data-stu-id="68194-106">If the material is available at the production input location, it's picked from that location immediately after the signal is given for the release of material to the warehouse.</span></span>
- <span data-ttu-id="68194-107">Jos materiaalia ei ole saatavana tuotannon syöttösijainnissa, materiaalin vapautus ilmaisee, että materiaali on siirrettävä varastosijainneista tuotannon syöttösijaintiin.</span><span class="sxs-lookup"><span data-stu-id="68194-107">If the material isn't available at the production input location, the material release indicates that material must be moved from locations in the warehouse to the production input location.</span></span> <span data-ttu-id="68194-108">Materiaali siirretään raaka-aineiden keräilyn varastotyön kautta.</span><span class="sxs-lookup"><span data-stu-id="68194-108">The material is moved via warehouse work for raw material picking.</span></span> <span data-ttu-id="68194-109">Tämän vuoksi raaka-aineiden varastoprosessit on määritettävä.</span><span class="sxs-lookup"><span data-stu-id="68194-109">Therefore, warehouse processes for raw material picking must be configured.</span></span> <span data-ttu-id="68194-110">Lisätietoja on kohdissa [Täydennys](../warehousing/replenishment.md) ja [Varastotyön valvonta työmallien ja sijaintidirektiivien avulla](../warehousing/control-warehouse-location-directives.md).</span><span class="sxs-lookup"><span data-stu-id="68194-110">For more information, see [Replenishment](../warehousing/replenishment.md) and [Control warehouse work by using work templates and location directives](../warehousing/control-warehouse-location-directives.md).</span></span>

## <a name="methods-for-releasing-bom-and-formula-lines"></a><span data-ttu-id="68194-111">Tuoterakenne- ja reseptirivien vapauttamistavat</span><span class="sxs-lookup"><span data-stu-id="68194-111">Methods for releasing BOM and formula lines</span></span>

<span data-ttu-id="68194-112">Voit määrittää tuoterakenne- ja reseptirivien vapauttamisen osaksi tuotanto- tai erätilauksen vapauttamista.</span><span class="sxs-lookup"><span data-stu-id="68194-112">You can configure the release of BOM and formula lines so that it occurs as part of the release of a production order or batch order.</span></span> <span data-ttu-id="68194-113">Vaihtoehtoisesti myös erätyö voi hallita vapautusta tai se voidaan tehdä manuaalisesti.</span><span class="sxs-lookup"><span data-stu-id="68194-113">Alternatively, the release can be controlled by a batch job or done as a manual interaction.</span></span>

<span data-ttu-id="68194-114">Tuotantorakenne- ja reseptirivien vapautustapaa hallitaan **Tuotantorivin vapautus** -parametrilla.</span><span class="sxs-lookup"><span data-stu-id="68194-114">The method that is used to release BOM and formula lines is controlled by the **Production line release** parameter.</span></span> <span data-ttu-id="68194-115">Pääset parametriin valitsemalla **Tuotannonhallinta** \> **Asetukset** \> **Tuotantoparametrit**.</span><span class="sxs-lookup"><span data-stu-id="68194-115">You can find this parameter at **Production control** \> **Setup** \> **Production parameters**.</span></span>

- <span data-ttu-id="68194-116">**Vapauta tuoterakenne- ja reseptirivit osana tuotanto- tai erätilauksen vapautusta** – Tässä menetelmässä tuotanto- tai erätilauksen tuoterakenne- tai reseptirivit vapautetaan osan tilauksen vapautusprosessia.</span><span class="sxs-lookup"><span data-stu-id="68194-116">**Release BOM and formula lines as part of production or batch order release** – In this method, BOM and formula lines for a production or batch order are released as part of the process of releasing the order.</span></span> <span data-ttu-id="68194-117">Tuotantotyöt vapautetaan yleensä tuotanto- tai erätilauksen vapautuksen yhteydessä tuotantotyöntekijöille. Lisäksi tuotantoasiakirjat tulostetaan.</span><span class="sxs-lookup"><span data-stu-id="68194-117">Usually, during the release of a production or batch order, production jobs are released to the shop floor workers, and production papers are printed.</span></span> <span data-ttu-id="68194-118">Tilauksen tilaksi tulee tämän prosessin aikana **Vapautettu**.</span><span class="sxs-lookup"><span data-stu-id="68194-118">During this process, the status of the order is also changed to **Released**.</span></span>
- <span data-ttu-id="68194-119">**Vapauta tuoterakenne- ja reseptirivit erätyön avulla tai manuaalisesti** – Tässä tavassa tuoterakenne- ja reseptirivit vapautetaan vain **Tuoterakenteen ja reseptirivien automaattinen vapautus** -erätyön avulla tai manuaalisesti.</span><span class="sxs-lookup"><span data-stu-id="68194-119">**Release BOM and formula lines via a batch job or as a manual interaction** – In this method, BOM and formula lines can be released only through the **Automatic release of BOM and formula lines** batch job or as a manual interaction.</span></span> <span data-ttu-id="68194-120">Voit vapauttaa tuoterakenne- ja reseptirivejä manuaalisesti valitsemalla tuotantotilauksen luettelosivulla tai tuotantotilauksen tietosivulla toimintoruudussa **Vapauta varastoon**.</span><span class="sxs-lookup"><span data-stu-id="68194-120">To manually release BOM and formula lines, on the production order list page or the production order details page, on the Action Pane, select **Release to warehouse**.</span></span>

## <a name="releasing-the-bom-and-formula-lines-by-using-a-batch-job"></a><span data-ttu-id="68194-121">Tuoterakenne- ja reseptirivien vapauttaminen erätyön avulla</span><span class="sxs-lookup"><span data-stu-id="68194-121">Releasing the BOM and formula lines by using a batch job</span></span>

<span data-ttu-id="68194-122">**Tuoterakenne- ja reseptirivien automaattinen vapautus** -erätyö käsittelee valitut tuoterakenne- ja reseptirivit, joiden jäljellä olevan määrän voi vapauttaa.</span><span class="sxs-lookup"><span data-stu-id="68194-122">The **Automatic release of BOM and formula lines** batch job goes through selected BOM and formula lines that have a remaining quantity to release.</span></span> <span data-ttu-id="68194-123">Työ ottaa huomioon vain tilaukset, joiden tila on **Vapautettu**, **Aloitettu** tai **Ilmoitettu valmiiksi**.</span><span class="sxs-lookup"><span data-stu-id="68194-123">The job considers only orders that have a status of **Released**, **Started**, or **Reported as finished**.</span></span> <span data-ttu-id="68194-124">Jos tuoterakenne- tai reseptirivillä on jäljellä vapautettavaa, työ vapauttaa enintään määrän, jonka jo fyysisesti varattu määrä ja fyysisesti saatavana oleva määrä kattaa.</span><span class="sxs-lookup"><span data-stu-id="68194-124">If a BOM or formula line has a remaining quantity to release, the job releases up to the quantity that can be covered by the quantity that has already been physically reserved and the quantity that is physically available.</span></span>

### <a name="example-of-a-batch-job-release"></a><span data-ttu-id="68194-125">Erätyön vapautusesimerkki</span><span class="sxs-lookup"><span data-stu-id="68194-125">Example of a batch job release</span></span>

| <span data-ttu-id="68194-126">Skenaario</span><span class="sxs-lookup"><span data-stu-id="68194-126">Scenario</span></span> | <span data-ttu-id="68194-127">Jäljellä oleva vapautettava määrä</span><span class="sxs-lookup"><span data-stu-id="68194-127">Remaining quantity to release</span></span> | <span data-ttu-id="68194-128">Varattu fyysinen määrä</span><span class="sxs-lookup"><span data-stu-id="68194-128">Physically reserved quantity</span></span> | <span data-ttu-id="68194-129">Käytettävissä oleva fyysinen määrä</span><span class="sxs-lookup"><span data-stu-id="68194-129">Physically available quantity</span></span> | <span data-ttu-id="68194-130">Erätyön vapauttama määrä</span><span class="sxs-lookup"><span data-stu-id="68194-130">Quantity released by the batch job</span></span> |
|----------|-------------------------------|------------------------------|-------------------------------|------------------------------------|
| <span data-ttu-id="68194-131">1</span><span class="sxs-lookup"><span data-stu-id="68194-131">1</span></span>        | <span data-ttu-id="68194-132">100</span><span class="sxs-lookup"><span data-stu-id="68194-132">100</span></span>                           | <span data-ttu-id="68194-133">20</span><span class="sxs-lookup"><span data-stu-id="68194-133">20</span></span>                           | <span data-ttu-id="68194-134">90</span><span class="sxs-lookup"><span data-stu-id="68194-134">90</span></span>                            | <span data-ttu-id="68194-135">100</span><span class="sxs-lookup"><span data-stu-id="68194-135">100</span></span>                                |
| <span data-ttu-id="68194-136">2</span><span class="sxs-lookup"><span data-stu-id="68194-136">2</span></span>        | <span data-ttu-id="68194-137">100</span><span class="sxs-lookup"><span data-stu-id="68194-137">100</span></span>                           | <span data-ttu-id="68194-138">20</span><span class="sxs-lookup"><span data-stu-id="68194-138">20</span></span>                           | <span data-ttu-id="68194-139">70</span><span class="sxs-lookup"><span data-stu-id="68194-139">70</span></span>                            | <span data-ttu-id="68194-140">90</span><span class="sxs-lookup"><span data-stu-id="68194-140">90</span></span>                                 |
| <span data-ttu-id="68194-141">3</span><span class="sxs-lookup"><span data-stu-id="68194-141">3</span></span>        | <span data-ttu-id="68194-142">100</span><span class="sxs-lookup"><span data-stu-id="68194-142">100</span></span>                           | <span data-ttu-id="68194-143">0</span><span class="sxs-lookup"><span data-stu-id="68194-143">0</span></span>                            | <span data-ttu-id="68194-144">90</span><span class="sxs-lookup"><span data-stu-id="68194-144">90</span></span>                            | <span data-ttu-id="68194-145">90</span><span class="sxs-lookup"><span data-stu-id="68194-145">90</span></span>                                 |
| <span data-ttu-id="68194-146">4</span><span class="sxs-lookup"><span data-stu-id="68194-146">4</span></span>        | <span data-ttu-id="68194-147">100</span><span class="sxs-lookup"><span data-stu-id="68194-147">100</span></span>                           | <span data-ttu-id="68194-148">0</span><span class="sxs-lookup"><span data-stu-id="68194-148">0</span></span>                            | <span data-ttu-id="68194-149">110</span><span class="sxs-lookup"><span data-stu-id="68194-149">110</span></span>                           | <span data-ttu-id="68194-150">100</span><span class="sxs-lookup"><span data-stu-id="68194-150">100</span></span>                                |
| <span data-ttu-id="68194-151">5</span><span class="sxs-lookup"><span data-stu-id="68194-151">5</span></span>        | <span data-ttu-id="68194-152">100</span><span class="sxs-lookup"><span data-stu-id="68194-152">100</span></span>                           | <span data-ttu-id="68194-153">20</span><span class="sxs-lookup"><span data-stu-id="68194-153">20</span></span>                           | <span data-ttu-id="68194-154">0</span><span class="sxs-lookup"><span data-stu-id="68194-154">0</span></span>                             | <span data-ttu-id="68194-155">20</span><span class="sxs-lookup"><span data-stu-id="68194-155">20</span></span>                                 |

### <a name="batch-job-setup"></a><span data-ttu-id="68194-156">Erätyön asetukset</span><span class="sxs-lookup"><span data-stu-id="68194-156">Batch job setup</span></span>

<span data-ttu-id="68194-157">Voit määrittää **Tuoterakenteen ja reseptirivien automaattinen vapautus** -erätyön kyselyssä suodatusehdot määrittämään, kuinka monta päivää eteenpäin työn on haettava rivejä, joilla on vapauttamattomia määriä.</span><span class="sxs-lookup"><span data-stu-id="68194-157">In the query for the **Automatic release of BOM and formula lines** batch job, you can set up a filter criterion to specify how many days ahead the job should look for lines that have unreleased quantities.</span></span> <span data-ttu-id="68194-158">Käytä työn kyselyssä suodatusehtona **Raaka-aineen päivämäärä** -kentässä**(LessThanDate())**-funktiota.</span><span class="sxs-lookup"><span data-stu-id="68194-158">In the query for the job, in the **Raw material date** field, use the **(LessThanDate())** function as a filter criterion.</span></span>

<span data-ttu-id="68194-159">Seuraavan kuvan tuotantotilauksessa on kaksi työtä, 10 ja 20, jotka kattavat tuotantotilauksen kokoonpanon ja pakkauksen.</span><span class="sxs-lookup"><span data-stu-id="68194-159">The following illustration shows a production order that has two jobs, 10 and 20, that cover the assembly and packing for the production order.</span></span> <span data-ttu-id="68194-160">Kumpikin työ on määritetty kuluttamaan tietty määrä materiaalia.</span><span class="sxs-lookup"><span data-stu-id="68194-160">Each job is set up to consume a quantity of material.</span></span> <span data-ttu-id="68194-161">Tässä kuvassa vapautuksen aikarajan ilmaiseva aikajanan alla oleva vihreä nuoli on sama **(LessThanDate())**-ehdoissa määritetty päivien määrä.</span><span class="sxs-lookup"><span data-stu-id="68194-161">In this illustration, the release time fence that is indicated by the green arrow below the time line equals the number of days that has been specified in the **(LessThanDate())** criterion.</span></span> <span data-ttu-id="68194-162">Esimerkiksi **(LessThanDate(2))** ilmaisee, että työn on haettava vapauttamattomia määriä vain kahden päivän aikarajan ajalta.</span><span class="sxs-lookup"><span data-stu-id="68194-162">For example, **(LessThanDate(2))** indicates that the job should look for unreleased quantities only within a time fence of two days.</span></span>

![Esimerkki kaksi erätyötä sisältävästä tuotantotilauksesta](media/bach-job-setup.PNG)

## <a name="releasing-material-per-operation-number-or-in-proportion-to-the-amount-of-finished-goods"></a><span data-ttu-id="68194-164">Materiaalin vapauttaminen työvaiheen numeron mukaan tai suhteessa valmiiden tavaroiden määrään</span><span class="sxs-lookup"><span data-stu-id="68194-164">Releasing material per operation number or in proportion to the amount of finished goods</span></span>

<span data-ttu-id="68194-165">Jos vapautat materiaaleja **Tuotantotilauksen vapauttamisen yhteydessä** -parametriasetuksella manuaalisen vapautuksen yhteydessä, sinulla on kaksi vaihtoehtoa materiaalin vapautuksen hallintaan:</span><span class="sxs-lookup"><span data-stu-id="68194-165">If you release materials by using the **On production order release** parameter setting, when you do a manual release, you have two options for controlling the material release:</span></span>

- <span data-ttu-id="68194-166">Materiaalin vapauttaminen työvaiheen numeron mukaan.</span><span class="sxs-lookup"><span data-stu-id="68194-166">Release material per operation number.</span></span>
- <span data-ttu-id="68194-167">Materiaalin vapauttaminen suhteessa valmiiden tavaroiden määrään.</span><span class="sxs-lookup"><span data-stu-id="68194-167">Release material in proportion to the amount of finished goods.</span></span>

### <a name="release-material-per-operation-number"></a><span data-ttu-id="68194-168">Materiaalin vapauttaminen työvaiheen numeron mukaan</span><span class="sxs-lookup"><span data-stu-id="68194-168">Release material per operation number</span></span>

<span data-ttu-id="68194-169">Voit hallita työvaiheita, joihin materiaali on vapautettava, **Vapauta varastoon** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="68194-169">To control the operations that material should be released to, use the **Release to warehouse** page.</span></span>

- <span data-ttu-id="68194-170">Valitse ensin **Tuotannonhallinta** \> **Tuotantotilaukset** \> **Kaikki tuotantotilaukset**, sitten tuotantotilaus ja lopuksi **Varasto**-välilehdessä **Vapauta varastoon**.</span><span class="sxs-lookup"><span data-stu-id="68194-170">Select **Production control** \> **Production orders** \> **All production orders**, select a production order, and then, on the **Warehouse** tab, select **Release to warehouse**.</span></span> <span data-ttu-id="68194-171">Määritä sen jälkeen **Työvaihenumerosta**-</span><span class="sxs-lookup"><span data-stu-id="68194-171">Then use the **From Oper. No.**</span></span> <span data-ttu-id="68194-172">**Työvaihenumeroon**-kentissä työvaihenumeroalue.</span><span class="sxs-lookup"><span data-stu-id="68194-172">and **To Oper. No** fields to specify the range of operation numbers.</span></span>

<span data-ttu-id="68194-173">Seuraavan kuvan tuotantotilauksessa on kaksi työvaihetta, 10 ja 20.</span><span class="sxs-lookup"><span data-stu-id="68194-173">The following illustration shows a production order that has two operations, 10 and 20.</span></span> <span data-ttu-id="68194-174">Jos rajoitat tässä esimerkissä vapautuksen työvaiheeseen 10, vain materiaali M9203 vapautetaan.</span><span class="sxs-lookup"><span data-stu-id="68194-174">In this example, if you limit the release to operation 10, only material M9203 will be released.</span></span>

![Esimerkki materiaalin vapauttamisesta työnumeron mukaan](media/two-operations.PNG)

### <a name="release-material-in-proportion-to-the-amount-of-finished-goods"></a><span data-ttu-id="68194-176">Materiaalin vapauttaminen suhteessa valmiiden tavaroiden määrään</span><span class="sxs-lookup"><span data-stu-id="68194-176">Release material in proportion to the amount of finished goods</span></span>

<span data-ttu-id="68194-177">Voit vapauttaa raaka-aineen osittaista valmiiden tavaroiden määrää varten tai tiettynä yksikkönä.</span><span class="sxs-lookup"><span data-stu-id="68194-177">You can release raw material for a partial quantity of finished goods or in a specific unit.</span></span>

- <span data-ttu-id="68194-178">Voit vapauttaa raaka-aineen osittaista valmiiden tavaroiden määrää varten valitsemalla ensin **Tuotannonhallinta** \> **Tuotantotilaukset** \> **Kaikki tuotantotilaukset**, sitten tuotantotilaus ja lopuksi **Varasto**-välilehdessä **Vapauta varastoon**.</span><span class="sxs-lookup"><span data-stu-id="68194-178">To release raw material for a partial quantity of finished goods, select **Production control** \> **Production orders** \> **All production orders**, select a production order, and then, on the **Warehouse** tab, select **Release to warehouse**.</span></span> <span data-ttu-id="68194-179">Anna sitten määrä **Määrä**-kenttään.</span><span class="sxs-lookup"><span data-stu-id="68194-179">Then enter a quantity in the **Quantity** field.</span></span>

    <span data-ttu-id="68194-180">Esimerkki: 1 000 kappaleen (kpl) tuotantotilaus luodaan ja ajoitetaan.</span><span class="sxs-lookup"><span data-stu-id="68194-180">For example, a production order is created and scheduled for 1,000 pieces (pcs.).</span></span> <span data-ttu-id="68194-181">Tuotannon valvoja suunnittelee 100 kpl:n tuotannon.</span><span class="sxs-lookup"><span data-stu-id="68194-181">The shop floor supervisor is planning the production of 100 pcs.</span></span> <span data-ttu-id="68194-182">seuraavalle vuorolle ja haluaa vapauttaa materiaalit vain kyseiselle vuorolle.</span><span class="sxs-lookup"><span data-stu-id="68194-182">for the next shift and wants to release materials only for that shift.</span></span> <span data-ttu-id="68194-183">Tässä tapauksessa valvoja voi käyttää **Määrä**-kenttää vapauttamaan materiaalit niille 100 kappaleelle,</span><span class="sxs-lookup"><span data-stu-id="68194-183">In this case, the supervisor can use the **Quantity** field to release materials for the 100 pcs.</span></span> <span data-ttu-id="68194-184">jotka on suunniteltu seuraavaa vuoroa varten.</span><span class="sxs-lookup"><span data-stu-id="68194-184">that are planned for the next shift.</span></span>

- <span data-ttu-id="68194-185">Voit vapauttaa raaka-aineen tietyn yksikön valitsemalla ensin **Tuotannonhallinta** \> **Tuotantotilaukset** \> **Kaikki tuotantotilaukset**, sitten tuotantotilaus ja lopuksi **Varasto**-välilehdessä **Vapauta varastoon**.</span><span class="sxs-lookup"><span data-stu-id="68194-185">To release raw material in a specific unit, select **Production control** \> **Production orders** \> **All production orders**, select a production order, and then, on the **Warehouse** tab, select **Release to warehouse**.</span></span> <span data-ttu-id="68194-186">Valitse sitten **Yksikkö**-kentässä valmiin tavaran yksikkö, jolle materiaali vapautetaan.</span><span class="sxs-lookup"><span data-stu-id="68194-186">Then use the **Unit** field to select the unit of the finished good to release material in.</span></span>

    <span data-ttu-id="68194-187">Käytettävissä olevat yksiköt määritetään valmiin tuotteen yksikön sarjaryhmässä.</span><span class="sxs-lookup"><span data-stu-id="68194-187">The units that are available are defined in the unit sequence group ID of the finished good.</span></span>

    <span data-ttu-id="68194-188">Esimerkki: valmiin tavaran yksikön muunto kilogrammojen (kg) ja kuormalavojen (KL) välillä on 1 KL = 100 kg.</span><span class="sxs-lookup"><span data-stu-id="68194-188">For example, a finished good has the following unit conversion between pounds (lbs.) and pallet (PL): 1 PL = 100 lbs.</span></span> <span data-ttu-id="68194-189">Jos haluat luoda tuotantotilauksen 10 000 kg:lle</span><span class="sxs-lookup"><span data-stu-id="68194-189">To create a production order for 10,000 lbs.</span></span> <span data-ttu-id="68194-190">valmista tavaraa, voit vapauttaa raaka-aineet sille kuormalavamäärälle, jonka aiot tuottaa.</span><span class="sxs-lookup"><span data-stu-id="68194-190">of the finished good, you can release raw materials for the number of pallets that you plan to produce.</span></span> <span data-ttu-id="68194-191">Valitse ensin yksiköksi **KL** ja sitten vastaava luku **Määrä**-kentässä.</span><span class="sxs-lookup"><span data-stu-id="68194-191">Select **PL** as the unit, and then select a corresponding number in the **Quantity** field.</span></span>

