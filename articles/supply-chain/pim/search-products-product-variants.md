---
title: "Tuotteiden ja tuotevarianttien haku tilaustenkäsittelyn aikana"
description: "Käytä <strong>Nimiketunnus </strong>kenttää tuote- ja tuotevarianttihakuun luodessasi manuaalisesti ostotilausrivin tai myyntitilausrivin.  Näin löydät nopeasti tuotevariantit, kun käytettävissä on vain konfiguraation merkkijono tai jokin tuotedimensioista."
author: cvocph
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-applications
ms.technology: 
ms.search.form: MCRFullTextIndexField, MCRFullTextParameters, PurchTable, SalesTable
audience: Application User
ms.reviewer: YuyuScheller
ms.search.scope: Core, Operations, UnifiedOperations
ms.custom: 248534
ms.assetid: 99dd5ce1-0029-4f06-90e7-865e6d46d86e
ms.search.region: global
ms.search.industry: Manufacturing
ms.author: roxanad
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.translationtype: Human Translation
ms.sourcegitcommit: 6dd2aa1ebc713287120106a9d1ec7dc15c24def9
ms.openlocfilehash: dd1b1229385b3c900d1b111ec6d0225cd5286542
ms.contentlocale: fi-fi
ms.lasthandoff: 09/14/2017

---

# <a name="search-for-products-and-product-variants-during-order-entry"></a><span data-ttu-id="b60f7-104">Tuotteiden ja tuotevarianttien haku tilaustenkäsittelyn aikana</span><span class="sxs-lookup"><span data-stu-id="b60f7-104">Search for products and product variants during order entry</span></span>

[!include[banner](../includes/banner.md)]

[!include[Retail name](../includes/retail-name.md)]

<span data-ttu-id="b60f7-105">Käytä <strong>Nimiketunnus </strong>kenttää tuote- ja tuotevarianttihakuun luodessasi manuaalisesti ostotilausrivin tai myyntitilausrivin.</span><span class="sxs-lookup"><span data-stu-id="b60f7-105">Use the <strong>Item number </strong>field to search for products and product variants when you manually create a sales order line or a purchase order line.</span></span>  <span data-ttu-id="b60f7-106">Näin löydät nopeasti tuotevariantit, kun käytettävissä on vain konfiguraation merkkijono tai jokin tuotedimensioista.</span><span class="sxs-lookup"><span data-stu-id="b60f7-106">This lets you quickly find product variants when you only have the configuration string or one of the product dimensions available.</span></span>

<span data-ttu-id="b60f7-107">Joskus liian suuri määrä jotain tuotetta saattaa aiheuttaa päänvaivaa, varsinkin jos myyt suuren määrän samankaltaisia tuotteita ja yrität muistaa niiden nimiketunnukset tai tuotteen hakunimet, kun yrität löytää oikean tuotteen lisätäksesi sen myyntitilaukseen.</span><span class="sxs-lookup"><span data-stu-id="b60f7-107">Sometimes, having too much of something is not the best situation to be in, and this is especially true if you sell a number of products that are similar, and you are trying to remember item numbers or product search names in order to find the right product to put on a sales order.</span></span> <span data-ttu-id="b60f7-108">Voit käyttää **Nimiketunnus**-kenttää hakukenttänä ostotilausrivillä tai myyntitilausrivillä.</span><span class="sxs-lookup"><span data-stu-id="b60f7-108">You can use the **Item number** field on a sales order line or a purchase order line as a search field.</span></span> <span data-ttu-id="b60f7-109">Voit syöttää osan tuotenimeä, numeroa tai dimensiota, jolloin hakutoiminto tuo näyttöön kaikki nimikkeet, jotka vastaavat hakusanaa.</span><span class="sxs-lookup"><span data-stu-id="b60f7-109">You can enter any part of a product name, number, or dimension and get a lookup that displays all the items that match the search word.</span></span>

## <a name="how-search-works"></a><span data-ttu-id="b60f7-110">Haun toiminta</span><span class="sxs-lookup"><span data-stu-id="b60f7-110">How search works</span></span>
<span data-ttu-id="b60f7-111">Kun etsit tuotteita tai tuotevariantteja, on tärkeää tietää, miten hakutoiminto löytää tuotteet, jotka vastaavat kirjoittamaasi tekstiä.</span><span class="sxs-lookup"><span data-stu-id="b60f7-111">When you search for products or product variants, it is important to understand how the search feature finds the products that match the text that you enter.</span></span> <span data-ttu-id="b60f7-112">Keskeiset hakusäännöt ovat seuraavat:</span><span class="sxs-lookup"><span data-stu-id="b60f7-112">The key search rules in delivering search results are:</span></span>

-   <span data-ttu-id="b60f7-113">Hakutulokset palauttavat kaikki vastaavat tietueet riippumatta hakukentästä, johon hakuteksti kirjoitettiin.</span><span class="sxs-lookup"><span data-stu-id="b60f7-113">Search results will return any matching record, disregarding the field that the search text is entered in.</span></span>
-   <span data-ttu-id="b60f7-114">Koko hakuteksti täytyy olla sopivassa tietueessa.</span><span class="sxs-lookup"><span data-stu-id="b60f7-114">The search text needs to be present in the matching record in its full length.</span></span>
-   <span data-ttu-id="b60f7-115">Haku löytää hakuehtojen perusteella vastaavuudet, vaikka hakuteksti olisi merkkijonon keskellä tietueessa.</span><span class="sxs-lookup"><span data-stu-id="b60f7-115">A match will occur even if the search text is found in the middle of a text string in the matching record.</span></span> <span data-ttu-id="b60f7-116">Sen ei tarvitse olla merkkijonon alussa.</span><span class="sxs-lookup"><span data-stu-id="b60f7-116">It does not have to appear in the beginning of a text string.</span></span>
-   <span data-ttu-id="b60f7-117">Hakutekstiä käsitellään yhtenä merkkijonona, vaikka se sisältää välilyöntejä.</span><span class="sxs-lookup"><span data-stu-id="b60f7-117">The search text is treated as a single text string even if it contains white space.</span></span>

### <a name="examples"></a><span data-ttu-id="b60f7-118">Esimerkkejä</span><span class="sxs-lookup"><span data-stu-id="b60f7-118">Examples</span></span>

<span data-ttu-id="b60f7-119">Seuraavissa esimerkeissä käytetään tuotteita ja tuotevariantteja havainnollistamaan, kuinka haku toteutetaan eri skenaarioissa.</span><span class="sxs-lookup"><span data-stu-id="b60f7-119">The following examples use products and product variants to illustrate how search is handled in various scenarios.</span></span> <span data-ttu-id="b60f7-120">**Edellytys:** kohdassa **Myynti ja markkinointi &gt; Asetukset &gt; Haku &gt; Hakuparametrit** &gt; **Hakutyyppi** valitse **Täydellinen vastaavuus** -vaihtoehto.</span><span class="sxs-lookup"><span data-stu-id="b60f7-120">**Prerequisite:** Under **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters** &gt; **Search type**, select the **Full match** option.</span></span>

| <span data-ttu-id="b60f7-121">Tuotetyyppi</span><span class="sxs-lookup"><span data-stu-id="b60f7-121">Product type</span></span>     | <span data-ttu-id="b60f7-122">Tuotteen nimi</span><span class="sxs-lookup"><span data-stu-id="b60f7-122">Product name</span></span>    | <span data-ttu-id="b60f7-123">Näytä tuotenumero</span><span class="sxs-lookup"><span data-stu-id="b60f7-123">Display product number</span></span> | <span data-ttu-id="b60f7-124">Nimiketunnus</span><span class="sxs-lookup"><span data-stu-id="b60f7-124">Item number</span></span> | <span data-ttu-id="b60f7-125">Konfiguraatio</span><span class="sxs-lookup"><span data-stu-id="b60f7-125">Configuration</span></span> |
|------------------|-----------------|------------------------|-------------|---------------|
| <span data-ttu-id="b60f7-126">Erillinen tuote</span><span class="sxs-lookup"><span data-stu-id="b60f7-126">Distinct product</span></span> | <span data-ttu-id="b60f7-127">KaiutinMidRange</span><span class="sxs-lookup"><span data-stu-id="b60f7-127">SpeakerMidRange</span></span> | <span data-ttu-id="b60f7-128">D0001</span><span class="sxs-lookup"><span data-stu-id="b60f7-128">D0001</span></span>                  | <span data-ttu-id="b60f7-129">D0001</span><span class="sxs-lookup"><span data-stu-id="b60f7-129">D0001</span></span>       | <span data-ttu-id="b60f7-130">Ei saatavana</span><span class="sxs-lookup"><span data-stu-id="b60f7-130">NA</span></span>            |
| <span data-ttu-id="b60f7-131">Tuotevariantti</span><span class="sxs-lookup"><span data-stu-id="b60f7-131">Product variant</span></span>  | <span data-ttu-id="b60f7-132">Aktiivinen kaiutin</span><span class="sxs-lookup"><span data-stu-id="b60f7-132">Active speaker</span></span>  | <span data-ttu-id="b60f7-133">D0010:::Musta:</span><span class="sxs-lookup"><span data-stu-id="b60f7-133">D0010:::Black:</span></span>         | <span data-ttu-id="b60f7-134">D0010</span><span class="sxs-lookup"><span data-stu-id="b60f7-134">D0010</span></span>       | <span data-ttu-id="b60f7-135">000005</span><span class="sxs-lookup"><span data-stu-id="b60f7-135">000005</span></span>        |
| <span data-ttu-id="b60f7-136">Tuotevariantti</span><span class="sxs-lookup"><span data-stu-id="b60f7-136">Product variant</span></span>  | <span data-ttu-id="b60f7-137">Aktiivinen kaiutin</span><span class="sxs-lookup"><span data-stu-id="b60f7-137">Active speaker</span></span>  | <span data-ttu-id="b60f7-138">D0010:::Valkoinen:</span><span class="sxs-lookup"><span data-stu-id="b60f7-138">D0010:::White:</span></span>         | <span data-ttu-id="b60f7-139">D0010</span><span class="sxs-lookup"><span data-stu-id="b60f7-139">D0010</span></span>       | <span data-ttu-id="b60f7-140">Valkoinen</span><span class="sxs-lookup"><span data-stu-id="b60f7-140">White</span></span>         |

<span data-ttu-id="b60f7-141">Jos kirjoitat "kaiu" **Nimiketunnus**-kenttään, saat hakutuloksena kaikki edellä mainitut tuotteet.</span><span class="sxs-lookup"><span data-stu-id="b60f7-141">If you type 'speak' in the **Item number** field, you will get all the products above as a result in the lookup.</span></span> <span data-ttu-id="b60f7-142">Jos kirjoitat "musta" **Nimiketunnus**-kenttään, hakutulokseksi tulee toinen tuote, koska sillä on teksti "musta" Näytä tuotenumero -kohdassa.</span><span class="sxs-lookup"><span data-stu-id="b60f7-142">If you type 'black' in the **Item number** field, you will get the second product as a result, because it has the text 'black' in the display product number.</span></span> <span data-ttu-id="b60f7-143">Nämä kaksi esimerkkiä osoittavat, että haku ei koske vain kentän alkua, vaan vastine löytyy, vaikka hakuteksti löytyy merkkijonon keskeltä vastaavasta tietueesta.</span><span class="sxs-lookup"><span data-stu-id="b60f7-143">These two examples illustrate that the search is not only at the beginning of the field, a match will occur even if the search text is found in the middle of a text string in the matching record.</span></span>  

<span data-ttu-id="b60f7-144">Jos kirjoitat "05", hakutulokseksi saadaan vain toinen tuotevariantti koska sillä on "05" Konfiguraatio-kohdassa.</span><span class="sxs-lookup"><span data-stu-id="b60f7-144">If you type '05' you will only get the second product variant as a result, because it has '05' in the configuration.</span></span> <span data-ttu-id="b60f7-145">Se osoittaa, että haku koskee kaikkia valittuja kenttiä **Hakuehdot**-sivulla.</span><span class="sxs-lookup"><span data-stu-id="b60f7-145">This illustrates that the search is across all the enabled fields on the **Search criteria** page.</span></span>  

<span data-ttu-id="b60f7-146">Jos kirjoitat "kaiu 05", haku ei löydä yhtään tulosta.</span><span class="sxs-lookup"><span data-stu-id="b60f7-146">If you type 'speak 05' you will not get any results.</span></span> <span data-ttu-id="b60f7-147">Tämä johtuu siitä. että hakutoiminto etsii koko tekstiä.</span><span class="sxs-lookup"><span data-stu-id="b60f7-147">This is because the search looks for the full text that is entered.</span></span> <span data-ttu-id="b60f7-148">Hakutoiminto yrittää löytää "kaiu" -vastaavuudet ja rajoittaa tulokset niihin, jotka sisältävät merkkijonon "05".</span><span class="sxs-lookup"><span data-stu-id="b60f7-148">The search will not try to find 'speak' and then narrow the results to those containing '05'.</span></span>  

<span data-ttu-id="b60f7-149">Voit rajoittaa hakutulosten lukumäärää käyttämällä **Tulosten määrä**-kenttää **Myynti ja markkinointi &gt; Asetukset &gt; Haku &gt; Hakuparametrit** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="b60f7-149">You can limit the number of search results by using the **Number of results** field on the **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters** page.</span></span> <span data-ttu-id="b60f7-150">Jos tämän kentän arvoksi määritetään 0, kaikki hakutulokset palautetaan.</span><span class="sxs-lookup"><span data-stu-id="b60f7-150">If you set this field to 0, all search results will be returned.</span></span> <span data-ttu-id="b60f7-151">Jos esimerkiksi määrität arvoksi 10, toiminto palauttaa enintään 10 hakutulosta.</span><span class="sxs-lookup"><span data-stu-id="b60f7-151">If you set it to 10, for example, it will return a maximum 10 search results.</span></span>

## <a name="configure-the-product-search"></a><span data-ttu-id="b60f7-152">Tuotehaun määrittäminen</span><span class="sxs-lookup"><span data-stu-id="b60f7-152">Configure the product search</span></span>
<span data-ttu-id="b60f7-153">Ennen kuin voit käyttää tuote- ja tuotevarianttihakua, määritä tuotehakutoiminto seuraavasti.</span><span class="sxs-lookup"><span data-stu-id="b60f7-153">Before you can use the product and product variant search feature, follow these steps to configure the product search.</span></span> <span data-ttu-id="b60f7-154">[![tuotehaun määrittämisen 3 vaihetta\_AXAppFall](./media/3-steps-to-configure-product-search_axappfall.png)](./media/3-steps-to-configure-product-search_axappfall.png)</span><span class="sxs-lookup"><span data-stu-id="b60f7-154">[![3 steps to configure product search\_AXAppFall](./media/3-steps-to-configure-product-search_axappfall.png)](./media/3-steps-to-configure-product-search_axappfall.png)</span></span>

### <a name="step-1-include-all-the-relevant-product-and-product-variant-identifiers-and-dimensions-in-the-search-criteria"></a><span data-ttu-id="b60f7-155">Vaihe 1: Sisällytä kaikki tarvittavat tuotteen ja tuotevariantin tunnukset ja dimensiot hakuehtoihin</span><span class="sxs-lookup"><span data-stu-id="b60f7-155">Step 1: Include all the relevant product and product variant identifiers and dimensions in the search criteria</span></span>

<span data-ttu-id="b60f7-156">Esimerkkejä tuotteen ja tuotevariantin tunnuksista ja dimensioista, joiden perusteella tuotetta voidaan hakea, ovat: **tuotenimi, nimiketunnus**, **Näytä tuotenumero, väri, koko, malli, hakunimi jne.**.</span><span class="sxs-lookup"><span data-stu-id="b60f7-156">Examples of product and product variant identifiers and dimensions that you can search by are **Product name, Item number**, **Display product number, Configuration, Color, Size, Style, Search name, etc**.</span></span>  

<span data-ttu-id="b60f7-157">Siirry **Myynti ja markkinointi &gt; Asetukset &gt; Haku &gt; Hakuehdot** -sivulle.</span><span class="sxs-lookup"><span data-stu-id="b60f7-157">Go to **Sales and marketing &gt; Setup &gt; Search &gt; Search criteria** page.</span></span> <span data-ttu-id="b60f7-158">**Hakuehdot**-sivulla voit määrittää asiakkaan, prospektin ja tuotehaun ehdot.</span><span class="sxs-lookup"><span data-stu-id="b60f7-158">The **Search criteria** page allows you to define criteria for customer, prospect, and product search.</span></span> <span data-ttu-id="b60f7-159">Varmista, että käytät tuotehakuehtoja sivun suodatuksessa.</span><span class="sxs-lookup"><span data-stu-id="b60f7-159">Make sure you filter the page by using product search criteria.</span></span> <span data-ttu-id="b60f7-160">Voit tehdä tämän siirtymällä kohtaan **Tuote** sivun valikossa.</span><span class="sxs-lookup"><span data-stu-id="b60f7-160">You can do this by switching to **Product** in the page's menu.</span></span>  

<span data-ttu-id="b60f7-161">Voit lisätä näytön tuotenumeron hakuehtoihin napsauttamalla **Uusi** sivun valikosta.</span><span class="sxs-lookup"><span data-stu-id="b60f7-161">To add the display product number to the search criteria, click **New** in the page's menu.</span></span> <span data-ttu-id="b60f7-162">Tämä lisää uuden tietueen **Hakuehdot**-ruudukkoon.</span><span class="sxs-lookup"><span data-stu-id="b60f7-162">This will add a new record in the **Search criteria** grid.</span></span> <span data-ttu-id="b60f7-163">Avaa **Kentän nimi** -sarakkeen haku ja valitse **DisplayProductNumber**.</span><span class="sxs-lookup"><span data-stu-id="b60f7-163">Open the **Field name** column lookup and chose **DisplayProductNumber**.</span></span> <span data-ttu-id="b60f7-164">Lisää tuotteen konfiguraatio hakuehtoihin luomalla uusi tietue **Hakuehdot** -ruudukossa ja valitse **configId** **Kentän nimi** -sarakkeessa.</span><span class="sxs-lookup"><span data-stu-id="b60f7-164">To add the product's configuration to the search criteria, create a new record in the **Search criteria **grid and chose **configId** in the **Field name** column.</span></span> <span data-ttu-id="b60f7-165">Luo samalla tavalla tietue **Kentän nimi** **InventColorId** väri-dimensiolle, **InventSizeId** koko-dimensiolle ja **InventStyleId** malli-dimensiolle.</span><span class="sxs-lookup"><span data-stu-id="b60f7-165">In the same manner, create a record with **Field name** **InventColorId** for the color dimension, **InventSizeId** for the size dimension, and **InventStyleId** for the style dimension.</span></span>

### <a name="step-2-populate-the-database-table-that-is-used-for-product-search"></a><span data-ttu-id="b60f7-166">Vaihe 2: Täytä tietokantataulu, jota käytetään tuotehaussa</span><span class="sxs-lookup"><span data-stu-id="b60f7-166">Step 2: Populate the database table that is used for product search</span></span>

<span data-ttu-id="b60f7-167">Valitse **Hakuehdot** -sivulla **Päivitä hakutiedot** -painike.</span><span class="sxs-lookup"><span data-stu-id="b60f7-167">In the **Search criteria** page, click the **Update search data** button.</span></span> <span data-ttu-id="b60f7-168">Varmista **Päivitä hakutiedot** -valintaikkunassa, että **Lähde** arvoksi on määritettu **Tuote** ja valitse sitten **OK**.</span><span class="sxs-lookup"><span data-stu-id="b60f7-168">In the **Update search data** dialog box, make sure that **Source** is set to **Product**, and then click **OK**.</span></span> <span data-ttu-id="b60f7-169">Järjestelmä kerää kaikki hakuehdot yhteen taulukkoon vaiheessa 1 määritettyjen hakuehtojen mukaisesti.</span><span class="sxs-lookup"><span data-stu-id="b60f7-169">The system will aggregate in one table all the selected search criteria specified in step 1.</span></span> <span data-ttu-id="b60f7-170">Jos sinulla on suuri määrä tuotteita ja tuotevariantteja, tämä toiminto voi kestää melko pitkään ja näyttöön voi tulla varoitus.</span><span class="sxs-lookup"><span data-stu-id="b60f7-170">If you have a lot of products and product variants, this operation can be quite lengthy and you may receive a warning.</span></span> <span data-ttu-id="b60f7-171">On suositeltavaa, että ajoitat hakutaulun täytön eräpalvelimessa aikaan, jolloin palvelin ei ole varattu.</span><span class="sxs-lookup"><span data-stu-id="b60f7-171">We recommend that you schedule the search table population on the batch server at a time when the server is not too busy.</span></span>  

<span data-ttu-id="b60f7-172">Tuotehaku ei tuota oikeita tuloksia ennen kuin taulukko täytetään.</span><span class="sxs-lookup"><span data-stu-id="b60f7-172">Until the table is populated, product search will not provide the correct results.</span></span> <span data-ttu-id="b60f7-173">Jos haku ei tuota tuloksia, varmista, että taulukko on täytetty.</span><span class="sxs-lookup"><span data-stu-id="b60f7-173">If you do not get any search results, make sure that this table is populated.</span></span>  

<span data-ttu-id="b60f7-174">Taulukossa on täytettävä vain kun hakuehdot muutetaan.</span><span class="sxs-lookup"><span data-stu-id="b60f7-174">The table only has to be populated when the search criteria is modified.</span></span> <span data-ttu-id="b60f7-175">Äskettäin julkaistut tuotteet ja tuotevariantit lisätään automaattisesti taulukkoon.</span><span class="sxs-lookup"><span data-stu-id="b60f7-175">Newly released products and variants are automatically added to the table.</span></span> <span data-ttu-id="b60f7-176">Poistetut tuotteet ja tuotevariantit poistetaan automaattisesti taulukosta.</span><span class="sxs-lookup"><span data-stu-id="b60f7-176">Deleted products and variants are automatically removed from the table.</span></span>

### <a name="step-3-enable-the-lookup-for-product-search-on-sales-and-purchase-order-lines"></a><span data-ttu-id="b60f7-177">Vaihe 3: Ota tuotehaku käyttöön myynti- ja ostotilausriveillä</span><span class="sxs-lookup"><span data-stu-id="b60f7-177">Step 3: Enable the lookup for product search on sales and purchase order lines</span></span>

<span data-ttu-id="b60f7-178">Voit ottaa tämän toiminnon käyttöön siirtymällä kohtaan **Myynti ja markkinointi &gt; Asetukset &gt; Haku &gt; Hakuparametrit** ja määrittämällä **Ota tuotteiden haku käyttöön** arvoksi **Kyllä** **Yleistä**-välilehdessä.</span><span class="sxs-lookup"><span data-stu-id="b60f7-178">You can enable this functionality by going to **Sales and marketing &gt; Setup &gt; Search &gt; Search parameters** and setting **Enable lookup for search** to **Yes** on the **General** tab.</span></span>  

<span data-ttu-id="b60f7-179">Myyntitilausrivin syötön oletusasetuksena on avata **Tuotehaku** -sivu, kun alat kirjoittaa **Nimiketunnus** kenttään ja painat **Välilehti**-näppäintä.</span><span class="sxs-lookup"><span data-stu-id="b60f7-179">For sales order line entry, the default behavior is to open the **Product search** page when you start typing in the **Item number** field, and then press the **Tab** key.</span></span> <span data-ttu-id="b60f7-180">**Tuotehaku**-sivu vaihtaa kontekstia tilausrivin luonnin yhteydessä ja voi vaikuttaa tarpeettoman rajoittavalta.</span><span class="sxs-lookup"><span data-stu-id="b60f7-180">The **Product search** page changes the context during order line creation and may be considered unnecessarily intrusive.</span></span> <span data-ttu-id="b60f7-181">Jos haluat saada hakutulokset hakukentän avulla etkä halua vaihtaa kontekstia tilausrivin luonnin yhteydessä, voit käyttää sen sijaan varsinaista hakutoimintoa.</span><span class="sxs-lookup"><span data-stu-id="b60f7-181">If you prefer to get the search results in a lookup and not lose context during order line entry, you can use the search lookup instead.</span></span> <span data-ttu-id="b60f7-182">Jos haet tuotetta tai tuotevarianttia valitsematta mitään hakukentässä ja painat **Välilehti**-näppäintä, **Tuotehaku**-sivu tulee näyttöön.</span><span class="sxs-lookup"><span data-stu-id="b60f7-182">If you search for a product or product variant, but you don't select anything in the lookup and press the **Tab** key, the **Product search** page will display.</span></span>




