---
title: Asiakasportaalin käyttäjien luominen ja hallinta
description: Tässä ohjeaiheessa selitetään, miten voit luoda asiakasportaalin käyttäjätilejä ja määrittää niiden käyttöoikeuksia.
author: dasani-madipalli
manager: tfehr
ms.date: 04/22/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: damadipa
ms.search.validFrom: 2020-04-22
ms.dyn365.ops.version: Release 10.0.13
ms.openlocfilehash: c56e41b8ea5039531205083b5b42aff05e05cf66
ms.sourcegitcommit: 713b5dfc76a6875d0ba6d86c5cbd585ea502cf9d
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 06/01/2020
ms.locfileid: "3413959"
---
# <a name="create-and-manage-customer-portal-users"></a><span data-ttu-id="73065-103">Asiakasportaalin käyttäjien luominen ja hallinta</span><span class="sxs-lookup"><span data-stu-id="73065-103">Create and manage Customer portal users</span></span>

<span data-ttu-id="73065-104">Käyttöönottototeutuksessa käyttäjät eivät voi rekisteröityä itse verkkosivustoihin, jotka luodaan asiakasportaalin avulla.</span><span class="sxs-lookup"><span data-stu-id="73065-104">In the out-of-box implementation, there is no way for users to self-register for websites that are created by using the Customer portal.</span></span> <span data-ttu-id="73065-105">Kirjautuminen ja sivuston käyttäminen edellyttää, että järjestelmänvalvoja kutsuu käyttäjät. Microsoft on tarkoituksellisesti torjunut käyttäjien mahdollisuuden rekisteröityä itse.</span><span class="sxs-lookup"><span data-stu-id="73065-105">To sign in and use a website, users must be invited by the admin. Microsoft has intentionally blocked the ability of users to self-register.</span></span>

<span data-ttu-id="73065-106">Ennen kuin käyttäjä voi käyttää verkkosivustoa, kyseiselle käyttäjälle on luotava yhteyshenkilötietue.</span><span class="sxs-lookup"><span data-stu-id="73065-106">Before a user can use a website, a contact record must be created for that user.</span></span> <span data-ttu-id="73065-107">Tämä tietue ilmaisee, mihin asiakastiliin ja yritykseen käyttäjä kuuluu.</span><span class="sxs-lookup"><span data-stu-id="73065-107">This record indicates which customer account and legal entity the user belongs to.</span></span> <span data-ttu-id="73065-108">Nämä tiedot ovat välttämättömiä, jotta voidaan varmistaa, että käyttäjä voi luoda ja tarkastella myyntitilauksia.</span><span class="sxs-lookup"><span data-stu-id="73065-108">This information is essential for ensuring that the user can create and view sales orders.</span></span>

<span data-ttu-id="73065-109">Kun käyttäjät rekisteröivät itsensä, niiden yhteystiedot luodaan automaattisesti.</span><span class="sxs-lookup"><span data-stu-id="73065-109">When users self-register, contact records are automatically created for them.</span></span> <span data-ttu-id="73065-110">Tämän vuoksi et voi varmistaa, että käyttäjä valitsee oikean asiakastilin ja yrityksen.</span><span class="sxs-lookup"><span data-stu-id="73065-110">Therefore, you can't ensure that a user selects the correct customer account and legal entity.</span></span> <span data-ttu-id="73065-111">Toisaalta kutsuprosessin avulla järjestelmänvalvoja voi määrittää yhteyshenkilölle oikean asiakastilin ja yrityksen, ennen kuin kutsu lähetetään.</span><span class="sxs-lookup"><span data-stu-id="73065-111">On the other hand, the invitation process lets an admin assign the correct customer account and legal entity to the contact record before an invitation is sent.</span></span> <span data-ttu-id="73065-112">Jos olet aikeissa mukauttaa ratkaisua niin, että käyttäjät voivat itse rekisteröityä, muista huomioida mahdolliset seuraukset.</span><span class="sxs-lookup"><span data-stu-id="73065-112">If you're thinking about customizing the solution so that users can self-register, be sure to consider the possible consequences.</span></span>

## <a name="prerequisite-setup"></a><span data-ttu-id="73065-113">Vaadittavat asetukset</span><span class="sxs-lookup"><span data-stu-id="73065-113">Prerequisite setup</span></span>

<span data-ttu-id="73065-114">Power Apps -portaalien yhteyshenkilöt tallennetaan **yhteyshenkilöt** -yksikön tietueiksi Common Data Serviceen.</span><span class="sxs-lookup"><span data-stu-id="73065-114">Contacts in Power Apps portals are stored as records in the **Contacts** entity in Common Data Service.</span></span> <span data-ttu-id="73065-115">Kaksoiskirjoitus synkronoi sitten nämä tiedot Microsoft Dynamics 365 Supply Chain Managementille tarpeen mukaan.</span><span class="sxs-lookup"><span data-stu-id="73065-115">Dual-write then syncs these records to Microsoft Dynamics 365 Supply Chain Management as required.</span></span>

![![Asiakasportaalin yhteyshenkilöiden järjestelmäkaavio](media/customer-portal-contacts.png "Asiakasportaalin yhteyshenkilöiden järjestelmäkaavio")](media/customer-portal-contacts.png "System diagram for Customer portal contacts")

<span data-ttu-id="73065-117">Ennen kuin aloitat uusien asiakkaiden kutsumisesta, varmista, että **Yhteyshenkilö**-yksikön yhdistämismääritys on otettu käyttöön kaksoiskirjoituksessa.</span><span class="sxs-lookup"><span data-stu-id="73065-117">Before you start to invite new customers, make sure that you've enabled the **Contact** entity mapping in dual-write.</span></span>

## <a name="the-invitation-process"></a><span data-ttu-id="73065-118">Kutsuprosessi</span><span class="sxs-lookup"><span data-stu-id="73065-118">The invitation process</span></span>

<span data-ttu-id="73065-119">Jos haluat kutsua aiemmin luodun yhteyshenkilön asiakasportaaliin, noudata ohjeita kohdassa [yhteystietojen kutsuminen portaaleihin](https://docs.microsoft.com/powerapps/maker/portals/configure/invite-contacts) Power Apps -portaalien dokumentaatiossa.</span><span class="sxs-lookup"><span data-stu-id="73065-119">To invite an existing contact to the Customer portal, follow the steps in [Invite contacts to your portals](https://docs.microsoft.com/powerapps/maker/portals/configure/invite-contacts) in the Power Apps portals documentation.</span></span>

<span data-ttu-id="73065-120">Ennen kuin kutsut asiakkaan liittymään asiakasportaaliin, varmista, että asiakkaan [yhteyshenkilötietue](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-contacts) on käytettävissä ja määritetty seuraavalla tavalla:</span><span class="sxs-lookup"><span data-stu-id="73065-120">Before you invite a customer to join the Customer portal, make sure that the customer's [contact record](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-contacts) is available and set up in the following way:</span></span>

1. <span data-ttu-id="73065-121">Aseta **Yritys**-kenttä yritykselle, johon haluat asiakkaan kuuluvan Supply Chain Managementissa.</span><span class="sxs-lookup"><span data-stu-id="73065-121">Set the **Company** field to the legal entity that you want the customer to belong to in Supply Chain Management.</span></span>
2. <span data-ttu-id="73065-122">Aseta **Tilinumero**-kenttä siihen asiakastilinumeroon, jonka haluat asiakkaalla olevan Supply Chain Managementissa.</span><span class="sxs-lookup"><span data-stu-id="73065-122">Set the **Account Number** field to the customer account number that you want the user to have in Supply Chain Management.</span></span>

<span data-ttu-id="73065-123">Kun yhteyshenkilö on perustettu, sen voi nähdä Supply Chain Managementissa.</span><span class="sxs-lookup"><span data-stu-id="73065-123">After a contact is created, you should be able to see it in Supply Chain Management.</span></span>

<span data-ttu-id="73065-124">Lisätietoja on ohjeaiheessa [yhteystiedon määrittäminen käytettäväksi](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-contacts) Power Apps -portaalien dokumentaatiossa.</span><span class="sxs-lookup"><span data-stu-id="73065-124">For more information, see [Configure a contact for use on a portal](https://docs.microsoft.com/powerapps/maker/portals/configure/configure-contacts) in the Power Apps portals documentation.</span></span>

## <a name="out-of-box-web-roles-and-entity-permissions"></a><span data-ttu-id="73065-125">Valmiit verkkoroolit ja yksikön käyttöoikeudet</span><span class="sxs-lookup"><span data-stu-id="73065-125">Out-of-box web roles and entity permissions</span></span>

<span data-ttu-id="73065-126">Power Apps -portaalien käyttäjäroolit määritetään [verkkoroolien](https://docs.microsoft.com/powerapps/maker/portals/configure/create-web-roles) ja [kohteen käyttöoikeuksien](https://docs.microsoft.com/powerapps/maker/portals/configure/assign-entity-permissions) mukaan.</span><span class="sxs-lookup"><span data-stu-id="73065-126">User roles in Power Apps portals are defined by [web roles](https://docs.microsoft.com/powerapps/maker/portals/configure/create-web-roles) and [entity permissions](https://docs.microsoft.com/powerapps/maker/portals/configure/assign-entity-permissions).</span></span> <span data-ttu-id="73065-127">Asiakasportaalille määritetään joitakin valmiita rooleja.</span><span class="sxs-lookup"><span data-stu-id="73065-127">A few roles are defined for the Customer portal out of the box.</span></span> <span data-ttu-id="73065-128">Voit luoda uusia rooleja ja muokata tai poistaa aiemmin luotuja rooleja.</span><span class="sxs-lookup"><span data-stu-id="73065-128">You can create new roles, and you can modify or remove existing roles.</span></span>

### <a name="out-of-box-web-roles"></a><span data-ttu-id="73065-129">Valmiit verkkoroolit</span><span class="sxs-lookup"><span data-stu-id="73065-129">Out-of-box web roles</span></span>

<span data-ttu-id="73065-130">Tässä osassa kuvataan asiakasportaalin mukana toimitetut verkkoroolit.</span><span class="sxs-lookup"><span data-stu-id="73065-130">This section describes the web roles that are delivered with the Customer portal.</span></span>

<span data-ttu-id="73065-131">Lisätietoja muiden käyttäjien roolien muokkaamisesta on ohjeaiheissa [Verkkoroolien luominen portaaleihin](https://docs.microsoft.com/powerapps/maker/portals/configure/create-web-roles) ja [tietuepohjaisen suojauksen lisääminen portaalien yksikkötietojen avulla](https://docs.microsoft.com/powerapps/maker/portals/configure/assign-entity-permissions) Power Apps -portaalien dokumentaatiossa.</span><span class="sxs-lookup"><span data-stu-id="73065-131">For more information about how to modify the out-of-box user roles, see [Create web roles for portals](https://docs.microsoft.com/powerapps/maker/portals/configure/create-web-roles) and [Add record-based security by using entity permissions for portals](https://docs.microsoft.com/powerapps/maker/portals/configure/assign-entity-permissions) in the Power Apps portals documentation.</span></span>

#### <a name="administrator"></a><span data-ttu-id="73065-132">Järjestelmänvalvoja</span><span class="sxs-lookup"><span data-stu-id="73065-132">Administrator</span></span>

<span data-ttu-id="73065-133">Ylläpitäjä valvoo ja ylläpitää verkkosivustoa.</span><span class="sxs-lookup"><span data-stu-id="73065-133">The administrator oversees and maintains the website.</span></span> <span data-ttu-id="73065-134">Tämä henkilö laatii ja määrittää asiakasportaalin.</span><span class="sxs-lookup"><span data-stu-id="73065-134">This person will provision and set up the Customer portal.</span></span> <span data-ttu-id="73065-135">Järjestelmänvalvoja ylläpitää portaalin tietoturva- ja suojausnäkökohtia ja varmistaa, että kaikki sujuu ongelmitta.</span><span class="sxs-lookup"><span data-stu-id="73065-135">The administrator maintains the IT and security aspects of the portal, and makes sure that everything runs smoothly.</span></span> <span data-ttu-id="73065-136">Järjestelmänvalvoja voi myös mukauttaa ja/tai muuttaa portaalia lisäämällä uusia toimintoja, luomalla uusia rooleja ja paljon muuta.</span><span class="sxs-lookup"><span data-stu-id="73065-136">The administrator might also customize and/or change the portal by adding new functionalities, creating new roles, and more.</span></span>

#### <a name="customer-representative"></a><span data-ttu-id="73065-137">Asiakkaan edustaja</span><span class="sxs-lookup"><span data-stu-id="73065-137">Customer representative</span></span>

<span data-ttu-id="73065-138">Asiakkaan edustaja työskentelee asiakasyrityksessä ja vastaa yrityksen käyttämien tilausten hallinnasta.</span><span class="sxs-lookup"><span data-stu-id="73065-138">A customer representative works for a customer company and is responsible for managing the orders that the company places.</span></span> <span data-ttu-id="73065-139">Asiakkaan edustaja näkee kaikki tilaukset, jotka yritykselle ja niille asettaneelle käyttäjälle on asetettu.</span><span class="sxs-lookup"><span data-stu-id="73065-139">The customer representative can see all the orders that have been placed for the company and the users who placed them.</span></span> <span data-ttu-id="73065-140">Lisäksi asiakkaan edustaja voi nähdä tietoja yleistilistä ja siitä, mitkä yhteyshenkilöt voivat tehdä tilauksia kyseisen tilin puolesta.</span><span class="sxs-lookup"><span data-stu-id="73065-140">Additionally, the customer representative can see information about the overall account and which contacts can place orders on behalf of that account.</span></span>

#### <a name="authorized-users"></a><span data-ttu-id="73065-141">Valtuutetut käyttäjät</span><span class="sxs-lookup"><span data-stu-id="73065-141">Authorized users</span></span>

<span data-ttu-id="73065-142">Valtuutetut käyttäjät voivat tehdä tilauksia ja tarkastella asettamiaan tilauksia.</span><span class="sxs-lookup"><span data-stu-id="73065-142">Authorized users can place orders and view the status of the orders that they have placed.</span></span> <span data-ttu-id="73065-143">He eivät kuitenkaan voi tarkastella niiden tilausten tilaa, jotka muut yrityksen käyttäjät ovat asettaneet.</span><span class="sxs-lookup"><span data-stu-id="73065-143">However, they can't view the status of orders that other users in their company have placed.</span></span>

#### <a name="unauthorized-users"></a><span data-ttu-id="73065-144">Luvattomat käyttäjät</span><span class="sxs-lookup"><span data-stu-id="73065-144">Unauthorized users</span></span>

<span data-ttu-id="73065-145">Luvattomat käyttäjät eivät voi tarkastella tietoja.</span><span class="sxs-lookup"><span data-stu-id="73065-145">Unauthorized users can't view any data.</span></span> <span data-ttu-id="73065-146">He näkevät vain julkisia tietoja, kuten ehtoja ja tietoja asiakasportaalia suorittavasta yrityksestä.</span><span class="sxs-lookup"><span data-stu-id="73065-146">They can see only public information, such as terms and conditions, and details about the company that is running the Customer portal.</span></span>

#### <a name="example"></a><span data-ttu-id="73065-147">Esimerkki</span><span class="sxs-lookup"><span data-stu-id="73065-147">Example</span></span>

<span data-ttu-id="73065-148">Seuraavasta taulukosta ilmenee, mitkä myyntitilaukset kunkin verkkoroolin käyttäjät voivat nähdä järjestelmässä.</span><span class="sxs-lookup"><span data-stu-id="73065-148">The following table shows which sales orders the users in each web role can see in the system.</span></span>

| <span data-ttu-id="73065-149">Myyntitilaus</span><span class="sxs-lookup"><span data-stu-id="73065-149">Sales order</span></span> | <span data-ttu-id="73065-150">Järjestelmänvalvoja</span><span class="sxs-lookup"><span data-stu-id="73065-150">Administrator</span></span> | <span data-ttu-id="73065-151">Asiakkaan&nbsp;X asiakasedustaja</span><span class="sxs-lookup"><span data-stu-id="73065-151">Customer representative for customer&nbsp;X</span></span> | <span data-ttu-id="73065-152">Valtuutettu käyttäjä: Jane</span><span class="sxs-lookup"><span data-stu-id="73065-152">Authorized user: Jane</span></span> | <span data-ttu-id="73065-153">Valtuutettu käyttäjä: Sam</span><span class="sxs-lookup"><span data-stu-id="73065-153">Authorized user: Sam</span></span> | <span data-ttu-id="73065-154">Luvattomat käyttäjät: May</span><span class="sxs-lookup"><span data-stu-id="73065-154">Unauthorized user: May</span></span> |
|---|---|---|---|---|---|
| <span data-ttu-id="73065-155">Asiakas&nbsp;X Tilaaja:&nbsp;Jane</span><span class="sxs-lookup"><span data-stu-id="73065-155">Customer&nbsp;X Orderer:&nbsp;Jane</span></span> | <span data-ttu-id="73065-156">Kyllä</span><span class="sxs-lookup"><span data-stu-id="73065-156">Yes</span></span> | <span data-ttu-id="73065-157">Kyllä</span><span class="sxs-lookup"><span data-stu-id="73065-157">Yes</span></span> | <span data-ttu-id="73065-158">Kyllä</span><span class="sxs-lookup"><span data-stu-id="73065-158">Yes</span></span> | <span data-ttu-id="73065-159">Nro</span><span class="sxs-lookup"><span data-stu-id="73065-159">No</span></span> | <span data-ttu-id="73065-160">Nro</span><span class="sxs-lookup"><span data-stu-id="73065-160">No</span></span> |
| <span data-ttu-id="73065-161">Asiakas&nbsp;X Tilaaja:&nbsp;Sam</span><span class="sxs-lookup"><span data-stu-id="73065-161">Customer&nbsp;X Orderer:&nbsp;Sam</span></span> | <span data-ttu-id="73065-162">Kyllä</span><span class="sxs-lookup"><span data-stu-id="73065-162">Yes</span></span> | <span data-ttu-id="73065-163">Kyllä</span><span class="sxs-lookup"><span data-stu-id="73065-163">Yes</span></span> | <span data-ttu-id="73065-164">Nro</span><span class="sxs-lookup"><span data-stu-id="73065-164">No</span></span> | <span data-ttu-id="73065-165">Kyllä</span><span class="sxs-lookup"><span data-stu-id="73065-165">Yes</span></span> | <span data-ttu-id="73065-166">Nro</span><span class="sxs-lookup"><span data-stu-id="73065-166">No</span></span> |
| <span data-ttu-id="73065-167">Asiakas&nbsp;Y Tilaaja:&nbsp;May</span><span class="sxs-lookup"><span data-stu-id="73065-167">Customer&nbsp;Y Orderer:&nbsp;May</span></span> | <span data-ttu-id="73065-168">Kyllä</span><span class="sxs-lookup"><span data-stu-id="73065-168">Yes</span></span> | <span data-ttu-id="73065-169">Nro</span><span class="sxs-lookup"><span data-stu-id="73065-169">No</span></span> | <span data-ttu-id="73065-170">Nro</span><span class="sxs-lookup"><span data-stu-id="73065-170">No</span></span> | <span data-ttu-id="73065-171">Nro</span><span class="sxs-lookup"><span data-stu-id="73065-171">No</span></span> | <span data-ttu-id="73065-172">Nro</span><span class="sxs-lookup"><span data-stu-id="73065-172">No</span></span> |

> [!NOTE]
> <span data-ttu-id="73065-173">Vaikka sekä Sam että Jane ovat yhteyshenkilöitä, jotka työskentelevät asiakas X:ssä, he näkevät vain itse asettamiaan tilauksia eikä mitään muuta.</span><span class="sxs-lookup"><span data-stu-id="73065-173">Even though both Sam and Jane are contacts who work for customer X, they can see only the orders that they themselves have placed and nothing else.</span></span> <span data-ttu-id="73065-174">Vaikka Maylla on järjestelmässä tilaus, hän ei näe tilausta asiakasportaalissa, koska hän on luvaton käyttäjä.</span><span class="sxs-lookup"><span data-stu-id="73065-174">Although May has an order in the system, she can't see that order in the Customer portal, because she is an unauthorized user.</span></span> <span data-ttu-id="73065-175">(Lisäksi hän on asettanut tilauksen jonkin muun kanavan kautta kuin asiakasportaali.)</span><span class="sxs-lookup"><span data-stu-id="73065-175">(Additionally, she must have placed the order through some channel other than the Customer portal.)</span></span>
