---
title: Ostojen cXML-parannukset
description: Ostojen cXML-parannusten ominaisuus perustuu aiemmin luotuun ulkoiseen PunchOut-luettelotoimintoon, jota käytetään ostoehdotuksissa.
author: dasani-madipalli
manager: tfehr
ms.date: 08/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: CatCXMLParameters, CatCXMLPurchRequest
audience: Application User
ms.reviewer: kamaybac
ms.search.region: Global
ms.author: damadipa
ms.search.validFrom: 2020-08-03
ms.dyn365.ops.version: Release 10.0.13
ms.openlocfilehash: d167666e20ef7e1e0fbdb9c11b6e0b1d0b15ebbf
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 02/15/2021
ms.locfileid: "5237397"
---
# <a name="purchasing-cxml-enhancements"></a><span data-ttu-id="cfb73-103">Ostojen cXML-parannukset</span><span class="sxs-lookup"><span data-stu-id="cfb73-103">Purchasing cXML Enhancements</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="cfb73-104">_Ostojen cXML-parannusten_ ominaisuus perustuu [aiemmin luotuun ulkoiseen luettelotoimintoon](set-up-external-catalog-for-punchout.md), jota käytetään ostoehdotuksissa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-104">The _Purchasing cXML Enhancements_ feature builds on the [existing external catalog functionality](set-up-external-catalog-for-punchout.md) that is used for purchase requisitions.</span></span> <span data-ttu-id="cfb73-105">Olemassa oleva toiminto on nimeltään _PunchOut_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-105">This existing functionality is known as _PunchOut_.</span></span> <span data-ttu-id="cfb73-106">Vaikka ostotilauksen ei tarvitse olla peräisin ostoehdotuksesta, ostotilauksen toimittajan ja ostotilausasiakirjan lähettämiseen käytettävien parametrien välillä on oltava yhteys.</span><span class="sxs-lookup"><span data-stu-id="cfb73-106">Although a purchase order doesn't have to originate from a purchase requisition, there must be a connection between the vendor on a purchase order and the parameters that are used to send the purchase order document.</span></span>

## <a name="turn-on-the-purchasing-cxml-enhancements-feature"></a><span data-ttu-id="cfb73-107">Ostojen cXML-parannusten toiminnon käyttöönotto</span><span class="sxs-lookup"><span data-stu-id="cfb73-107">Turn on the Purchasing cXML Enhancements feature</span></span>

<span data-ttu-id="cfb73-108">Voit ottaa toiminnon käyttöön avaamalla **[Ominaisuuksien hallinta](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)** -sivun ja etsimällä toiminnon, jonka nimi on *Ostojen cXML-parannukset*.</span><span class="sxs-lookup"><span data-stu-id="cfb73-108">To turn on the feature, open the **[Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md)** page, and search for the feature that is named *Purchasing cXML Enhancements*.</span></span> <span data-ttu-id="cfb73-109">Valitse toiminto ja ota se käyttöön valitsemalla **Ota käyttöön nyt**.</span><span class="sxs-lookup"><span data-stu-id="cfb73-109">Select the feature, and then select **Enable now** to turn it on.</span></span>

<span data-ttu-id="cfb73-110">Kun olet ottanut toiminnon käyttöön, sinun kannattaa määrittää asetukset kolmella seuraavalla alueella:</span><span class="sxs-lookup"><span data-stu-id="cfb73-110">After you turn on the feature, you should configure settings in the following three areas:</span></span>

- <span data-ttu-id="cfb73-111">**[cXML-parametrit](#cxml-parameters)** – Näillä asetuksilla voi määrittää ostotilausten lähettämisen toiminnolle yleisiä parametreja.</span><span class="sxs-lookup"><span data-stu-id="cfb73-111">**[cXML parameters](#cxml-parameters)** – Use these settings to set up some global parameters for the functionality for sending purchase orders.</span></span>
- <span data-ttu-id="cfb73-112">**[toimittajamääritys](#vendor-setup)** – Jos tarkoituksena on käyttää oletusarvoisesti kieltä commerce eXtensible Markup Language (cXML) kaikille uusille ostotilauksille, jotka luodaan mille tahansa toimittajalle, määritä asetuksen **Lähetä ostotilaus cXML:llä** arvoksi _Kyllä_ kyseisen toimittajan osalta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-112">**[Vendor setup](#vendor-setup)** – If commerce eXtensible Markup Language (cXML) should be used by default for all new purchase orders that are created for any vendor, set the **Send purchase order via cXML** option to _Yes_ for that vendor.</span></span>
- <span data-ttu-id="cfb73-113">**[Ulkoiset luettelot](#external-catalog-setup)** – Käytä uusia **Määritä tilauksen ominaisuudet** -asetuksia määrittääksesi ostotilausasiakirjan muodon ja sen, miten se lähetetään.</span><span class="sxs-lookup"><span data-stu-id="cfb73-113">**[External catalogs](#external-catalog-setup)** – Use the new **Order properties** settings to define the format of the purchase order document and how it's sent.</span></span>

<span data-ttu-id="cfb73-114">Seuraavassa kuvassa on yhteenveto tästä määrityksestä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-114">The following illustration summarizes this configuration.</span></span>

<span data-ttu-id="cfb73-115">![cXML-toimintojen määritysalueet](media/cxml-settings-areas.png "cXML-toimintojen määritysalueet")</span><span class="sxs-lookup"><span data-stu-id="cfb73-115">![Areas for setting up cXML features](media/cxml-settings-areas.png "Areas for setting up cXML features")</span></span>

<span data-ttu-id="cfb73-116">Lisäksi on määritettävä [Ostotilauspyynnön erätyö](#po-batch).</span><span class="sxs-lookup"><span data-stu-id="cfb73-116">In addition, you must set up the [Purchase order request batch job](#po-batch).</span></span> <span data-ttu-id="cfb73-117">Tätä erätyötä käytetään vahvistettujen ostotilausten lähettämiseen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-117">This batch job is used to send the confirmed purchase orders.</span></span>

## <a name="set-up-global-cxml-parameters"></a><a name="cxml-parameters"></a><span data-ttu-id="cfb73-118">Yleisten cXML-parametrien määrittäminen</span><span class="sxs-lookup"><span data-stu-id="cfb73-118">Set up global cXML parameters</span></span>

<span data-ttu-id="cfb73-119">**cXML-parametrit**-sivulla voit määrittää joitakin yleisiä asetuksia, joita sovelletaan ostotilausten lähettämisen toimintoon.</span><span class="sxs-lookup"><span data-stu-id="cfb73-119">Use the **cXML parameters** page to make a few global settings that apply to the functionality for sending purchase orders.</span></span>

<span data-ttu-id="cfb73-120">![cXML-parametrien sivu](media/cxml-parameters.png "cXML-parametrien sivu")</span><span class="sxs-lookup"><span data-stu-id="cfb73-120">![cXML parameters page](media/cxml-parameters.png "cXML parameters page")</span></span>

<span data-ttu-id="cfb73-121">Siirry kohtaan **Ostot ja hankinnat \> Määritys \> cXML-hallinta \> cXML-parametrit** ja määritä seuraavat parametrit:</span><span class="sxs-lookup"><span data-stu-id="cfb73-121">Go to **Procurement and sourcing \> Setup \> cXML management \> cXML parameters**, and set the following parameters:</span></span>

- <span data-ttu-id="cfb73-122">**cXML-testitila** – Tämä yleinen parametri vaikuttaa tapaan, jolla ostotilaukset lähetetään fyysisesti erätyöstä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-122">**cXML test mode** – This global parameter affects the way that purchase orders are physically sent from the batch job.</span></span> <span data-ttu-id="cfb73-123">Valitse jokin seuraavista:</span><span class="sxs-lookup"><span data-stu-id="cfb73-123">Select one of the following values:</span></span>

    - <span data-ttu-id="cfb73-124">**Testaus** – Tässä tilassa erätyö voi olla käynnissä ja sanoman XML-asiakirja luodaan, mutta sitä ei lähetetä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-124">**Test** – In this mode, the batch job can be running, and the XML document for the message is generated, but it isn't sent.</span></span> <span data-ttu-id="cfb73-125">Sen sijaan se tallennetaan ostotilauspyyntöön tarkastelutarkoituksia varten.</span><span class="sxs-lookup"><span data-stu-id="cfb73-125">Instead, it's saved on the purchase order request for review purposes.</span></span> <span data-ttu-id="cfb73-126">Tämä tila on hyödyllinen, kun käynnissä on alustava toteutus ja haluat nähdä, miten tietoja lisätään cXML-sanomaan.</span><span class="sxs-lookup"><span data-stu-id="cfb73-126">This mode is helpful when you're in an initial implementation, and you want to see how data is entered in the cXML message.</span></span> <span data-ttu-id="cfb73-127">Voit myös luoda mallisanomia, jotka voit lähettää toimittajille alustavaa vahvistamista varten.</span><span class="sxs-lookup"><span data-stu-id="cfb73-127">You might also want to generate sample messages that you can send to vendors for initial validation.</span></span>
    - <span data-ttu-id="cfb73-128">**Live** – Tässä tilassa toiminto käyttää [ulkoisen luettelon asetuksia](#external-catalog-setup) lähettääkseen kunkin asiakirjan fyysisesti toimittajalle.</span><span class="sxs-lookup"><span data-stu-id="cfb73-128">**Live** – In this mode, the feature uses the [external catalog settings](#external-catalog-setup) to physically transmit each document to the vendor.</span></span>

- <span data-ttu-id="cfb73-129">**Lähetä ostopyyntöpäivityksiä** – Määritä asetukseksi *Kyllä*, jos haluat lähettää ostotilausten päivityssanoman.</span><span class="sxs-lookup"><span data-stu-id="cfb73-129">**Send purchase request updates** – Set this option to *Yes* to send an update message for purchase orders.</span></span> <span data-ttu-id="cfb73-130">Määritä arvoksi *Ei*, jos haluat estää sanoman lähettämisen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-130">Set it to *No* to prevent the message from being sent.</span></span> <span data-ttu-id="cfb73-131">Useimmat toimittajat eivät halua vastaanottaa päivityssanomia.</span><span class="sxs-lookup"><span data-stu-id="cfb73-131">Most vendors prefer not to receive update messages.</span></span> <span data-ttu-id="cfb73-132">Sen sijaan ne vaativat, että asiakas ottaa heihin yhteyttä puhelimitse tai sähköpostitse, jos ostotilausta on tarkoitus muuttaa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-132">Instead, they require that customers contact them by phone or email if a purchase order should be changed.</span></span> <span data-ttu-id="cfb73-133">Tämä parametri on yleinen parametri, eikä yksittäisille toimittajille voi määrittää ohittamista ulkoisessa luettelossa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-133">This parameter is a global parameter, and no override can be specified on the external catalog for each vendor.</span></span> <span data-ttu-id="cfb73-134">Osto tilaus merkitään päivitetyksi, jos kirjaat ostotilaukseen toisen vahvistuksen, mutta toimittaja on jo lähettänyt ensimmäisen vahvistuksen ja kuitannut sen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-134">A purchase order will be marked as updated if you post a second confirmation on a purchase order, but the first confirmation has already been sent and acknowledged by the vendor.</span></span> <span data-ttu-id="cfb73-135">Jos tehdään toinen vahvistus, mutta ensimmäistä vahvistusta ei ole lähetetty, toinen vahvistus käsitellään uutena asiakirjana.</span><span class="sxs-lookup"><span data-stu-id="cfb73-135">If there is a second confirmation, but the first confirmation hasn't been sent, the second confirmation will be treated as a new document.</span></span> <span data-ttu-id="cfb73-136">Voit vahvistaa ostotilauksen niin monta kertaa kuin haluat, kunnes yksi vahvistus lähetetään.</span><span class="sxs-lookup"><span data-stu-id="cfb73-136">You can confirm a purchase order as many times as you want until one confirmation is sent.</span></span> <span data-ttu-id="cfb73-137">Seuraava vahvistus katsotaan sitten päivityssanomaksi.</span><span class="sxs-lookup"><span data-stu-id="cfb73-137">The next confirmation will then be treated as an update message.</span></span>
- <span data-ttu-id="cfb73-138">**Lähetä ostopyyntöjen poistoja** – Määritä asetukseksi *Kyllä*, jos haluat lähettää ostotilausten poistosanoman.</span><span class="sxs-lookup"><span data-stu-id="cfb73-138">**Send purchase request delete** – Set this option to *Yes* to send a delete message for purchase orders.</span></span> <span data-ttu-id="cfb73-139">Määritä arvoksi *Ei*, jos haluat estää sanoman lähettämisen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-139">Set it to *No* to prevent the message from being sent.</span></span> <span data-ttu-id="cfb73-140">Useimmat toimittajat eivät halua vastaanottaa poistosanomia.</span><span class="sxs-lookup"><span data-stu-id="cfb73-140">Most vendors prefer not to receive delete messages.</span></span> <span data-ttu-id="cfb73-141">Sen sijaan ne vaativat, että asiakas ottaa heihin yhteyttä puhelimitse tai sähköpostitse, jos ostotilaus on lähetetty vahingossa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-141">Instead, they require that customers contact them by phone or email if a purchase order was sent by mistake.</span></span> <span data-ttu-id="cfb73-142">Tämä parametri on yleinen parametri, eikä yksittäisille toimittajille voi määrittää ohittamista ulkoisessa luettelossa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-142">This parameter is a global parameter, and no override can be specified on the external catalog for each vendor.</span></span> <span data-ttu-id="cfb73-143">Ostotilaus merkitään poistetuksi, jos peruutat ostotilauksen toimitusketjun hallinnassa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-143">A purchase order will be marked as deleted if you cancel the purchase order in Supply Chain Management.</span></span>
- <span data-ttu-id="cfb73-144">**Arkistotiedosto** – Määritä tiedostopolku, johon haluat viedä ja tallentaa arkistoidut cXML-tiedostot.</span><span class="sxs-lookup"><span data-stu-id="cfb73-144">**Archive file** – Specify the file path where you want to export and save archived cXML documents.</span></span> <span data-ttu-id="cfb73-145">Polkua käytetään, kun suoritat tyhjennystoiminnon **Ostotilauspyyntö**-sivulla.</span><span class="sxs-lookup"><span data-stu-id="cfb73-145">The path is used when you run the purge function from the **Purchase order request** page.</span></span>
- <span data-ttu-id="cfb73-146">**Katurivin merkkien enimmäismäärä** – Määritä enimmäismäärä merkkejä, joita voi käyttää cXML-asiakirjan osoitteiden katukentässä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-146">**Max characters for street line** – Enter the maximum number of characters that can be used in the street field for addresses in the cXML document.</span></span> <span data-ttu-id="cfb73-147">Tämä yleinen parametri vaikuttaa kaikkiin toimittajiin, ellei ulkoisen luettelon ominaisuuksissa ole määritetty ohitusta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-147">This global parameter affects all vendors unless an override is specified on the external catalog properties.</span></span>

## <a name="set-up-vendor-purchase-orders-to-use-cxml"></a><a name="vendor-setup"></a><span data-ttu-id="cfb73-148">Toimittajan ostotilastojen määrittäminen käyttämään cXML:ää</span><span class="sxs-lookup"><span data-stu-id="cfb73-148">Set up vendor purchase orders to use cXML</span></span>

<span data-ttu-id="cfb73-149">Aina kun vahvistat ostotilauksen, jossa **Lähetä ostotilaus cXML:llä** -valinnan arvona on _Kyllä_, järjestelmä luo cXML-sanoman automaattisesti ja toimittaa sen toimittajalle, joka liittyy kyseiseen ostotilaukseen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-149">Every time that you confirm a purchase order where the **Send purchase order via cXML** option is set to _Yes_, the system automatically generates the cXML message and delivers it to the vendor that is associated with that purchase order.</span></span> <span data-ttu-id="cfb73-150">Ostotilausten tätä asetusta voi hallita kahdella tavalla:</span><span class="sxs-lookup"><span data-stu-id="cfb73-150">There are two ways to control this option for your purchase orders:</span></span>

- <span data-ttu-id="cfb73-151">Jos haluat määrittää toimittajan siten, että se käyttää automaattisesti cXML:ää kaikissa uusissa ostotilauksissa, jotka luodaan ostoehdotuksesta, siirry kohtaan **Ostot ja hankinnat \>Toimittaja \> Kaikki toimittajat** ja avaa toimittajan tietosivu valitsemalla tai luomalla toimittaja.</span><span class="sxs-lookup"><span data-stu-id="cfb73-151">To set up a vendor so that it automatically uses cXML for all new purchase orders that are created from a requisition, go to **Procurement and sourcing \> Vendors \> All vendors**, and select or create a vendor to open its details page.</span></span> <span data-ttu-id="cfb73-152">Määritä sitten **Ostotilausten oletusarvot** -pikavälilehdellä asetuksen **Lähetä ostotilaus cXML:llä** arvoksi _Kyllä_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-152">Then, on the **Purchase order defaults** FastTab, set the **Send purchase order via cXML** option to _Yes_.</span></span> <span data-ttu-id="cfb73-153">Jos cXML:ää käytetään automaattisesti myös uusissa ostotilauksissa, joita **ei** luoda ehdotuksesta, sinun on myös määritettävä liittyvän ulkoisen luettelon **ENABLEMANUALPO**-tilausominaisuuden arvoksi _Tosi_, kuten myöhemmin tämän aiheen osassa [Määritä tilauksen ominaisuudet](#set-order-properties) kuvataan.</span><span class="sxs-lookup"><span data-stu-id="cfb73-153">If cXML should also automatically be used for new purchase orders that are **not** created from a requisition, you must also set the **ENABLEMANUALPO** order property to _True_ for the related external catalog, as described in the [Set the order properties](#set-order-properties) section later in this topic.</span></span>
- <span data-ttu-id="cfb73-154">Yksittäisten ostotilausten tietosivuja voit avata valitsemalla tai luomalla ostotilauksen kohdassa **Ostot ja hankinnat \> Ostotilaukset \> Kaikki ostotilaukset**.</span><span class="sxs-lookup"><span data-stu-id="cfb73-154">For individual purchase orders, go to **Procurement and sourcing \> Purchase orders \> All purchase orders**, and select or create a purchase order to open its details page.</span></span> <span data-ttu-id="cfb73-155">Siirry **Otsikko**-näkymään ja määritä sitten **Määritys**-pikavälilehdessä asetus **Lähetä ostotilaus cXML:llä** tarpeen mukaan.</span><span class="sxs-lookup"><span data-stu-id="cfb73-155">Switch to the **Header** view, and then, on the **Setup** FastTab, set the **Send purchase order via cXML** option as required.</span></span>

<span data-ttu-id="cfb73-156">![Toimittajien ostotilausten oletusasetukset](media/cxml-order-defaults.png "Toimittajien ostotilausten oletusasetukset")</span><span class="sxs-lookup"><span data-stu-id="cfb73-156">![Default settings for vendor purchase orders](media/cxml-order-defaults.png "Default settings for vendor purchase orders")</span></span>

## <a name="set-up-an-external-catalog-to-use-cxml"></a><a name="external-catalog-setup"></a><span data-ttu-id="cfb73-157">Ulkoisen luettelon määrittäminen käyttämään cXML:ää</span><span class="sxs-lookup"><span data-stu-id="cfb73-157">Set up an external catalog to use cXML</span></span>

<span data-ttu-id="cfb73-158">Voit määrittää PunchOut-toiminnon ja ostotilausten lähetystoiminnon kunkin luettelon **Ulkoiset luettelot** -sivulla.</span><span class="sxs-lookup"><span data-stu-id="cfb73-158">On the **External catalogs** page, for each of your catalogs, you can set up the PunchOut functionality and the functionality for sending purchase orders.</span></span> <span data-ttu-id="cfb73-159">Tähän liittyvät asetukset ovat kohdassa **Ostot ja hankinnat \> Luettelot \> Ulkoiset luettelot**.</span><span class="sxs-lookup"><span data-stu-id="cfb73-159">To find the relevant settings, go to **Procurement and sourcing \> Catalogs \> External catalogs**.</span></span> <span data-ttu-id="cfb73-160">Aloita [määrittämällä kukin luettelo tavalliseen tapaan](set-up-external-catalog-for-punchout.md).</span><span class="sxs-lookup"><span data-stu-id="cfb73-160">Start by [setting up each catalog as usual](set-up-external-catalog-for-punchout.md).</span></span> <span data-ttu-id="cfb73-161">Tähän prosessiin kuuluu toimittajan määrittäminen, niiden luokkien määrittäminen, joita toimittaja saa toimittaa, sekä luettelon aktivointi.</span><span class="sxs-lookup"><span data-stu-id="cfb73-161">This process includes assigning a vendor, selecting the categories that the vendor is allowed to supply, and activating the catalog.</span></span> <span data-ttu-id="cfb73-162">Määritä tämän jälkeen tässä osassa kuvatut lisäasetukset.</span><span class="sxs-lookup"><span data-stu-id="cfb73-162">Then configure the additional settings that are described in this section.</span></span>

> [!NOTE]
> <span data-ttu-id="cfb73-163">Kun vahvistat ostotilauksen, joka voidaan lähettää cXML:llä, järjestelmä hakee ostotilaukseen liittyvän toimittajan ja hakee sitten ensimmäisen aktiivisen ulkoisen luettelon, joka on määritetty kyseiselle toimittajalle.</span><span class="sxs-lookup"><span data-stu-id="cfb73-163">When you confirm a purchase order that can be sent via cXML, the system looks up the vendor that is associated with the purchase order and then finds the first active external catalog that is associated with that vendor.</span></span> <span data-ttu-id="cfb73-164">Tämän jälkeen järjestelmä käyttää kyseisen ulkoisen luettelon asetuksia ostotilauksen lähettämiseen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-164">The system then uses the settings from that external catalog to send the purchase order.</span></span> <span data-ttu-id="cfb73-165">Jos useita ulkoisia luetteloita on määritetty, järjestelmä käyttää vain ensimmäistä löytämäänsä ulkoista luetteloa ostotilauksen toimittajan perusteella.</span><span class="sxs-lookup"><span data-stu-id="cfb73-165">If multiple external catalogs are set up, the system uses only the first external catalog that it finds, based on the vendor on the purchase order.</span></span> <span data-ttu-id="cfb73-166">Siksi on suositeltavaa luoda kullekin toimittajalle vain yksi ulkoinen luettelo.</span><span class="sxs-lookup"><span data-stu-id="cfb73-166">Therefore, we recommend that you create just one external catalog for each vendor.</span></span>

<span data-ttu-id="cfb73-167">![Ulkoisen luettelon asetukset](media/cxml-supplier-catalog.png "Ulkoisen luettelon asetukset")</span><span class="sxs-lookup"><span data-stu-id="cfb73-167">![External catalog settings](media/cxml-supplier-catalog.png "External catalog settings")</span></span>

### <a name="set-the-punchout-protocol-type"></a><span data-ttu-id="cfb73-168">PunchOut-toiminnon protokollatyypin määrittäminen</span><span class="sxs-lookup"><span data-stu-id="cfb73-168">Set the PunchOut protocol type</span></span>

<span data-ttu-id="cfb73-169">Määritä **Yleistä**-pikavälilehdessä **Ulkoiset luettelot** -sivulla **PunchOut-protokollatyyppi** -kentän arvoksi _cXML_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-169">On the **General** FastTab of the **External catalogs** page, set the **Punchout protocol type** field to _cXML_.</span></span> <span data-ttu-id="cfb73-170">Tämä vaihtoehto on ainoa käytettävissä oleva vaihtoehto, ellei kumppani ole laajentanut toimintoa ja tarjoa lisävaihtoehtoa laajennuksessa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-170">This option will be the only available option, unless a partner has extended the functionality and provides an additional option in the extension.</span></span>

<span data-ttu-id="cfb73-171">Jos käytät luetteloa myös PunchOut-toiminnossa, sinun myös [määritettävä sanoman muoto](set-up-external-catalog-for-punchout.md).</span><span class="sxs-lookup"><span data-stu-id="cfb73-171">If you're also using the catalog for PunchOut, you must also [set up the message format](set-up-external-catalog-for-punchout.md).</span></span> <span data-ttu-id="cfb73-172">Sanomamuotoa käytetään toimittajayhteyden luomiseen ehdotukseen perustuvassa PunchOut-tapahtumassa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-172">The message format is used to establish the connection to the vendor in the PunchOut transaction from the requisition.</span></span> <span data-ttu-id="cfb73-173">Kun ostotilaus lähetetään, tilauksen ominaisuuksia käytetään toimittajayhteyden luomiseen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-173">When a purchase order is sent, the order properties will be used to establish the connection with a vendor.</span></span>

### <a name="set-the-order-properties"></a><a name="set-order-properties"></a><span data-ttu-id="cfb73-174">Tilauksen ominaisuuksein määrittäminen</span><span class="sxs-lookup"><span data-stu-id="cfb73-174">Set the order properties</span></span>

<span data-ttu-id="cfb73-175">_Ostojen cXML-parannukset_-toiminto lisää uuden **Tilausominaisuudet**-pikavälilehden ulkoisia luetteloja varten.</span><span class="sxs-lookup"><span data-stu-id="cfb73-175">The _Purchasing cXML Enhancements_ feature adds a new **Order properties** FastTab for external catalogs.</span></span> <span data-ttu-id="cfb73-176">Tässä pikavälilehdessä on ruudukko, jossa voit määrittää tilauksen ominaisuudet.</span><span class="sxs-lookup"><span data-stu-id="cfb73-176">This FastTab provides a grid where you can define the order properties.</span></span> <span data-ttu-id="cfb73-177">Se sisältää myös työkalurivin.</span><span class="sxs-lookup"><span data-stu-id="cfb73-177">It also provides a toolbar.</span></span> <span data-ttu-id="cfb73-178">Tämä työkalurivi sisältää seuraavat kolme painiketta, joiden avulla voit hallita tilauksen ominaisuuksia:</span><span class="sxs-lookup"><span data-stu-id="cfb73-178">This toolbar contains the following three buttons that you can use to manage the order properties:</span></span>

- <span data-ttu-id="cfb73-179">**Oletusominaisuudet** – Kun määrität uutta luetteloa, valitse tämä painike, jos haluat lisätä ruudukkoon esimääritetyn, yleisesti käytettyjen ominaisuuksien kokoelman.</span><span class="sxs-lookup"><span data-stu-id="cfb73-179">**Default properties** – When you're setting up a new catalog, select this button to add a predefined collection of commonly used properties to the grid.</span></span>
- <span data-ttu-id="cfb73-180">**Uusi** – Lisää ruudukkoon uusi ominaisuus.</span><span class="sxs-lookup"><span data-stu-id="cfb73-180">**New** – Add a new property to the grid.</span></span>
- <span data-ttu-id="cfb73-181">**Poista** – Poista valittuna oleva ominaisuus ruudukosta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-181">**Delete** – Delete the currently selected property from the grid.</span></span> <span data-ttu-id="cfb73-182">Jos poistat oletusominaisuuden vahingossa, palauta puuttuvat ominaisuudet valitsemalla **Oletusominaisuudet**.</span><span class="sxs-lookup"><span data-stu-id="cfb73-182">If you accidentally delete a default property, select **Default properties** to restore all the missing properties.</span></span>

<span data-ttu-id="cfb73-183">Aina kun lisäät vähintään yhden ominaisuuden ruudukkoon, määritä kullekin niistä arvo oikeanpuoleisessa sarakkeessa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-183">Every time that you add one or more properties to the grid, use the right column to specify a value for each.</span></span>

<span data-ttu-id="cfb73-184">Käytä oletusominaisuuksia seuraavalla tavalla:</span><span class="sxs-lookup"><span data-stu-id="cfb73-184">Use the default properties in the following way:</span></span>

- <span data-ttu-id="cfb73-185">**BUYER\_COOKIE** – Tällä seurantakentällä voidaan ilmaista tiettyjä tietoja yrityksellesi.</span><span class="sxs-lookup"><span data-stu-id="cfb73-185">**BUYER\_COOKIE** – This tracking field can be used to indicate specific information for your company.</span></span> <span data-ttu-id="cfb73-186">Jos sinulla ei ole toimittajan kanssa sopimusta tämän ominaisuuden käytöstä, sillä ei ole paljoakaan merkitystä ostotilausta lähetettäessä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-186">Unless you have an agreement with the vendor about how this property is used, it doesn't have very much meaning when sending a purchase order.</span></span> <span data-ttu-id="cfb73-187">Siksi se kannattaa määrittää yksinkertaiseksi arvoksi.</span><span class="sxs-lookup"><span data-stu-id="cfb73-187">Therefore, you should set it to a simple value.</span></span>
- <span data-ttu-id="cfb73-188">**DELIVERTO** – Kun toimitusosoite syötetään asiakirjaan ostotilauksesta **Huomautustiedot**-kenttää käytetään **DeliverTo**-kentän täyttämiseen XML-sanomassa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-188">**DELIVERTO** – When the shipping address is entered in the document from the purchase order, the **Attention information** field is used to set the **DeliverTo** field in the XML message.</span></span> <span data-ttu-id="cfb73-189">Jos haluat, että tämä arvo on pyynnön lähettäjän nimi, ja määrität ostotilauksen otsikon pyynnön lähettäjä -kentän, syötä tämän ominaisuuden _REQUESTER_ -arvo, jotta pyynnön lähettäjän nimi lisätään XML:n **DeliverTo**-kenttään.</span><span class="sxs-lookup"><span data-stu-id="cfb73-189">If you require that this value be a requester name, and you will set the requester field on the purchase order header, enter the value _REQUESTER_ for this property, so that the requester name will be entered in the **DeliverTo** field in the XML.</span></span> <span data-ttu-id="cfb73-190">Tässä tapauksessa käytetään ensisijaisena sähköpostiosoitteena ja puhelinnumerona pyynnön lähettäjän eikä tilaajan sähköpostiosoitetta ja puhelinnumeroa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-190">In this case, the primary email address and phone number that are used will be from the requester instead of the orderer.</span></span>
- <span data-ttu-id="cfb73-191">**DEPLOYMENTMODE** – Määritä tämä ominaisuus toimittajan pyynnön mukaisesti.</span><span class="sxs-lookup"><span data-stu-id="cfb73-191">**DEPLOYMENTMODE** – Set this property as required by the vendor.</span></span> <span data-ttu-id="cfb73-192">Arvona on yleensä _TUOTANTO_ tai _TESTI_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-192">The values are usually _PRODUCTION_ or _TEST_.</span></span> <span data-ttu-id="cfb73-193">Määritä arvo toimittajan kanssa käydyn viestinnän perusteella.</span><span class="sxs-lookup"><span data-stu-id="cfb73-193">Set the value based on your communication with the vendor.</span></span> <span data-ttu-id="cfb73-194">Yleensä sen täytyy vastata suunniteltua järjestelmää toimittajan testi- tai tuotantojärjestelmäksi ilmoittaman **ORDERCHECKURL**-arvon taustalla.</span><span class="sxs-lookup"><span data-stu-id="cfb73-194">Usually, it must match the intended system behind the **ORDERCHECKURL** value that the vendor indicates as a test or production system.</span></span>
- <span data-ttu-id="cfb73-195">**FIXEDBILLADDRESSID** – Kun XML-sanoman **addressID**-kenttä määritetään, se poimii osoitteessa määritetyn sijainnin.</span><span class="sxs-lookup"><span data-stu-id="cfb73-195">**FIXEDBILLADDRESSID** – When the **addressID** field in the XML message is set, it picks up the location that is specified on the address.</span></span> <span data-ttu-id="cfb73-196">Jos toimittajalle ilmoittamasi tunnusarvo eroaa jostain syystä osoitesijainnin arvosta, voit pakottaa ohituksen määrittämällä arvon tässä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-196">If the ID value that you've communicated to the vendor differs from the value on the address location for some reason, you can force an override by specifying the value here.</span></span> <span data-ttu-id="cfb73-197">Oletuksena on, että käytät vain yhtä osoitetta toimittajan kanssa ja että osoite määritetään toimittajan järjestelmässä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-197">The assumption is that you will use only one address with the vendor, and that the address is set up in the vendor's system.</span></span> <span data-ttu-id="cfb73-198">Laskutusosoite on ensisijainen laskutusosoite, joka on yritykselle on määritetty Supply Chain Managementissa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-198">The billing address is the primary invoice address that is specified for the legal entity in Supply Chain Management.</span></span>
- <span data-ttu-id="cfb73-199">**FIXEDSHIPADDRESSID** – Kun XML-sanoman **addressID**-kenttä määritetään, se poimii osoitteessa määritetyn sijainnin.</span><span class="sxs-lookup"><span data-stu-id="cfb73-199">**FIXEDSHIPADDRESSID** – When the **addressID** field in the XML message is set, it picks up the location that is specified on the address.</span></span> <span data-ttu-id="cfb73-200">Jos toimittajalle ilmoittamasi tunnusarvo eroaa jostain syystä osoitesijainnin arvosta, voit pakottaa ohituksen määrittämällä arvon tässä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-200">If the ID value that you've communicated to the vendor differs from the value on the address location for some reason, you can force an override by specifying the value here.</span></span> <span data-ttu-id="cfb73-201">Oletuksena on, että käytät vain yhtä osoitetta toimittajan kanssa ja että osoite määritetään toimittajan järjestelmässä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-201">The assumption is that you will use only one address with the vendor, and that the address is set up in the vendor's system.</span></span> <span data-ttu-id="cfb73-202">Toimitusosoite on osoite, joka on määritetty ostotilauksen otsikossa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-202">The shipping address is the address that is specified on the header of the purchase order.</span></span> <span data-ttu-id="cfb73-203">Useimmat toimittajat hyväksyvät vain otsikko-osoitteet, eivät riviosoitteita.</span><span class="sxs-lookup"><span data-stu-id="cfb73-203">Most vendors accept only header addresses, not line addresses.</span></span> <span data-ttu-id="cfb73-204">Vaikka XML-tiedostossa on kenttiä riviosoitteille, ne määritetään otsikko-osoitteeksi.</span><span class="sxs-lookup"><span data-stu-id="cfb73-204">Although there are fields for line addresses in the XML, they will be set to the header address.</span></span>
- <span data-ttu-id="cfb73-205">**FROM\_DOMAIN** – Syötä arvo, jota käytetään ostotilausasiakirjojen lähettämiseen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-205">**FROM\_DOMAIN** – Enter the value that is used to send purchase order documents.</span></span> <span data-ttu-id="cfb73-206">Toimittaja toimittaa tämän arvon.</span><span class="sxs-lookup"><span data-stu-id="cfb73-206">This value is supplied by your vendor.</span></span>
- <span data-ttu-id="cfb73-207">**FROM\_IDENTITY** – Syötä arvo, jota käytetään ostotilausasiakirjojen lähettämiseen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-207">**FROM\_IDENTITY** – Enter the value that is used to send purchase order documents.</span></span> <span data-ttu-id="cfb73-208">Toimittaja toimittaa tämän arvon.</span><span class="sxs-lookup"><span data-stu-id="cfb73-208">This value is supplied by your vendor.</span></span>
- <span data-ttu-id="cfb73-209">**ORDERCHECKURL** – Syötä URL-osoite, johon ostotilausasiakirjat lähetetään.</span><span class="sxs-lookup"><span data-stu-id="cfb73-209">**ORDERCHECKURL** – Enter the URL to transmit the purchase order documents to.</span></span> <span data-ttu-id="cfb73-210">Tämä URL-osoite alkaa `https://`, ja toimittaja toimittaa sen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-210">This URL starts with `https://` and is supplied by your vendor.</span></span>
- <span data-ttu-id="cfb73-211">**PAYLOAD\_ID** – Syötä tietotunnukselle etuliitearvo niiden liiketoimintaprosessien tarpeiden mukaan, jotka ovat käytössä kulloisenkin toimittajan osalta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-211">**PAYLOAD\_ID** – Enter a prefix value for the payload ID, as required for the business processes that are in place for the current vendor.</span></span>
- <span data-ttu-id="cfb73-212">**SENDER\_DOMAIN** – Syötä arvo, jota käytetään ostotilausasiakirjojen lähettämiseen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-212">**SENDER\_DOMAIN** – Enter the value that is used to send purchase order documents.</span></span> <span data-ttu-id="cfb73-213">Toimittaja toimittaa tämän arvon.</span><span class="sxs-lookup"><span data-stu-id="cfb73-213">This value is supplied by your vendor.</span></span>
- <span data-ttu-id="cfb73-214">**SENDER\_IDENTITY** – Syötä arvo, jota käytetään ostotilausasiakirjojen lähettämiseen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-214">**SENDER\_IDENTITY** – Enter the value that is used to send purchase order documents.</span></span> <span data-ttu-id="cfb73-215">Toimittaja toimittaa tämän arvon.</span><span class="sxs-lookup"><span data-stu-id="cfb73-215">This value is supplied by your vendor.</span></span>
- <span data-ttu-id="cfb73-216">**SHARED\_SECRET** – Syötä arvo, jota käytetään ostotilausasiakirjojen lähettämiseen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-216">**SHARED\_SECRET** – Enter the value that is used to send purchase order documents.</span></span> <span data-ttu-id="cfb73-217">Toimittaja toimittaa tämän arvon.</span><span class="sxs-lookup"><span data-stu-id="cfb73-217">This value is supplied by your vendor.</span></span>
- <span data-ttu-id="cfb73-218">**STREETLENGTH** – Syötä numero, joka ilmaisee merkkien enimmäismäärän, jonka toimittaja hyväksyy kadun nimeksi.</span><span class="sxs-lookup"><span data-stu-id="cfb73-218">**STREETLENGTH** – Enter a number that represents the maximum number of characters that the vendor will accept as a street name.</span></span> <span data-ttu-id="cfb73-219">Jos tähän syötetään arvo, se on ensisijainen **cXML-parametrit**-sivulla määritettyyn arvoon nähden.</span><span class="sxs-lookup"><span data-stu-id="cfb73-219">If a value is entered here, it overrides the value that is specified on the **cXML parameters** page.</span></span> <span data-ttu-id="cfb73-220">Järjestelmä poistaa rivinvaihdot ja välilyönnit yrittääkseen sovittaa Supply Chain Managementin vakio-osoitteet tässä määritettyyn merkkien enimmäismäärään.</span><span class="sxs-lookup"><span data-stu-id="cfb73-220">The system will remove line breaks and spaces to try to fit the standard address in Supply Chain Management into the number of characters that is specified here.</span></span> <span data-ttu-id="cfb73-221">Kaikki ylimääräiset merkit katkaistaan.</span><span class="sxs-lookup"><span data-stu-id="cfb73-221">Any additional characters will be truncated.</span></span>
- <span data-ttu-id="cfb73-222">**TO\_DOMAIN** – Syötä arvo, jota käytetään ostotilausasiakirjojen lähettämiseen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-222">**TO\_DOMAIN** – Enter the value that is used to send purchase order documents.</span></span> <span data-ttu-id="cfb73-223">Toimittaja toimittaa tämän arvon.</span><span class="sxs-lookup"><span data-stu-id="cfb73-223">This value is supplied by your vendor.</span></span>
- <span data-ttu-id="cfb73-224">**TO\_IDENTITY** – Syötä arvo, jota käytetään ostotilausasiakirjojen lähettämiseen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-224">**TO\_IDENTITY** – Enter the value that is used to send purchase order documents.</span></span> <span data-ttu-id="cfb73-225">Toimittaja toimittaa tämän arvon.</span><span class="sxs-lookup"><span data-stu-id="cfb73-225">This value is supplied by your vendor.</span></span>
- <span data-ttu-id="cfb73-226">**USERAGENT** – Syötä arvo, joka ilmoittaa käyttämäsi järjestelmän.</span><span class="sxs-lookup"><span data-stu-id="cfb73-226">**USERAGENT** – Enter a value to identify the system that you're using.</span></span> <span data-ttu-id="cfb73-227">Syötä esimerkiksi _Dynamics 365 Supply Chain Management_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-227">For example, enter _Dynamics 365 Supply Chain Management_.</span></span>
- <span data-ttu-id="cfb73-228">**VERSION** – Syötä cXML-versionumero, jos toimittaja pyytää tätä tietoa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-228">**VERSION** – Enter a cXML version number, if the vendor requests this information.</span></span> <span data-ttu-id="cfb73-229">Oletusversio on *1.2.008*.</span><span class="sxs-lookup"><span data-stu-id="cfb73-229">The default version is *1.2.008*.</span></span> <span data-ttu-id="cfb73-230">Tämä versio on vakaa, ja useimmat toimittajat hyväksyvät sen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-230">This version is stable and is accepted by most vendors.</span></span>
- <span data-ttu-id="cfb73-231">**RESPONSETEXT** – Syötä mikä tahansa mukautettu teksti, jonka odotat toimittajan palauttavan cXML-vastaussanomassa, kun tilaus on lähetetty.</span><span class="sxs-lookup"><span data-stu-id="cfb73-231">**RESPONSETEXT** – Enter any custom text that you expect the vendor to return in the cXML response message after the order has been sent.</span></span> <span data-ttu-id="cfb73-232">Tällä tavoin järjestelmä voi merkitä viestin _kuitatuksi_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-232">In this way, the system can mark the message as _Acknowledged_.</span></span> <span data-ttu-id="cfb73-233">Jos vastaus ei vastaa vakiotekstiä tai tähän syöttämääsi asiakastekstiä, pyyntö merkitään _virheeksi_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-233">If the response doesn't match standard text or the customer text that you enter here, the request will be marked as _Error_.</span></span>
- <span data-ttu-id="cfb73-234">**RESPONSETEXTSUB** – Määritä tämän ominaisuuden arvoksi _TOSI_, jos haluat etsiä toimittajan vastaustekstin arvoille, jotka on määritetty **RESPONSETEXT**-kentässä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-234">**RESPONSETEXTSUB** – Set this property to _TRUE_ if you want to search the vendor response text for the values that are specified in the **RESPONSETEXT** field.</span></span> <span data-ttu-id="cfb73-235">Toimittaja voi esimerkiksi palauttaa pitkän merkkijonon, jonka vastaus sisältää merkit "OK".</span><span class="sxs-lookup"><span data-stu-id="cfb73-235">For example, the vendor might return a long string that includes "OK" in the response.</span></span> <span data-ttu-id="cfb73-236">Tällöin voit syöttää _OK_ **RESPONSETEXT**-kenttään ja määrittää **RESPONSETESTSUB**-arvoksi _TOSI_, jolloin merkkejä "OK" etsitään mistä tahansa kohdasta vastausta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-236">In this case, you can enter _OK_ in the **RESPONSETEXT** field and set **RESPONSETESTSUB** to _TRUE_ to search for "OK" anywhere in the response.</span></span> <span data-ttu-id="cfb73-237">Tällöin tilaus voidaan määrittää _kuitatuksi_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-237">The order can then be set to _Acknowledged_.</span></span>
- <span data-ttu-id="cfb73-238">**CONTENTTYPE** – Tyypillisessä luettelomäärityksessä ei ole tätä ominaisuutta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-238">**CONTENTTYPE** – In a typical catalog setup, you don't have to set this property.</span></span> <span data-ttu-id="cfb73-239">Jos vastaanotat palvelinvirheen 500 toimittajan järjestelmästä, kun lähetät ostotilauksen, voit suorittaa testauksen määrittämällä tämän ominaisuuden arvoksi _EPÄTOSI_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-239">If you receive a server 500 error from a vendor's system when you send a purchase order, you can do testing by setting this property to _FALSE_.</span></span> <span data-ttu-id="cfb73-240">Tämä arvo muuttaa määrityksen verkkopyynnössä ja saattaa mahdollistaa sanoman lähetyksen joissakin ympäristöissä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-240">That value will change a setting in the web request and might enable the message to be sent for some platforms.</span></span>
- <span data-ttu-id="cfb73-241">**ENABLEHEADERS** – Määritä tämän ominaisuuden arvoksi _TOSI_, jotta otsikot lähetään yhdessä ostotilauksen kanssa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-241">**ENABLEHEADERS** – Set this property to _TRUE_ to send headers together with the purchase order.</span></span> <span data-ttu-id="cfb73-242">Tämän ominaisuuden tarvitsee määrittää vain, jos toimittaja edellyttää sitä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-242">You must set this property only if the vendor requires it.</span></span> <span data-ttu-id="cfb73-243">Jos määrität tämän ominaisuuden arvoksi _TOSI_, lisää mukautettuja ominaisuuksia, jotka perustuvat toimittajien ilmoittamiin nimiin, ja määritä niille etuliite _H\__.</span><span class="sxs-lookup"><span data-stu-id="cfb73-243">If you set this property to _TRUE_, add extra custom properties that are based on the names that the vendor provides, and prefix them with _H\__.</span></span> <span data-ttu-id="cfb73-244">Tyypillisiä esimerkkejä ovat **H\_USERID**, **H\_PASSWORD**, **H\_RECEIVERID** ja **H\_ACTIONREQUEST**.</span><span class="sxs-lookup"><span data-stu-id="cfb73-244">Typical examples include **H\_USERID**, **H\_PASSWORD**, **H\_RECEIVERID**, and **H\_ACTIONREQUEST**.</span></span> <span data-ttu-id="cfb73-245">Seuraavat mukautetut ominaisuudet sisältyvät oletusominaisuuksiin:</span><span class="sxs-lookup"><span data-stu-id="cfb73-245">The following custom properties are included in the default properties:</span></span>

    - <span data-ttu-id="cfb73-246">**H\_USERID** – Jos kauppakumppani edellyttää käyttäjätunnuksen lähettämistä osana ostotilauksen lähettämisen URL-osoitetta, syötä arvo tähän.</span><span class="sxs-lookup"><span data-stu-id="cfb73-246">**H\_USERID** – If the trading partner requires that you send a user ID as part of the URL to submit a purchase order, enter the value here.</span></span>
    - <span data-ttu-id="cfb73-247">**H\_PASSWORD** – Jos kauppakumppani edellyttää salasanan lähettämistä osana ostotilauksen lähettämisen URL-osoitetta, syötä arvo tähän.</span><span class="sxs-lookup"><span data-stu-id="cfb73-247">**H\_PASSWORD** – If the trading partner requires that you send a password as part of the URL to submit a purchase order, enter the value here.</span></span>

- <span data-ttu-id="cfb73-248">**ENABLEMANUALPO** – Jos tämän ominaisuuden arvona on _TOSI_, kun käyttäjät luovat ostotilauksia manuaalisesti (eli kun pohjana ei käytetä ehdotusta), kyseisten ostotilausten **Lähetä ostotilaus cXML:llä** -asetuksen arvo tulee toimittajalta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-248">**ENABLEMANUALPO** – If this property is set to _TRUE_, when users manually create purchase orders (that is, when they don't start from a requisition), those purchase orders will inherit the setting of the **Send purchase order via cXML** option from the vendor.</span></span> <span data-ttu-id="cfb73-249">Jos tätä ominaisuutta ei ole määritetty tai jos sen arvo on _EPÄTOSI_, **Lähetä ostotilaus cXML:llä** -asetusta ei määritetä manuaalisesti luotujen ostotilausten otsikossa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-249">If this property isn't set, or if it's set to _FALSE_, the **Send purchase order via cXML** option won't be set on the purchase order header for manually created purchase orders.</span></span> <span data-ttu-id="cfb73-250">Ehdotuksen perusteella luoduissa ostotilauksissa, **Lähetä ostotilaus cxML:llä** -asetus tulee aina toimittajalta ominaisuuden arvosta riippumatta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-250">For purchase orders that are created from a requisition, the setting of the **Send purchase order via cXML** option is always inherited from the vendor, regardless of the setting of this property.</span></span> <span data-ttu-id="cfb73-251">Lisätietoja on tämän aiheen aiemmassa [Toimittajan ostotilastojen määrittäminen käyttämään cXML:ää](#vendor-setup) -osassa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-251">For more information, see the [Set up vendor purchase orders to use cXML](#vendor-setup) section earlier in this topic.</span></span>
- <span data-ttu-id="cfb73-252">**PUNCHOUTPOONLY** – Jos tämän ominaisuuden arvoksi määritetään _TOSI_, vain PunchOut-prosessissa luodut ostoehdotuksen rivit määrittävät ostotilauksen otsikon **Lähetä ostotilaus cXML:llä** -asetuksen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-252">**PUNCHOUTPOONLY** – If this property is set to _TRUE_, only purchase requisition lines that are created from the PunchOut process will set the **Send purchase order via cXML** option on the purchase order header.</span></span> <span data-ttu-id="cfb73-253">Lisäksi kaikkien ostotilausten rivien ostoehdotusrivien tyypin on oltava _Ulkoinen luettelonimeke_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-253">In addition, the purchase requisition line type of all lines on the purchase order must be _External catalog item_.</span></span> <span data-ttu-id="cfb73-254">Muussa tapauksessa cXML-ostotilausta ei voi luoda.</span><span class="sxs-lookup"><span data-stu-id="cfb73-254">Otherwise, the cXML purchase order can't be created.</span></span>
- <span data-ttu-id="cfb73-255">**PUNCHOUTSHIPTO** – Jos tämän ominaisuuden arvoksi on määritetty _TOSI_, yrityksen oletusosoite lisätään PunchOut-määrityspyyntösanomaan, kun käyttäjä avaa ulkoisen luettelon.</span><span class="sxs-lookup"><span data-stu-id="cfb73-255">**PUNCHOUTSHIPTO** – If this property is set to _TRUE_, the default address of the legal entity will be added to the PunchOut setup request message when the user opens an external catalog.</span></span> <span data-ttu-id="cfb73-256">Tämä osoite lisätään **ShipTo**-osoitteeksi.</span><span class="sxs-lookup"><span data-stu-id="cfb73-256">This address is added as the **ShipTo** address.</span></span> <span data-ttu-id="cfb73-257">Toimittajat käyttävät **ShipTo**-osoitetta näyttääkseen yrityksen sijaintiin perustelevaa hinnoittelua.</span><span class="sxs-lookup"><span data-stu-id="cfb73-257">Vendors will use the **ShipTo** address to show pricing based on the company location.</span></span>
- <span data-ttu-id="cfb73-258">**TRACEPUNCHOUT** – Määritä tämän ominaisuuden arvoksi _TOSI_, jos saat virhesanoman, kun yrität siirtyä ehdotuksesta ulkoiseen luetteloon.</span><span class="sxs-lookup"><span data-stu-id="cfb73-258">**TRACEPUNCHOUT** – Set this property to _TRUE_ if you receive an error message when you try to browse to an external catalog from the requisition.</span></span> <span data-ttu-id="cfb73-259">Tämän jälkeen täytetään Supply Chain Managementin ja toimittajan sivuston välillä lähetettävien **PunchOutSetupRequest**- ja **PunchOutResponse**-sanomien jäljitystiedot.</span><span class="sxs-lookup"><span data-stu-id="cfb73-259">Trace information will then be filled in for the **PunchOutSetupRequest** and **PunchOutResponse** messages that are sent between Supply Chain Management and the vendor site.</span></span> <span data-ttu-id="cfb73-260">Voit tarkastella näitä tietoja **cXML-ostoskorisanomaloki**-sivulla, jonka voit avata ongelmia aiheuttavan toimittajan tueteluettelon **Ulkoisen luettelon määritys** -sivulta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-260">You can view this information on the **cXML cart message log** page, which you can open from the **External catalog setup** page for the vendor catalog that you're have having issues with.</span></span> <span data-ttu-id="cfb73-261">Tämän ominaisuuden arvoksi pitäisi määrittää _TOSI_ vain, kun olet suorittamassa vianmääritystä, sillä vaatii merkittävästi suorituskykyä tietokannalta kunkin PunchOut-toiminnon osalta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-261">You should set this property to _TRUE_ only if you're troubleshooting, because it creates a large performance overhead on the database for each PunchOut.</span></span> <span data-ttu-id="cfb73-262">Lisätietoja on myöhemmin tämän aiheen osassa [Ulkoisen luettelon PunchOut-toiminnon cXML-ostoskorisanomalokin tarkastelu](#message-log).</span><span class="sxs-lookup"><span data-stu-id="cfb73-262">For more information, see the [View the cXML cart message log for external catalog PunchOut](#message-log) section later in this topic.</span></span>
- <span data-ttu-id="cfb73-263">**REPLACENEWLINE** – Määritä tämän ominaisuuden arvoksi _TOSI_, jos sinulla on siitä johtuva ongelma, että toimittajan järjestelmä lähettää **PunchOutResponse**-sanoman, joka sisältää rivinvaihtomerkkejä (\\n).</span><span class="sxs-lookup"><span data-stu-id="cfb73-263">**REPLACENEWLINE** – Set this property to _TRUE_ if you're having an issue because a vendor's system is sending a **PunchOutResponse** message that includes newline characters (\\n).</span></span> <span data-ttu-id="cfb73-264">toimittajaTämä ongelma voi ilmetä, jos toimittajan sanomat jäsennetään väliohjelmiston tai hankintakeskuksen kautta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-264">This issue might occur if the vendor's messages are parsed through middleware or a procurement hub.</span></span> <span data-ttu-id="cfb73-265">Jos sinulla on ongelmia uuden toimittajan määritysten kanssa, määritä **TRACEPUNCHOUT**-ominaisuuden arvoksi _TOSI_ tarkasetllaksesi **PunchOutResponse**-sanomaa ja sen määrittämiseksi, erottavatko rivinvaihtomerkit XML-tunnisteita.</span><span class="sxs-lookup"><span data-stu-id="cfb73-265">If you're having an issue with a new vendor setup, set the **TRACEPUNCHOUT** property to _TRUE_ to view the **PunchOutResponse** message and determine whether the XML tags are broken up by newline characters.</span></span>
- <span data-ttu-id="cfb73-266">**POCOMMENTS** – Määritä tämän ominaisuuden arvoksi _TRUE_, jos haluat cXML-asiakirjan sisältävän muistiinpanot, jotka lisätään ostotilaukseen Supply Chain managementissa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-266">**POCOMMENTS** – Set this property to _TRUE_ if you want the cXML document to include notes that are attached to the purchase order in Supply Chain Management.</span></span> <span data-ttu-id="cfb73-267">Liiteteksti lisätään tilaussanoman otsikkokommentteihin.</span><span class="sxs-lookup"><span data-stu-id="cfb73-267">The attachment text is included in the header comments in the purchase order message.</span></span> <span data-ttu-id="cfb73-268">Lisä tietoja siitä, miten järjestelmä valitsee ja käsittelee nämä liitteet on jäljempänä tässä aiheessa osassa [Muistiinpanojen lisääminen ostotilaukseen](#attach-po-notes).</span><span class="sxs-lookup"><span data-stu-id="cfb73-268">For more information about how the system selects and processes these attachments, see the [Attach notes to a purchase order](#attach-po-notes) section later in this topic.</span></span>
- <span data-ttu-id="cfb73-269">**VENDCOMMENTS** – Määritä tämän ominaisuuden arvoksi _TRUE_, jos haluat cXML-asiakirjan sisältävän muistiinpanot, jotka lisätään ostotilaukseen Supply Chain managementissa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-269">**VENDCOMMENTS** – Set this property to _TRUE_ if you want the cXML document to include notes that are attached to the purchase order in Supply Chain Management.</span></span> <span data-ttu-id="cfb73-270">Liiteteksti lisätään tilaussanoman otsikkokommentteihin.</span><span class="sxs-lookup"><span data-stu-id="cfb73-270">The attachment text is included in the header comments in the purchase order message.</span></span> <span data-ttu-id="cfb73-271">Lisä tietoja siitä, miten järjestelmä valitsee ja käsittelee nämä liitteet on osassa [Muistiinpanojen lisääminen ostotilaukseen](#attach-po-notes).</span><span class="sxs-lookup"><span data-stu-id="cfb73-271">For more information about how the system selects and processes these attachments, see the [Attach notes to a purchase order](#attach-po-notes) section.</span></span>
- <span data-ttu-id="cfb73-272">**CLEANAMP** – Määritä tämän ominaisuuden arvoksi _TOSI_, jos saat virhesanoman yrittäessäsi suorittaa PunchOut-toimintoa toimittajalle ja toimittajan palauttama URL sisältää virheellisesti koodattuja et-merkkejä (\&).</span><span class="sxs-lookup"><span data-stu-id="cfb73-272">**CLEANAMP** – Set this property to _TRUE_ if you receive an error message when you try to do a PunchOut to a vendor, and the vendor's return URL includes incorrectly encoded ampersands (\&).</span></span>
- <span data-ttu-id="cfb73-273">**PUNCHOUTTZ** – Määritä tämän ominaisuuden arvoksi _TOSI_, jos toimittajasi käyttää International Organization for Standardizationin (ISO) standardia 8601 suorittaakseen erityisen tarkistuksen PunchOut-pyyntösanoman päivämäärälle/ajalle.</span><span class="sxs-lookup"><span data-stu-id="cfb73-273">**PUNCHOUTTZ** – Set this property to _TRUE_ if the vendor that you're working with uses the International Organization for Standardization (ISO) 8601 standard to do a specific validation of the date/time of PunchOut request message.</span></span> <span data-ttu-id="cfb73-274">Supply Chain Management käyttää Coordinated Universal Time (UTC) -päivämäärää **PunchOutSetupRequest**-sanomassa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-274">Supply Chain Management uses the Coordinated Universal Time (UTC) date in the **PunchOutSetupRequest** message.</span></span> <span data-ttu-id="cfb73-275">Siksi päivämäärä-/aikamuotoon lisätään *+00:00*, kun määrität tämän ominaisuuden arvoksi _TOSI_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-275">Therefore, when you set this property to _TRUE_, *+00:00* is added to the date/time format.</span></span>
- <span data-ttu-id="cfb73-276">**WMSADDRESSID** – Määritä tämän ominaisuuden arvoksi _TOSI_, kun haluat käyttää ostotilauksen osoitteen varastonumeroa **addressID**-arvona **ShipTo**-osoitteessa sen ostotilausehdotuksen osalta, joka lähetetään toimittajalle.</span><span class="sxs-lookup"><span data-stu-id="cfb73-276">**WMSADDRESSID** – Set this property to _TRUE_ to use the warehouse number on the purchase order header as the **addressID** value in the **ShipTo** address for the purchase order request that is sent to the vendor.</span></span> <span data-ttu-id="cfb73-277">Jos määrität arvon **FIXEDSHIPADDRESSID**-ominaisuudelle, kyseinen arvo on ensisijainen tähän arvoon nähden.</span><span class="sxs-lookup"><span data-stu-id="cfb73-277">If you set a value for the **FIXEDSHIPADDRESSID** property, that value takes precedence over this value.</span></span> <span data-ttu-id="cfb73-278">Siksi kannattaa käyttää yhtä ominaisuutta tai toista **addressID**-arvon määrittämisessä asiakirjan **ShipTo**-osoitteessa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-278">Therefore, you should use one property or the other to set the **addressID** value in the **ShipTo** address for the document.</span></span>
- <span data-ttu-id="cfb73-279">**PUNCHOUTSHIPTOUSER** – Tämä ominaisuus toimii yhdessä **PUNCHOUTSHIPTO**-omaisuuden kanssa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-279">**PUNCHOUTSHIPTOUSER** – This property works together with the **PUNCHOUTSHIPTO** property.</span></span> <span data-ttu-id="cfb73-280">Jos **PUNCHOUTSHIPTO**-ominaisuuden arvoksi määritetään _TOSI_, yrityksen osoite poimitaan.</span><span class="sxs-lookup"><span data-stu-id="cfb73-280">If **PUNCHOUTSHIPTO** is set to _TRUE_, the address for the legal entity is picked up.</span></span> <span data-ttu-id="cfb73-281">**PUNCHOUTSHIPTOUSER**-ominaisuuden arvoksi määritetään _TOSI_, PunchOut-käyttäjän ensisijaista osoitetta käytetään yrityksen osoitteen sijaan.</span><span class="sxs-lookup"><span data-stu-id="cfb73-281">If **PUNCHOUTSHIPTOUSER** is set to _TRUE_, the primary address from the PunchOut user is used instead of the legal entity address.</span></span>

### <a name="activate-the-external-catalog"></a><span data-ttu-id="cfb73-282">Ulkoisen luettelon aktivointi</span><span class="sxs-lookup"><span data-stu-id="cfb73-282">Activate the external catalog</span></span>

<span data-ttu-id="cfb73-283">Kun olet määrittänyt kaikki ominaisuudet ja ulkoisen luettelon muut asetukset, siirry takaisin **Ulkoiset luettelot** -sivun **Yleistä**-pikavälilehteen ja määritä **Aktiivinen**-asetuksen arvoksi *Kyllä*.</span><span class="sxs-lookup"><span data-stu-id="cfb73-283">When you've finished setting up all the properties and configuring other settings for your external catalog, go back to the **General** FastTab of the **External catalogs** page, and set the **Active** option to *Yes*.</span></span>

### <a name="attach-notes-to-a-purchase-order"></a><a name="attach-po-notes"></a><span data-ttu-id="cfb73-284">Muistiinpanojen liittäminen ostotilaukseen</span><span class="sxs-lookup"><span data-stu-id="cfb73-284">Attach notes to a purchase order</span></span>

<span data-ttu-id="cfb73-285">Kuten [Tilausten ominaisuuksien määrittäminen](#set-order-properties) -osassa mainitaan, voit määrittää ominaisuuden **POCOMMENTS** ja/tai ominaisuuden **VENDCOMMENTS** arvoksi _TOSI_ ulkoisen luettelon määrityksissä, jos haluat, että toimitettu cXML sisältää tekstiä siihen liittyvästä ostotilauksesta ja/tai toimittajatietueista.</span><span class="sxs-lookup"><span data-stu-id="cfb73-285">As was mentioned in the [Set the order properties](#set-order-properties) section, if you want your delivered cXML to include text from notes that are attached to the relevant purchase order and/or vendor records, you can set the **POCOMMENTS** and/or **VENDCOMMENTS** property to _TRUE_ in the external catalog setup.</span></span> <span data-ttu-id="cfb73-286">Tässä osassa on lis tietoja siitä, miten järjestelmä valitsee ja käsittelee nämä liitteet, jos niitä käytetään.</span><span class="sxs-lookup"><span data-stu-id="cfb73-286">This section provides more detail about how the system selects and processes these attachments, if you use them.</span></span>

<span data-ttu-id="cfb73-287">Voit määrittää kaikki järjestemlän etsimät muistiinpanotyypit kohdassa **Ostot ja hankinnat \> Määritys \> Lomakkeet \> Lomakkeen määritys**.</span><span class="sxs-lookup"><span data-stu-id="cfb73-287">To set the types of notes that the system will look for, go to **Procurement and sourcing \> Setup \> Forms \> From setup**.</span></span> <span data-ttu-id="cfb73-288">Määritä sitten **Ostotilaus** välilehdessä **Sisällytä tämäntyyppiset asiakirjat** kentän arvoksi niiden muistiinpanojen tyypit, joita haluat voida sisällyttää.</span><span class="sxs-lookup"><span data-stu-id="cfb73-288">Then, on the **Purchase order** tab, set the **Include documents of type** field to the type of note that you want to be able to include.</span></span> <span data-ttu-id="cfb73-289">Vain tekstihuomautukset sisällytetään, ei asiakirjaliitteitä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-289">Only text notes will be included, not document attachments.</span></span>

<span data-ttu-id="cfb73-290">![Lomakkeen määrityssivu](media/cxml-form-setup.png "Lomakkeen määrityssivu")</span><span class="sxs-lookup"><span data-stu-id="cfb73-290">![Form setup page](media/cxml-form-setup.png "Form setup page")</span></span>

<span data-ttu-id="cfb73-291">Ostotilaukset lisätään ostotilaukseen, vain, jos niiden **Tyyppi**-kentän arvona on se arvo, jonka valitset **Sisällytä tämäntyyppiset asiakirjat** -kentässä, ja niiden **Rajoitus**-kentän arvona on _Ulkoinen_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-291">Attachments will be included with a purchase order only if their **Type** field is set to the value that you select in the **Include documents of type** field, and if their **Restriction** field is set to _External_.</span></span> <span data-ttu-id="cfb73-292">Voit luoda, tarkastella tai muokata ostotilauksen liitteitä siirtymällä kohtaan **Ostot ja hankinnat \> Kaikki ostotilaukset**, valitsemalla tai luomalla ostotilauksen ja sitten valitsemalla **Liitteet**-painikkeen (paperiliitinsymboli) oikeassa yläkulmassa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-292">To create, view, or edit the attachments for a purchase order, go to **Procurement and sourcing \> All purchase orders**, select or create a purchase order, and then select the **Attachments** button (paperclip symbol) in the upper-right corner.</span></span>

<span data-ttu-id="cfb73-293">![Liitetty muistiinpano, joka on määritetty toimittajalle lähetettäväksi](media/cxml-note-to-vendor.png "Liitetty muistiinpano, joka on määritetty toimittajalle lähetettäväksi")</span><span class="sxs-lookup"><span data-stu-id="cfb73-293">![Attached note that is set up to be sent to a vendor](media/cxml-note-to-vendor.png "Attached note that is set up to be sent to a vendor")</span></span>

## <a name="view-the-cxml-cart-message-log-for-external-catalog-punchout"></a><a name="message-log"></a><span data-ttu-id="cfb73-294">Ulkoisen luettelon PunchOut-toiminnon cXML-ostoskorisanomalokin tarkastelu</span><span class="sxs-lookup"><span data-stu-id="cfb73-294">View the cXML cart message log for external catalog PunchOut</span></span>

<span data-ttu-id="cfb73-295">Kun **PunchOut-protokollatyyppi**-kenttä määritetään ulkoisen luettelon osalta arvoon _cXML_, järjestelmä tallentaa sanomalokin niistä ostoskoreista, jotka palautetaan toimittajilta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-295">When you set the **Punchout protocol type** field to _cXML_ for an external catalog, the system will capture a message log of the carts that come back from vendors.</span></span> <span data-ttu-id="cfb73-296">Tätä lokia voidaan käyttää vianmääritykseen ja muihin tietotarkoituksiin.</span><span class="sxs-lookup"><span data-stu-id="cfb73-296">This log can be used for troubleshooting and other data purposes.</span></span>

<span data-ttu-id="cfb73-297">Jos haluat avata ulkoisen luettelon lokin, valitse haluamasi luettelo ja valitse sitten toimintoruudussa **cXML-ostoskorin sanomaloki**.</span><span class="sxs-lookup"><span data-stu-id="cfb73-297">To open the log for an external catalog, select the relevant catalog, and then, on the Action Pane, select **cXML cart message log**.</span></span> <span data-ttu-id="cfb73-298">**cXML-ostoskorin sanomaloki** -sivulla näkyy luettelo palautetusta ostoskoreista, näihin ostoskoreihin liittyvän XML-tiedoston sekä rivit, jotka on luotu asiaan liittyvässä ostoehdotuksessa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-298">The **cXML cart message log** page shows a list of the carts that have been returned, the XML that is related to those carts, and the lines that were created on the related purchase requisition.</span></span>

<span data-ttu-id="cfb73-299">![cXML-ostoskorin sanomalokisivu](media/cxml-cart-message-log.png "cXML-ostoskorin sanomalokisivu")</span><span class="sxs-lookup"><span data-stu-id="cfb73-299">![cXML cart message log page](media/cxml-cart-message-log.png "cXML cart message log page")</span></span>

## <a name="set-the-extrinsic-elements-for-external-catalog-punchout"></a><span data-ttu-id="cfb73-300">Ulkoisen luettelon PunchOut-tominnon ulkoisten elementtien määrittäminen</span><span class="sxs-lookup"><span data-stu-id="cfb73-300">Set the extrinsic elements for external catalog PunchOut</span></span>

<span data-ttu-id="cfb73-301">Kun määrität **PunchOut-protokollattyypi**-kentän arvoksi *cXML* ulkoisen luettelon osalta, voit lisätä mukautettuja ulkoisia elementtejä, jotka lisätään oikeaan paikkaan puunnön XML-sanomassa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-301">When you set the **Punchout protocol type** field to *cXML* for an external catalog, you can add custom extrinsic elements that will be inserted at the correct place in the request XML message.</span></span>

<span data-ttu-id="cfb73-302">Voit lisätä ulkoisia elementtejä ulkoiseen luetteloon seuraavasti.</span><span class="sxs-lookup"><span data-stu-id="cfb73-302">To add extrinsic elements to an external catalog, follow these steps.</span></span>

1. <span data-ttu-id="cfb73-303">Siirry kohtaan **Ostot ja hankinnat \> Luettelot \> Ulkoiset luettelot**.</span><span class="sxs-lookup"><span data-stu-id="cfb73-303">Go to **Procurement and sourcing \> Catalogs \> External catalogs**.</span></span>
1. <span data-ttu-id="cfb73-304">Valitse haluamasi luettelo.</span><span class="sxs-lookup"><span data-stu-id="cfb73-304">Select the relevant catalog.</span></span>
1. <span data-ttu-id="cfb73-305">Valitse **Ulkoiset**-osan **Sanoman muoto** -pikavälilehdessä **Lisää** lisätäksesi rivin kunkin sellaisen ulkoisen elementin ruudukkoon, jonka haluat lisätä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-305">On the **Message format** FastTab, in the **Extrinsics** section, select **Add** to add a row to the grid for each extrinsic element that you want to include.</span></span> <span data-ttu-id="cfb73-306">Määritä kullakin rivillä seuraavat kentät:</span><span class="sxs-lookup"><span data-stu-id="cfb73-306">On each row, set the following fields:</span></span>

    - <span data-ttu-id="cfb73-307">**Nimi** – Syötä elementille nimi.</span><span class="sxs-lookup"><span data-stu-id="cfb73-307">**Name** – Enter a name for the element.</span></span> <span data-ttu-id="cfb73-308">Tästä arvosta tulee kullekin riville luotavan **Ulkoinen**-XML-elementin **Nimi**-määrite.</span><span class="sxs-lookup"><span data-stu-id="cfb73-308">This value will become the value of the **name** attribute for the **Extrinsic** XML element that is created by each row.</span></span> <span data-ttu-id="cfb73-309">Yleensä pyrit sopimaan kunkin ulkoisen elementin nimestä toimittajasi kanssa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-309">Usually, you will work with your vendor to agree on the name for each extrinsic element.</span></span>
    - <span data-ttu-id="cfb73-310">**Arvo** – Valitse elementin arvo.</span><span class="sxs-lookup"><span data-stu-id="cfb73-310">**Value** – Select a value for the element.</span></span> <span data-ttu-id="cfb73-311">Tästä arvosta tulee kullekin riville luotavan Ulkoinen-XML-elementin Nimi-määrite.</span><span class="sxs-lookup"><span data-stu-id="cfb73-311">This value will become the value of the XML element that is created by each row.</span></span> <span data-ttu-id="cfb73-312">Käytettävissä ovat seuraavat arvot:</span><span class="sxs-lookup"><span data-stu-id="cfb73-312">The following values are available:</span></span>

        - <span data-ttu-id="cfb73-313">**Käyttäjänimi** – Käytä PunchOut-toimintoa käyttävän käyttäjän nimeä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-313">**User name** – Use the name of the user who is doing the PunchOut.</span></span> <span data-ttu-id="cfb73-314">Tämä on kirjautumisnimi Supply Chain Managementia varten.</span><span class="sxs-lookup"><span data-stu-id="cfb73-314">This name is the sign-in name for Supply Chain Management.</span></span>
        - <span data-ttu-id="cfb73-315">**Käyttäjän sähköposti** – Käytä PunchOut-toimintoa käyttävän käyttäjän sähköpostiosoitetta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-315">**User email** – Use the email address of the user who is doing the PunchOut.</span></span> <span data-ttu-id="cfb73-316">Tämä osoite on osoite, jonka käyttäjä on määrittänyt **Käyttäjäasetukset**-sivun **Tili**-välilehdessä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-316">This address is the address that the user has set up on the **Account** tab of the **User options** page.</span></span>
        - <span data-ttu-id="cfb73-317">**Satunnaisarvo** – Käytä yksilöllistä satunnaisarvoa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-317">**Random value** – Use a unique random value.</span></span>
        - <span data-ttu-id="cfb73-318">**Käyttäjän koko nimi** – Käytä ulkoista luetteloa käyttävälle käyttäjälle määritetyn yhteyshenkilön koko nimeä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-318">**User full name** – Use the full name of the contact person who is associated with the user who is accessing the external catalog.</span></span>
        - <span data-ttu-id="cfb73-319">**Firstname** – Käytä ulkoista luetteloa käyttävälle käyttäjälle määritetyn yhteyshenkilön etunimeä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-319">**Firstname** – Use the first name of the contact person who is associated with the user who is accessing the external catalog.</span></span>
        - <span data-ttu-id="cfb73-320">**Lastname** – Käytä ulkoista luetteloa käyttävälle käyttäjälle määritetyn yhteyshenkilön sukunimeä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-320">**Lastname** – Use the last name of the contact person who is associated with the user who is accessing the external catalog.</span></span>
        - <span data-ttu-id="cfb73-321">**Puhelinnumero** – Käytä ulkoista luetteloa käyttävälle käyttäjälle määritetyn yhteyshenkilön ensisijaista puhelinnumeroa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-321">**Phone number** – Use the primary phone number of the contact person who is associated with the user who is accessing the external catalog.</span></span>

<span data-ttu-id="cfb73-322">![Ulkoisten elementtien asetukset](media/cxml-extrinsics.png "Ulkoisten elementtien asetukset")</span><span class="sxs-lookup"><span data-stu-id="cfb73-322">![Extrinsic element settings](media/cxml-extrinsics.png "Extrinsic element settings")</span></span>

<span data-ttu-id="cfb73-323">Käyttäjä tai järjestelmänvalvoja ei näe ulkoisia elementtejä, koska niitä ei lisätä, ennen kuin käyttäjä suorittaa PunchOut-toiminnon.</span><span class="sxs-lookup"><span data-stu-id="cfb73-323">The user or admin won't see the extrinsic elements, because they aren't added until the user does a PunchOut.</span></span> <span data-ttu-id="cfb73-324">Ne lisätään automaattisesti cXML-määritysmyyntösanoman elementtien **BuyerCookie** ja **BrowserFromPost** väliin.</span><span class="sxs-lookup"><span data-stu-id="cfb73-324">They will automatically be inserted between the **BuyerCookie** and **BrowserFromPost** elements in the cXML setup request message.</span></span> <span data-ttu-id="cfb73-325">Siksi niitä ei tarvitse määrittää manuaalisesti XML-tidostossa, kun määrität ulkoista luetteloa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-325">Therefore, you don't have to set them manually in the XML when you set up the external catalog.</span></span>

<span data-ttu-id="cfb73-326">![Ulkoiset elementit lisätään XML-tiedostoon](media/cxml-extrinsics-xml.png "Ulkoiset elementit lisätään XML-tiedostoon")</span><span class="sxs-lookup"><span data-stu-id="cfb73-326">![Extrinsic elements added to the XML](media/cxml-extrinsics-xml.png "Extrinsic elements added to the XML")</span></span>

## <a name="create-and-process-a-purchase-order"></a><a name="create-po"></a><span data-ttu-id="cfb73-327">Ostotilauksen luonti ja käsittely</span><span class="sxs-lookup"><span data-stu-id="cfb73-327">Create and process a purchase order</span></span>

<span data-ttu-id="cfb73-328">Kun luot toimittajalle ostotilauksen, siinä käytetään kyseisen toimittajan **Lähetä ostotilaus cXML:llä** -asetuksen määritystä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-328">When you create a purchase order for a vendor, it will inherit the setting of the **Send purchase order via cXML** option from that vendor.</span></span> <span data-ttu-id="cfb73-329">Asetus on kuitenkin edelleen kätettävissä ostotilauksen **Otsikko**-näkymän **Määritys**-pikavälilehdessä, joten voit muuttaa sitä myöhemmin tarpeen mukaan.</span><span class="sxs-lookup"><span data-stu-id="cfb73-329">However, the setting remains available on the **Setup** FastTab in the **Header** view of the purchase order, so that you can change it later as required.</span></span>

<span data-ttu-id="cfb73-330">![Ostotilaus määritetään käyttämään cXML:ää](media/cxml-purchase-order.png "Ostotilaus määritetään käyttämään cXML:ää")</span><span class="sxs-lookup"><span data-stu-id="cfb73-330">![Purchase order set to use cXML](media/cxml-purchase-order.png "Purchase order set to use cXML")</span></span>

<span data-ttu-id="cfb73-331">Kun luot ostotilauksen ostoehdotuksesta, joka on peräisin PunchOut-työnkulusta, kaikki pakolliset rivitiedot täytetään.</span><span class="sxs-lookup"><span data-stu-id="cfb73-331">When you create a purchase order from a purchase requisition that came from a PunchOut flow, all the required line details will be filled in.</span></span> <span data-ttu-id="cfb73-332">Tämän jälkeen voit lisätä ostotilausrivejä manuaalisesti tai kopioida niitä muista ostotilauksista.</span><span class="sxs-lookup"><span data-stu-id="cfb73-332">You can then manually add purchase order lines or copy them from other purchase orders.</span></span> <span data-ttu-id="cfb73-333">Muista määrittää kaikki pakolliset kentät.</span><span class="sxs-lookup"><span data-stu-id="cfb73-333">Be sure to set all required fields.</span></span> <span data-ttu-id="cfb73-334">Näihin pakollisiin kenttiin kuuluu ulkoinen viitenumero, joka on cXML-sanomassa käytettävä toimittajanumero.</span><span class="sxs-lookup"><span data-stu-id="cfb73-334">These required fields include the external reference number, which is the vendor number that will be used in the cXML message.</span></span>

<span data-ttu-id="cfb73-335">![Esimerkki ulkoisesta viitenumerosta](media/cxml-line-details.png "Esimerkki ulkoisesta viitenumerosta")</span><span class="sxs-lookup"><span data-stu-id="cfb73-335">![Example of an external reference number](media/cxml-line-details.png "Example of an external reference number")</span></span>

<span data-ttu-id="cfb73-336">Kun olet täyttänyt kaikki ostotilauksen tiedot, muista vahvistaa se.</span><span class="sxs-lookup"><span data-stu-id="cfb73-336">When you've finished filling in all the details for the purchase order, be sure to confirm it.</span></span> <span data-ttu-id="cfb73-337">Sanomaa ei lähetetä, ellei ostotilausta ole vahvistettu.</span><span class="sxs-lookup"><span data-stu-id="cfb73-337">No message is sent unless the purchase order is confirmed.</span></span> <span data-ttu-id="cfb73-338">Valitse toimintoruudussa **Osto**-välilehdellä **Toiminnot**-ryhmässä **Vahvista** vahvistaaksesi ostotilauksen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-338">To confirm a purchase order, on the Action Pane, on the **Purchase** tab, in the **Actions** group, select **Confirm**.</span></span> 

<span data-ttu-id="cfb73-339">Kun ostotilaus on vahvistettu, voit tarkastella vahvistuksen tilaa **Ostotilausvahvistukset** -kirjauskansioiden avulla.</span><span class="sxs-lookup"><span data-stu-id="cfb73-339">After the purchase order is confirmed, you can view the status of the confirmation through the **Purchase order confirmations** journals.</span></span> <span data-ttu-id="cfb73-340">Napsauta toimintoruudussa **Osto**-välilehdellä **Kirjauskansiot**-ryhmässä **Ostotilausvahvistukset**.</span><span class="sxs-lookup"><span data-stu-id="cfb73-340">On the Action Pane, on the **Purchase** tab, in the **Journals** group, select **Purchase order confirmations**.</span></span>

<span data-ttu-id="cfb73-341">Kullakin ostotilauksella voi olla useita vahvistuksia.</span><span class="sxs-lookup"><span data-stu-id="cfb73-341">Each purchase order can have many confirmations.</span></span> <span data-ttu-id="cfb73-342">Kukin vahvistus merkititään lisänumerolla.</span><span class="sxs-lookup"><span data-stu-id="cfb73-342">Each confirmation is marked with an incremental number.</span></span> <span data-ttu-id="cfb73-343">Seuraavassa kuvassa ostotilaus on *00000275* ja vahvistus *00000275-1*.</span><span class="sxs-lookup"><span data-stu-id="cfb73-343">In the following illustration, the purchase order is *00000275*, and the confirmation is *00000275-1*.</span></span> <span data-ttu-id="cfb73-344">Tämä numerointi vastaa Supply Chain Managementin vakiotoimintoa, jossa ostotilauksen muutokset ja siten toimittajalle lähetettävän cXML-sanoman tyyppi tunnistetaan vahvistuksen perusteella.</span><span class="sxs-lookup"><span data-stu-id="cfb73-344">This numbering reflects standard Supply Chain Management functionality, where changes in a purchase order, and therefore the type of cXML message that should be sent to the vendor, are identified based on the confirmation.</span></span> <span data-ttu-id="cfb73-345">Kuten kuvassa näkyy, **Ostotilausvahvistukset**-sivu sisältää myös kentät **Tilauksen lähetystila** ja **Tilauspyynnön toimittajan tila**.</span><span class="sxs-lookup"><span data-stu-id="cfb73-345">As the illustration shows, the **Purchase order confirmations** page also includes **Order send status** and **Order request vendor status** fields.</span></span> <span data-ttu-id="cfb73-346">Lisätietoja tällä sivulla mahdollisesti näkyvistä eri tila-arvoista esitetään myöhemmin tämän aiheen osassa [Ostotilauspyynöjen seuranta](#monitor-po-requests).</span><span class="sxs-lookup"><span data-stu-id="cfb73-346">For more information about the various status values that you might see on this page, see the [Monitor purchase order requests](#monitor-po-requests) section later in this topic.</span></span>

<span data-ttu-id="cfb73-347">![Ostotilausvahvistusten sivu](media/cxml-po-confirmations.png "Ostotilausvahvistusten sivu")</span><span class="sxs-lookup"><span data-stu-id="cfb73-347">![Purchase order confirmations page](media/cxml-po-confirmations.png "Purchase order confirmations page")</span></span>

<span data-ttu-id="cfb73-348">Jos haluat tarkastella lisätietoja asaikirjasta, valitse ruudukon yläpuolelta **Ostotilauspyyntö**.</span><span class="sxs-lookup"><span data-stu-id="cfb73-348">To view more information about the document, select **Purchase order request** above the grid.</span></span>

<span data-ttu-id="cfb73-349">**Ostotilauspyyntö**-sivulla on kaksi ruudukkoa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-349">The **Purchase order request** page includes two grids.</span></span> <span data-ttu-id="cfb73-350">Sivun yläosassa olevalla ruudukolla on yksi tietue kutakin lähetettäväksi merkittyä ostotilausta varten.</span><span class="sxs-lookup"><span data-stu-id="cfb73-350">The grid in the upper part of the page has one record for each purchase order that is marked for sending.</span></span> <span data-ttu-id="cfb73-351">Sivun alaosan **Ostotilauspyyntöjen historia** -välilehden ruudukossa voi olla useita tietueita valitulle ostotilaukselle, jotta kunkin vahvistuksen tila ilmaistaisiin.</span><span class="sxs-lookup"><span data-stu-id="cfb73-351">The grid on the **Purchase order request history** tab in the lower part of the page might have several records for the selected purchase order, to indicate the status of each confirmation.</span></span> <span data-ttu-id="cfb73-352">Seuraavassa kuvassa näkyy ostotilaus 00000275 yläruudukossa ja tiedosto 00000275-1 **Ostotilauspyyntöjen historia** -välilehden ruudukossa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-352">The following illustration shows purchase order 00000275 in the upper grid and document 00000275-1 in the grid on the **Purchase order request history** tab.</span></span>

<span data-ttu-id="cfb73-353">![Ostotilauspyyntöjen sivu](media/cxml-po-request.png "Ostotilauspyyntöjen sivu")</span><span class="sxs-lookup"><span data-stu-id="cfb73-353">![Purchase order request page](media/cxml-po-request.png "Purchase order request page")</span></span>

<span data-ttu-id="cfb73-354">Jos erätyö on määritetty ja sitä suoritetaan, asiakirja lähetetään.</span><span class="sxs-lookup"><span data-stu-id="cfb73-354">If the batch job is set up and running, the document will be sent.</span></span> <span data-ttu-id="cfb73-355">Voit tarkastella tilan muutosta, kun asiakirja on lähetetty.</span><span class="sxs-lookup"><span data-stu-id="cfb73-355">You can view the status change after the document has been sent.</span></span> <span data-ttu-id="cfb73-356">Seuraavassa kuvassa **Tilauksen lähetysarvo**-kentän arvona on _Lähetetty_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-356">In the following illustration, the **Order send status** field is set to _Sent_.</span></span> <span data-ttu-id="cfb73-357">**Tilauspyynnön toimittajan tila** -kentän arvona on _Kuitattu_, millä ilmaistaan, että toimittaja on saanut asiakirjan ja on pystynt lukemaan sen ja tallentamaan sen järjestelmään.</span><span class="sxs-lookup"><span data-stu-id="cfb73-357">The **Order request vendor status** field is set to _Acknowledged_ to indicate that the vendor received the document, and was able to read it and store it in its system.</span></span> <span data-ttu-id="cfb73-358">**Ostotilauspyyntöjen historia** -välilehdessä näkyy aika, jona asiakirja lähetettiin.</span><span class="sxs-lookup"><span data-stu-id="cfb73-358">The grid on the **Purchase order request history** tab shows the time when the document was sent.</span></span> <span data-ttu-id="cfb73-359">Lisätietoja tällä sivulla mahdollisesti näkyvistä eri tila-arvoista esitetään osassa [Ostotilauspyynöjen seuranta](#monitor-po-requests).</span><span class="sxs-lookup"><span data-stu-id="cfb73-359">For more information about the various status values that you might see on this page, see the [Monitor purchase order requests](#monitor-po-requests) section.</span></span>

<span data-ttu-id="cfb73-360">![Tilasanomat ostotilauspyyntöjen sivulla](media/cxml-po-request-2.png "Tilasanomat ostotilauspyyntöjen sivulla")</span><span class="sxs-lookup"><span data-stu-id="cfb73-360">![Status messages on the Purchase order request page](media/cxml-po-request-2.png "Status messages on the Purchase order request page")</span></span>

## <a name="schedule-the-purchase-order-request-batch-job"></a><a name="po-batch"></a><span data-ttu-id="cfb73-361">Ostotilauspynnön erätyön ajoittaminen</span><span class="sxs-lookup"><span data-stu-id="cfb73-361">Schedule the Purchase order request batch job</span></span>

<span data-ttu-id="cfb73-362">Voit aktivoida ostotilauspyyntöjen lähettämisen erätyön siirtymällä kohtaan **Ostot ja hankinnat \> Määritys \> cXML-hallinta \> Ostotilauspyyntö** ja valitsemalla sitten toimintouudussa **Ostotilauspyyntö**-välilehdessä **Erä**-ryhmän ja sitten **Lähetä työ**, jolloin **Ostotilauksen valmsitelu ja lähetys** -valintaikkuna aukeaa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-362">To activate the batch job for sending purchase order requests, go to **Procurement and sourcing \> Setup \> cXML Management \> Purchase order request**, and then, on the Action Pane, on the **Purchase order request** tab, in the **Batch** group, select **Submit job** to open the **Purchase request prepare and send** dialog box.</span></span> <span data-ttu-id="cfb73-363">Tämän valint ikkunan avulla voit määrittää toistumisen samalla tavalla kuin yleensä tehdään erätöille Supply Chain Managementissa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-363">You can use this dialog box to set up the recurrence, just as you usually do for batch jobs in Supply Chain Management.</span></span> <span data-ttu-id="cfb73-364">Valitse toistoväli tilausmäärän perusteella.</span><span class="sxs-lookup"><span data-stu-id="cfb73-364">Select an interval, based on your order volume.</span></span> <span data-ttu-id="cfb73-365">Vaikka voit suorittaa erätyön joka minuutti, lienee parasta lähettää eriä koko työpäivän ajan toimittajien aikatauluja vastaavien tilausten vastaanottoikkunoiden perusteella.</span><span class="sxs-lookup"><span data-stu-id="cfb73-365">Although you can run the batch job every minute, it's probably best to send batches throughout the business day, based on order receipt windows that match your vendors' schedules.</span></span>

<span data-ttu-id="cfb73-366">Toimittajalla voi esimerkiksi olla käytäntö, jonka mukaan kaikki tilaukset, jotka vastaanotetaan klo 13.00 mennessä, lähetetään samana päivänä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-366">For example, your vendor has a policy that states that all orders that are received by 1 PM will be shipped on the same day.</span></span> <span data-ttu-id="cfb73-367">Tällöin saatat joutua suorittamaan erän vain muutaman kerran aamulla ilmoittaksesi kaikki tilauksesi.</span><span class="sxs-lookup"><span data-stu-id="cfb73-367">In this case, you might have to run the batch only a few times during the morning to communicate any orders that you have.</span></span> <span data-ttu-id="cfb73-368">Jäljelle jäävät tilaukset lähetetään seuraavana päivänä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-368">The remaining orders will then be sent the next day.</span></span> <span data-ttu-id="cfb73-369">Tämä päätös on puhtaasti liiketoiminnallinen päätös.</span><span class="sxs-lookup"><span data-stu-id="cfb73-369">This decision is purely a business decision.</span></span> <span data-ttu-id="cfb73-370">Voit tarkistaa sen ja määrittää parametrit tarkistuksen mukaisesti.</span><span class="sxs-lookup"><span data-stu-id="cfb73-370">You can review it and set the parameters for it accordingly.</span></span>

<span data-ttu-id="cfb73-371">Prosessi etsii osto tilauspyyntöasiakirjoja, joiden tila on *Odottaa*.</span><span class="sxs-lookup"><span data-stu-id="cfb73-371">The process will look for purchase order request documents that have a status of *Waiting*.</span></span> <span data-ttu-id="cfb73-372">Jos sinulla on tilaus, joka on lähetettävä toimittajalle heti, voit valita **Lähetä työ** ja määrittää **Eräkäsittely**-asetukseksi *Ei*.</span><span class="sxs-lookup"><span data-stu-id="cfb73-372">If you have an order that you must send to a vendor immediately, you can select **Submit job** and set the **Batch processing** option to *No*.</span></span>

## <a name="monitor-purchase-order-requests"></a><a name="monitor-po-requests"></a><span data-ttu-id="cfb73-373">Ostotilauspyyntöjen seuranta</span><span class="sxs-lookup"><span data-stu-id="cfb73-373">Monitor purchase order requests</span></span>

### <a name="view-the-status-of-a-purchase-order"></a><span data-ttu-id="cfb73-374">Ostotilauksen tilan tarkasteleminen</span><span class="sxs-lookup"><span data-stu-id="cfb73-374">View the status of a purchase order</span></span>

<span data-ttu-id="cfb73-375">Kun cXML:llä lähetettävissä olevat tilaukset vahvistetaan, ne siirtyvät _Odottaa_-tilaan.</span><span class="sxs-lookup"><span data-stu-id="cfb73-375">When orders that can be sent via cXML are confirmed, they go into _Waiting_ status.</span></span> <span data-ttu-id="cfb73-376">Kuten esitimme [Ostotilauksen luominen ja käsitteleminen](#create-po) -osassa, voit tarkastella ostotilauksen tilaa **Ostotilauspyyntö**-sivulla.</span><span class="sxs-lookup"><span data-stu-id="cfb73-376">As was described in the [Create and process a purchase order](#create-po) section, you can view the purchase order status on the **Purchase order request** page.</span></span> <span data-ttu-id="cfb73-377">Kullakin ostotilauspyynnöllä voi olla yksi useista tiloista sen parametreista ja tiedoista riippuen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-377">Each purchase order request can have one of several statuses, depending on its parameters and data.</span></span> <span data-ttu-id="cfb73-378">Tässä osassa kuvataan eri tila tyyppejä ja arvoja, joita niillä voi olla.</span><span class="sxs-lookup"><span data-stu-id="cfb73-378">This section describes the various status types and the values that they can have.</span></span> <span data-ttu-id="cfb73-379">Näiden tietojen avulla voit hallita ongelmia ja ymmärtää ostotilausten tilan.</span><span class="sxs-lookup"><span data-stu-id="cfb73-379">This information can help you manage issues and understand the status of your purchase orders.</span></span>

<span data-ttu-id="cfb73-380">![Ostotilauksen tila ostotilauspyyntöjen sivulla](media/cxml-monitor-po-request.png "Ostotilauksen tila ostotilauspyyntöjen sivulla")</span><span class="sxs-lookup"><span data-stu-id="cfb73-380">![Purchase order status on the Purchase order request page](media/cxml-monitor-po-request.png "Purchase order status on the Purchase order request page")</span></span>

<span data-ttu-id="cfb73-381">**Ostotilauspyyntö**-sivun yläosan ruudukossa voivat näkytä seuraavat tila-arvot:</span><span class="sxs-lookup"><span data-stu-id="cfb73-381">The grid in the upper part of the **Purchase order request** page might show the following status values:</span></span>

- <span data-ttu-id="cfb73-382">**Tilauksen lähetystila** – Tällä kentällä voi olla jokin seuraavista arvoista:</span><span class="sxs-lookup"><span data-stu-id="cfb73-382">**Order send status** – This field can have one of the following values:</span></span>

    - <span data-ttu-id="cfb73-383">**Odottaa** – Asiakirja odottaa lähettämistä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-383">**Waiting** – The document is waiting to be sent.</span></span>
    - <span data-ttu-id="cfb73-384">**Lähetetty** – Asiakirja on lähetetty.</span><span class="sxs-lookup"><span data-stu-id="cfb73-384">**Sent** – The document has been sent.</span></span>
    - <span data-ttu-id="cfb73-385">**Pysäytetty** – Asiakirja on merkitty tilaan _Pysäytetty_ ennen lähettämistään.</span><span class="sxs-lookup"><span data-stu-id="cfb73-385">**Stopped** – The document was marked as _Stopped_ before it was sent.</span></span> <span data-ttu-id="cfb73-386">(Asiakirja merkitään _Pysäytetty_-tilaan valitsemalla **Pysäytä** **Ostotilauspyyntö**-sivulla.)</span><span class="sxs-lookup"><span data-stu-id="cfb73-386">(To mark a document as _Stopped_, select **Stop** on the Action Pane of the **Purchase request** page.)</span></span>
    - <span data-ttu-id="cfb73-387">**Arkisto** – Asiakirja on tyhjennetty.</span><span class="sxs-lookup"><span data-stu-id="cfb73-387">**Archive** – The document has been purged.</span></span> <span data-ttu-id="cfb73-388">(Asiakirja ttyhjennetään valitsemalla **Tyhjennä** **Ostotilauspyyntö**-sivulla.)</span><span class="sxs-lookup"><span data-stu-id="cfb73-388">(To purge a document, select **Purge** on the Action Pane of the **Purchase request** page.)</span></span>

- <span data-ttu-id="cfb73-389">**Tilauspyynnön toimittajan tila** – Tällä kentällä voi olla jokin seuraavista arvoista:</span><span class="sxs-lookup"><span data-stu-id="cfb73-389">**Order request vendor status** – This field can have one of the following values:</span></span>

    - <span data-ttu-id="cfb73-390">**Odottaa** – Asiakirja odottaa lähettämistä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-390">**Waiting** – The document is waiting to be sent.</span></span>
    - <span data-ttu-id="cfb73-391">**Kuitattu** – Asiakirja on kuitattu toimittajan vastaanottamaksi.</span><span class="sxs-lookup"><span data-stu-id="cfb73-391">**Acknowledged** – The document has been acknowledged as received by the vendor.</span></span> <span data-ttu-id="cfb73-392">Voit tarkistaa toimittan palauttaman yksityiskohtaisen XML-sanoman valitsemalla **Vastaus-XML**-välilehden sivun alaosasta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-392">You can review the detailed XML message that is returned from the vendor by selecting the **Response XML** tab in the lower part of the page.</span></span>
    - <span data-ttu-id="cfb73-393">**Virhe** – Asaikirja lähetettiin toimittajalle, mutta tapahtui virhe.</span><span class="sxs-lookup"><span data-stu-id="cfb73-393">**Error** – The document was sent to the vendor, but an error occurred.</span></span> <span data-ttu-id="cfb73-394">Voit tarkistaa virhesanoman valitsemalla **Vastaus-XML**-välilehden sivun alaosasta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-394">You can review the error message by selecting the **Response XML** tab in the lower part of the page.</span></span>

<span data-ttu-id="cfb73-395">**Ostotilauspyyntö**-sivun alaosan ruudukossa **Ostotilauspyyntöjen historia** -välilehdessä voi olla jokin seuraavista arvoista:</span><span class="sxs-lookup"><span data-stu-id="cfb73-395">The grid on the **Purchase order request history** tab in the lower part of the **Purchase order request** page might show the following values:</span></span>

- <span data-ttu-id="cfb73-396">**Tilauspyynnön tyyppi** – Tällä kentällä voi olla jokin seuraavista arvoista:</span><span class="sxs-lookup"><span data-stu-id="cfb73-396">**Order request type** – This field can have one of the following values:</span></span>

    - <span data-ttu-id="cfb73-397">**Uusi** – Rivi merkitään uudeksi heti, kun ostotilaus on vahvistettu.</span><span class="sxs-lookup"><span data-stu-id="cfb73-397">**New** – The line is marked as new immediately after the purchase order is confirmed.</span></span>
    - <span data-ttu-id="cfb73-398">**Päivitys** – Jos vahvistus on jo lähetetty ja toimittaja on kuitannut sen, seuraavan vahvistuksen arvoksi merkitään _Päivitetty_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-398">**Update** – If a confirmation has already been sent and acknowledged by the vendor, the next confirmation will be marked as _Update_.</span></span> <span data-ttu-id="cfb73-399">Päivitykset lähetetään vain, jos **Lähetä ostopyyntöpäivityksiä** -asetuksen arvoksi on määritetty *Kyllä* [Yleisissä cXML-parametreissa](#cxml-parameters).</span><span class="sxs-lookup"><span data-stu-id="cfb73-399">Updates will be sent only if the **Send purchase request updates** option is set to *Yes* in the [global cXML parameters](#cxml-parameters).</span></span>
    - <span data-ttu-id="cfb73-400">**Poista** – Jos vahvistus on jo lähetetty ja toimittaja on vahvistanut sen, mutta ostotilaus perutaan, odottavan vahvistuksen arvona on _Poista_.</span><span class="sxs-lookup"><span data-stu-id="cfb73-400">**Delete** – If a confirmation has already been sent and acknowledged by the vendor, but the purchase order is canceled, the confirmation that is waiting will be marked as _Delete_.</span></span> <span data-ttu-id="cfb73-401">Poistot lähetetään vain, jos **Lähetä ostopyyntöpoistoja** -asetuksen arvoksi on määritetty *Kyllä* [Yleisissä cXML-parametreissa](#cxml-parameters).</span><span class="sxs-lookup"><span data-stu-id="cfb73-401">Deletions will be sent only if the **Send purchase request delete** option is set to *Yes* in the [global cXML parameters](#cxml-parameters).</span></span>

- <span data-ttu-id="cfb73-402">**Pyynnön aika** – Aika, jolloin tilausvahvistus on luotu.</span><span class="sxs-lookup"><span data-stu-id="cfb73-402">**Request time** – The time when the order confirmation was created.</span></span> <span data-ttu-id="cfb73-403">Voit verrata pyynnön aikaa tilauksen tilan aikaan ja määrittää vahvistuksen ja toimittajan kuittauksen välisen ajan sen perusteella.</span><span class="sxs-lookup"><span data-stu-id="cfb73-403">You can compare the request time with the order status time to determine the time between confirmation and vendor acknowledgment.</span></span>
- <span data-ttu-id="cfb73-404">**Tilauksen lähetystila** – Tämä kenttä on sama kuin **Tilauksen lähetystila** -kenttä sivun yläosassa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-404">**Order send status** – This field is the same as the **Order send status** field in the upper part of the page.</span></span> <span data-ttu-id="cfb73-405">Se toistuu tässä, jotta sitä voidaan helpommin tarkastella vahvistuksen tasolla.</span><span class="sxs-lookup"><span data-stu-id="cfb73-405">It's repeated here to make it easier to view the status at the confirmation level.</span></span> <span data-ttu-id="cfb73-406">Jos **Tilauspyynnön tyyppi** -kentän arvona on *Uusi* ja ostotilaus on vahvistettu uudelleen ennen vahvistuksen lähettämistä, **Tilausksen lähetystila**-kentän arvona on *Arkisto*.</span><span class="sxs-lookup"><span data-stu-id="cfb73-406">If the **Order request type** field is set to *New*, and the purchase order is reconfirmed before a confirmation is sent, the **Order send status** field is set to *Archive*.</span></span>
- <span data-ttu-id="cfb73-407">**Tilauksen tilan aika** – Aika, jolloin ostotilauspyynnön historiatietue on viimeksi päivitetty.</span><span class="sxs-lookup"><span data-stu-id="cfb73-407">**Order status time** – The time when the purchase order request history record was last updated.</span></span> <span data-ttu-id="cfb73-408">(Tilamuutokset lasketaan päivityksiksi.)</span><span class="sxs-lookup"><span data-stu-id="cfb73-408">(The updates include status changes.)</span></span>
- <span data-ttu-id="cfb73-409">**Tilauspyynnön toimittajan tila** – Tämä kenttä on sama kuin **Tilauspyynnön toimittajan tila** -kenttä sivun yläosassa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-409">**Order request vendor status** – This field is the same as the **Order request vendor status** field in the upper part of the page.</span></span> <span data-ttu-id="cfb73-410">Se toistuu tässä, jotta sitä voidaan helpommin tarkastella vahvistuksen tasolla.</span><span class="sxs-lookup"><span data-stu-id="cfb73-410">It's repeated here to make it easier to view the status at the confirmation level.</span></span>
- <span data-ttu-id="cfb73-411">**Uudelleenlähetyksen aika** – Aika, jolloin tietue on lähetetty uudelleen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-411">**Re-submit time** – The time when the record was resubmitted.</span></span>
- <span data-ttu-id="cfb73-412">**Uudelleenlähetysten määrä** – Se, kuinka usein tietue on lähetetty uudelleen.</span><span class="sxs-lookup"><span data-stu-id="cfb73-412">**Re-submit count** – The number of times that the record has been resubmitted.</span></span> <span data-ttu-id="cfb73-413">Suuri määrä viittaa useisiin virheisiin ja siten mahdolliseen ongelmaan joko sinun tai toimittajan tietomäärityksessä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-413">A high number indicates multiple failures, and therefore might indicate an issue with either your data setup or your vendor's data setup.</span></span>

### <a name="view-the-xml-for-a-purchase-order-request-message"></a><span data-ttu-id="cfb73-414">Ostotilauspyyntösanoman XML-tiedoston tarkasteleminen</span><span class="sxs-lookup"><span data-stu-id="cfb73-414">View the XML for a purchase order request message</span></span>

<span data-ttu-id="cfb73-415">Voit tarkastella ostopyyntösanoman XML-tiedostao valitsemalla **Pyydä XML-teksti** -välilehti **Ostotilauspyyntö**-sivun alaosasta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-415">To view the XML for the purchase order request message, select the **Request XML text** tab at the bottom of the **Purchase order request** page.</span></span> <span data-ttu-id="cfb73-416">Tämän välilehden tiedoista voi olla hyötyä testauksen tai virheiden tarkistamisen yhteydessä.</span><span class="sxs-lookup"><span data-stu-id="cfb73-416">The information on this tab can be helpful during testing or error validation.</span></span> <span data-ttu-id="cfb73-417">Jos haluat helpottaa tietojen lukemista, voit tarkastella sitä muotoiltuna sanomana.</span><span class="sxs-lookup"><span data-stu-id="cfb73-417">To make the information easier to read, you can view it as a formatted message.</span></span> <span data-ttu-id="cfb73-418">Kopioi välilehden sisältö tekstitiedostoon ja avaa se sitten XML-editorissa.</span><span class="sxs-lookup"><span data-stu-id="cfb73-418">Copy the contents of the tab to a text file, and then view it in an XML editor.</span></span>

<span data-ttu-id="cfb73-419">![XML-tekstin pyytämisen välilehti](media/cxml-request-xml-text.png "XML-tekstin pyytämisen välilehti")</span><span class="sxs-lookup"><span data-stu-id="cfb73-419">![Request XML text tab](media/cxml-request-xml-text.png "Request XML text tab")</span></span>

### <a name="view-the-details-of-the-vendor-response"></a><span data-ttu-id="cfb73-420">Toimittajan vastauksen tietojen tarkastelu</span><span class="sxs-lookup"><span data-stu-id="cfb73-420">View the details of the vendor response</span></span>

<span data-ttu-id="cfb73-421">Voit tarkastella toimittajan kuittauksen tai virhevastauksen valitsemalla **Vastaus-XML** -välilehden **Ostotilauspyyntö**-sivun alaosasta.</span><span class="sxs-lookup"><span data-stu-id="cfb73-421">To view the content of a vendor acknowledgment or error response, select the **Response XML** tab at the bottom of the **Purchase order request** page.</span></span>

<span data-ttu-id="cfb73-422">![Vastau-XML-välilehti](media/cxml-response-xml.png "Vastau-XML-välilehti")</span><span class="sxs-lookup"><span data-stu-id="cfb73-422">![Response XML tab](media/cxml-response-xml.png "Response XML tab")</span></span>

## <a name="additional-resources"></a><span data-ttu-id="cfb73-423">Lisäresurssit</span><span class="sxs-lookup"><span data-stu-id="cfb73-423">Additional resources</span></span>

- [<span data-ttu-id="cfb73-424">Sähköiseen hankintaan siirtymisessä käytettyjen ulkoisten luetteloiden määrittäminen</span><span class="sxs-lookup"><span data-stu-id="cfb73-424">Set up an external catalog for PunchOut e-procurement</span></span>](set-up-external-catalog-for-punchout.md)
- [<span data-ttu-id="cfb73-425">Siirtyminen sähköiseen hankintaan ulkoisten luetteloiden avulla</span><span class="sxs-lookup"><span data-stu-id="cfb73-425">Use external catalogs for PunchOut e-procurement</span></span>](use-external-catalogs-for-punchout.md)


[!INCLUDE[footer-include](../../includes/footer-banner.md)]