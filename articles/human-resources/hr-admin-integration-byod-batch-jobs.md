---
title: Aikataulutettujen BYOD-erätöiden optimointi
description: Tässä ohjeaiheessa käsitellään suorituskyvyn optimointia käytettäessä oman tietokannan tuontitoimintoa (BYOD) Microsoft Dynamics 365 Human Resourcesissa.
author: andreabichsel
ms.date: 08/17/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: anbichse
ms.search.scope: Human Resources
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anbichse
ms.search.validFrom: 2020-08-10
ms.dyn365.ops.version: Platform update 36
ms.openlocfilehash: 0c29d68b29475c2c7040d06e60f7624c49a42002
ms.sourcegitcommit: 6c2f5c3b038f696532c335e20b0fbafa155d6858
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 04/27/2021
ms.locfileid: "5951929"
---
# <a name="optimize-byod-scheduled-batch-jobs"></a><span data-ttu-id="8f954-103">Aikataulutettujen BYOD-erätöiden optimointi</span><span class="sxs-lookup"><span data-stu-id="8f954-103">Optimize BYOD scheduled batch jobs</span></span>

[!include [Applies to Human Resources](../includes/applies-to-hr.md)]

<span data-ttu-id="8f954-104">Tässä ohjeaiheessa käsitellään suorituskyvyn optimointia käytettäessä oman tietokannan tuontitoimintoa (BYOD).</span><span class="sxs-lookup"><span data-stu-id="8f954-104">This topic explains how to optimize performance when you're using the bring your own database (BYOD) feature.</span></span> <span data-ttu-id="8f954-105">Lisätietoja oman tietokannan tuonnista on kohdassa [Oman tietokannan tuonti (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8f954-105">For more information about BYOD, see [Bring your own database (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

## <a name="performance-considerations-for-data-export"></a><span data-ttu-id="8f954-106">Tietojen viennin suorituskykyyn liittyviä tietoja</span><span class="sxs-lookup"><span data-stu-id="8f954-106">Performance considerations for data export</span></span>

<span data-ttu-id="8f954-107">Kun entiteetit on julkaistu kohdetietokantaan, tiedot voidaan siirtää **Tiedonhallinta**-työtilan vientitoiminnolla.</span><span class="sxs-lookup"><span data-stu-id="8f954-107">After entities are published to the destination database, you can use the Export function in the **Data management** workspace to move data.</span></span> <span data-ttu-id="8f954-108">Vientitoiminnolla voi määrittää vähintään yhden entiteetin sisältävän tietojen siirtotyön.</span><span class="sxs-lookup"><span data-stu-id="8f954-108">The Export function lets you define a Data movement job that contains one or more entities.</span></span> <span data-ttu-id="8f954-109">Lisätietoja tietojen viennistä on kohdassa [Tietojen tuonti- ja vientitöiden yleiskatsaus](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8f954-109">For more information about data export, see [Data import and export jobs overview](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="8f954-110">Voit viedä tietoja **Vie**-sivulla erilaisiin kohdetietomuotoihin, kuten CSV-tiedostoon.</span><span class="sxs-lookup"><span data-stu-id="8f954-110">You can use the **Export** page to export data into different target data formats, such as a comma-separated values (CSV) file.</span></span> <span data-ttu-id="8f954-111">Tämä sivu tukee myös SQL-tietokantoja toisena kohteena.</span><span class="sxs-lookup"><span data-stu-id="8f954-111">This page also supports SQL databases as another destination.</span></span>

<span data-ttu-id="8f954-112">Voit luoda tietoprojektin, jossa on useita entiteettejä, ja käyttää erätyötä aikatauluttamaan kyseisen tietoprojektin suorittamisen.</span><span class="sxs-lookup"><span data-stu-id="8f954-112">You can create a data project that has multiple entities and use a batch job to schedule that data project to run.</span></span> <span data-ttu-id="8f954-113">Jos valitset **Vienti eräajona** -vaihtoehdon, voit aikatauluttaa tietojen vientityön säännöllisesti suoritettavaksi.</span><span class="sxs-lookup"><span data-stu-id="8f954-113">If you select the **Export in batch** option, you can schedule the data export job to run periodically.</span></span>

<span data-ttu-id="8f954-114">Voit parantaa oman tietokannan viennin luotettavuutta harkitsemalla huolellisesti useiden entiteettien lisäämistä vientiprojektiin.</span><span class="sxs-lookup"><span data-stu-id="8f954-114">To help preserve the overall reliability of the BYOD export, you must be careful when you add multiple entities to an export project.</span></span> <span data-ttu-id="8f954-115">Seuraavat parametrit kannattaa ottaa huomioon, kun pohditaan samaan projektiin lisättävien entiteettien määrää:</span><span class="sxs-lookup"><span data-stu-id="8f954-115">When you're determining the number of entities to add to the same project, consider the following parameters:</span></span>

- <span data-ttu-id="8f954-116">Entiteettien monimutkaisuus</span><span class="sxs-lookup"><span data-stu-id="8f954-116">The complexity of the entities</span></span>
- <span data-ttu-id="8f954-117">Odotettava entiteettikohtainen tietomäärä</span><span class="sxs-lookup"><span data-stu-id="8f954-117">The expected data volume per entity</span></span>
- <span data-ttu-id="8f954-118">Kokonaisaika, joka tarvitaan viennin valmistumiseen työtasolla</span><span class="sxs-lookup"><span data-stu-id="8f954-118">The overall time that will be required to complete the export at the job level</span></span>

<span data-ttu-id="8f954-119">Suorituskyky pysyy hyvänä, kun yhteen projektiin ei lisätä satoja entiteettejä.</span><span class="sxs-lookup"><span data-stu-id="8f954-119">For the best performance, avoid adding hundreds of entities to a single project.</span></span> <span data-ttu-id="8f954-120">Onkin suositeltavaa luoda useita töitä, joissa missään ei ole runsaasti entiteettejä.</span><span class="sxs-lookup"><span data-stu-id="8f954-120">We recommend that you create multiple jobs, each of which contains fewer entities.</span></span>

## <a name="scheduling-byod-batch-jobs"></a><span data-ttu-id="8f954-121">BYOD-erätöiden aikatauluttaminen</span><span class="sxs-lookup"><span data-stu-id="8f954-121">Scheduling BYOD batch jobs</span></span>

<span data-ttu-id="8f954-122">Voit vähentää vaikutusta Microsoft Dynamics 365 Human Resourcesin käyttäjiin suorittamalla BYOD-erätyöt öisin ja työajan ulkopuolella.</span><span class="sxs-lookup"><span data-stu-id="8f954-122">To help reduce the impact on users of Microsoft Dynamics 365 Human Resources, run BYOD batch jobs at night or after hours.</span></span> <span data-ttu-id="8f954-123">Muista tarkistaa toistuvien erätöiden aikavyöhyke.</span><span class="sxs-lookup"><span data-stu-id="8f954-123">Be sure to check the time zone for recurring batch jobs.</span></span> <span data-ttu-id="8f954-124">Jotkin erätyöt voivat käyttää Pacific Standard Time (PST) -aikaa.</span><span class="sxs-lookup"><span data-stu-id="8f954-124">Some batch jobs might use Pacific Standard Time (PST).</span></span>

<span data-ttu-id="8f954-125">Suorituskykyongelmia voidaan välttää, kun seuraavat otetaan huomioon BYOD-erätöiden aikataulutusvälejä määritettäessä:</span><span class="sxs-lookup"><span data-stu-id="8f954-125">To help avoid performance issues, consider the following factors when you configure the scheduling frequency for BYOD batch jobs:</span></span>

- <span data-ttu-id="8f954-126">Kunkin erätyön suorittamiseen tarvittava aika</span><span class="sxs-lookup"><span data-stu-id="8f954-126">The time that is required to complete each batch job</span></span>
- <span data-ttu-id="8f954-127">Omassa tietokannassa tuotavien tietojen liiketoimintatarve</span><span class="sxs-lookup"><span data-stu-id="8f954-127">The business need for the data in BYOD</span></span>

<span data-ttu-id="8f954-128">Määritä kunkin erätyön toistumisarvo siten, että se varmistaa työn valmistumisen selvästi ennen seuraavaa aikataulutettua ajoa.</span><span class="sxs-lookup"><span data-stu-id="8f954-128">Set the frequency for each batch job to a value that ensures that the job can be completed well before its next scheduled run time.</span></span> <span data-ttu-id="8f954-129">Vältä useiden töiden rinnakkaista suorittamista, sillä se voi heikentää Human Resourcesin suorituskykyä.</span><span class="sxs-lookup"><span data-stu-id="8f954-129">Avoid running multiple jobs in parallel, because this approach can negatively affect the performance of Human Resources.</span></span>

<span data-ttu-id="8f954-130">Suorituskyky pysyy hyvänä, kun BYOD-erätöiden aikataulutuksessa käytetään aina **Vienti**-sivun **Vienti eräajona** -vaihtoehtoa.</span><span class="sxs-lookup"><span data-stu-id="8f954-130">For the best performance, always use the **Export in batch** option on the **Export** page to schedule BYOD batch jobs.</span></span> <span data-ttu-id="8f954-131">Vältä toistuvien vientien aikatauluttamista kohdassa **Hallinta \> Toistuvien tietotöiden hallinta**.</span><span class="sxs-lookup"><span data-stu-id="8f954-131">Avoid scheduling recurring exports at **Manage \> Manage recurring data jobs**.</span></span>

## <a name="incremental-export"></a><span data-ttu-id="8f954-132">Lisäävä vienti</span><span class="sxs-lookup"><span data-stu-id="8f954-132">Incremental export</span></span>

<span data-ttu-id="8f954-133">Kun entiteetti lisätään tietojen vientiin, valittavana on joko lisäävä siirto (vienti) tai täydellinen siirto.</span><span class="sxs-lookup"><span data-stu-id="8f954-133">When you add an entity for data export, you can do either an incremental push (export) or a full push.</span></span> <span data-ttu-id="8f954-134">Täydellinen siirto poistaa kaikki entiteetin tietueet BYOD-tietokannassa.</span><span class="sxs-lookup"><span data-stu-id="8f954-134">A full push deletes all existing records from an entity in the BYOD database.</span></span> <span data-ttu-id="8f954-135">Tämän jälkeen lisätään Human Resources -entiteetin nykyinen tietuejoukko.</span><span class="sxs-lookup"><span data-stu-id="8f954-135">It then inserts the current set of records from the Human Resources entity.</span></span>

<span data-ttu-id="8f954-136">Lisäävää siirtoa varten muutosten seuranta on otettava käyttöön jokaisessa entiteetissä **Entiteetit**-sivulla.</span><span class="sxs-lookup"><span data-stu-id="8f954-136">To do an incremental push, you must turn on change tracking for each entity on the **Entities** page.</span></span> <span data-ttu-id="8f954-137">Lisätietoja on kohdassa [Muutosten seurannan ottaminen käyttöön yksiköille](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8f954-137">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="8f954-138">Jos valitset lisäävän siirron, ensimmäinen siirto on aina täydellinen siirto.</span><span class="sxs-lookup"><span data-stu-id="8f954-138">If you select an incremental push, the first push is always a full push.</span></span> <span data-ttu-id="8f954-139">SQL seuraa muutoksia tästä ensimmäisestä täydellisestä siirrosta alkaen.</span><span class="sxs-lookup"><span data-stu-id="8f954-139">SQL tracks changes from this first full push.</span></span> <span data-ttu-id="8f954-140">Kun uusi tietue lisätään tai kun tietue päivitetään tai poistetaan, muutos näkyy myös kohde-entiteetissä.</span><span class="sxs-lookup"><span data-stu-id="8f954-140">When a new record is inserted, or when a record is updated or deleted, the change is reflected in the destination entity.</span></span>

## <a name="time-outs"></a><span data-ttu-id="8f954-141">Aikakatkaisut</span><span class="sxs-lookup"><span data-stu-id="8f954-141">Time-outs</span></span>

<span data-ttu-id="8f954-142">BYOD-vientien oletusaikakatkaisut:</span><span class="sxs-lookup"><span data-stu-id="8f954-142">Here are the default time-outs for BYOD exports:</span></span>

- <span data-ttu-id="8f954-143">Kymmenen minuuttia katkaisutoiminnoissa</span><span class="sxs-lookup"><span data-stu-id="8f954-143">Ten minutes for truncation operations</span></span>
- <span data-ttu-id="8f954-144">Yksi tunti joukkolisäystoiminnoissa</span><span class="sxs-lookup"><span data-stu-id="8f954-144">One hour for bulk insert operations</span></span>

<span data-ttu-id="8f954-145">Jos määrät ovat suuria, nämä aikakatkaisuasetukset eivät ehkä riitä.</span><span class="sxs-lookup"><span data-stu-id="8f954-145">When volumes are high, these time-out settings might not be sufficient.</span></span> <span data-ttu-id="8f954-146">Voit päivittää ne valitsemalla **Tiedonhallinta \> Kehikkoparametrit \> Tuo oma tietokanta**.</span><span class="sxs-lookup"><span data-stu-id="8f954-146">To update them, go to **Data management \> Framework parameters \> Bring your own database**.</span></span> <span data-ttu-id="8f954-147">Nämä aikakatkaisut ovat yrityskohtaisia ja ne on määrittävä erikseen kullekin yritykselle.</span><span class="sxs-lookup"><span data-stu-id="8f954-147">These time-outs are company-specific and must be set separately for each company.</span></span>

## <a name="known-limitations"></a><span data-ttu-id="8f954-148">Tunnetut rajoitukset</span><span class="sxs-lookup"><span data-stu-id="8f954-148">Known limitations</span></span>

<span data-ttu-id="8f954-149">Oman tietokannan tuontitoiminnolla on seuraavat rajoitukset:</span><span class="sxs-lookup"><span data-stu-id="8f954-149">The BYOD feature has the following limitations:</span></span>

- <span data-ttu-id="8f954-150">Tietokannassa ei saa olla aktiivisia lukituksia synkronoinnin aikana.</span><span class="sxs-lookup"><span data-stu-id="8f954-150">There should be no active locks on your database during synchronization.</span></span> <span data-ttu-id="8f954-151">Aktiiviset lukitukset voivat hidastaa kirjoittamista tai jopa estää tietojen viennin Azuren SQL-tietokantaan.</span><span class="sxs-lookup"><span data-stu-id="8f954-151">Active locks can cause slow writes or even failure to export data to your Azure SQL database.</span></span>
- <span data-ttu-id="8f954-152">Yhdistelmäentiteettejä ei voi viedä omaan tietokantaan.</span><span class="sxs-lookup"><span data-stu-id="8f954-152">You can't export composite entities into your own database.</span></span> <span data-ttu-id="8f954-153">Yhdistelmäentiteettejä ei tueta tällä hetkellä.</span><span class="sxs-lookup"><span data-stu-id="8f954-153">Currently, composite entities aren't supported.</span></span> <span data-ttu-id="8f954-154">Sen sijaan on vietävä yksittäiset entiteetit, joista yhdistelmäentiteetti koostuu.</span><span class="sxs-lookup"><span data-stu-id="8f954-154">You must export individual entities that make up the composite entity.</span></span> <span data-ttu-id="8f954-155">Voit kuitenkin viedä molemmat entiteetit samassa tietoprojektissa.</span><span class="sxs-lookup"><span data-stu-id="8f954-155">However, you can export both entities in the same data project.</span></span>
- <span data-ttu-id="8f954-156">Lisäävällä siirrolla ei voi entiteettejä, joilla ei ole yksilöiviä avaimia.</span><span class="sxs-lookup"><span data-stu-id="8f954-156">Entities that don't have unique keys can't be exported by using incremental push.</span></span> <span data-ttu-id="8f954-157">Tämä rajoitus voi esiintyä etenkin silloin, jos yritä tehdä tietueiden lisäävän viennin muutamista valmiista entiteeteistä.</span><span class="sxs-lookup"><span data-stu-id="8f954-157">You might face this limitation especially when you try to incrementally export records from a few ready-made entities.</span></span> <span data-ttu-id="8f954-158">Koska nämä entiteetit suunniteltiin mahdollistamaan tietojen tuonti, niillä ei ole yksilöivää avainta.</span><span class="sxs-lookup"><span data-stu-id="8f954-158">Because these entities were designed to enable the import of data, they don't have a unique key.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="8f954-159">Vianmääritys</span><span class="sxs-lookup"><span data-stu-id="8f954-159">Troubleshooting</span></span>

### <a name="incremental-push-doesnt-work-correctly"></a><span data-ttu-id="8f954-160">Lisäävä siirto ei toimi oikein</span><span class="sxs-lookup"><span data-stu-id="8f954-160">Incremental push doesn't work correctly</span></span>

<span data-ttu-id="8f954-161">**Ongelma:** Kun entiteetille tehdään täydellinen siirto, näkyvissä on suuri joukko tietueita omaa tietokantaa tuotaessa ja **select**-lauseketta käytettäessä.</span><span class="sxs-lookup"><span data-stu-id="8f954-161">**Issue:** When a full push occurs for an entity, you see a large set of records in BYOD when you use a **select** statement.</span></span> <span data-ttu-id="8f954-162">Lisäävää siirtoa tehtäessä omaa tietokantaa tuotaessa näkyvissä on vain muutama tietue.</span><span class="sxs-lookup"><span data-stu-id="8f954-162">However, when you do an incremental push, you see only a few records in BYOD.</span></span> <span data-ttu-id="8f954-163">Vaikuttaa siltä, että lisäävä siirto poisti kaikki tietueet ja lisäsi vain muuttuneet tietueet omassa tuodussa tietokannassa.</span><span class="sxs-lookup"><span data-stu-id="8f954-163">It seems as though the incremental push deleted all the records and added only the changed records in BYOD.</span></span>

<span data-ttu-id="8f954-164">**Ratkaisu:** SQL:n muutosten seurantataulukoiden tila ei ole ehkä odotettu.</span><span class="sxs-lookup"><span data-stu-id="8f954-164">**Solution:** The SQL change tracking tables might not be in the expected state.</span></span> <span data-ttu-id="8f954-165">Näissä tilanteissa entiteetin muutosten seuranta kannattaa poistaa käytöstä ja ottaa sitten uudelleen käyttöön.</span><span class="sxs-lookup"><span data-stu-id="8f954-165">In cases of this type, we recommend that you turn off change tracking for the entity and then turn it back on.</span></span> <span data-ttu-id="8f954-166">Lisätietoja on kohdassa [Muutosten seurannan ottaminen käyttöön yksiköille](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8f954-166">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

### <a name="staging-tables-arent-clearing"></a><span data-ttu-id="8f954-167">Valmistelutaulukot eivät tyhjene</span><span class="sxs-lookup"><span data-stu-id="8f954-167">Staging tables aren't clearing</span></span>

<span data-ttu-id="8f954-168">**Ongelma:** Kun käytät projektin valmistelua, valmistelutaulukot eivät tyhjenny oikein.</span><span class="sxs-lookup"><span data-stu-id="8f954-168">**Issue:** When using staging for the project, the staging tables don't clear out correctly.</span></span> <span data-ttu-id="8f954-169">Taulukkojen tiedot kasvavat edelleen, mikä aiheuttaa suorituskykyongelmia.</span><span class="sxs-lookup"><span data-stu-id="8f954-169">The data in the tables then continues to grow, causing performance issues.</span></span>

<span data-ttu-id="8f954-170">**Ratkaisu:** Valmistelutaulukoissa ylläpidetään seitsemän päivää historiaa.</span><span class="sxs-lookup"><span data-stu-id="8f954-170">**Solution:** Seven days of history is maintained in the staging tables.</span></span> <span data-ttu-id="8f954-171">**Tuonnin/viennin väliaikaisen tallennuksen tietojen puhdistus** -erätyö tyhjentää valmistelutaulukoiden yli seitsemän päivää vanhemmat historiatiedot automaattisesti.</span><span class="sxs-lookup"><span data-stu-id="8f954-171">Historical data older than seven days is automatically cleared from the staging tables by the **Import export staging cleanup** batch job.</span></span> <span data-ttu-id="8f954-172">Jos tämä työ jumittuu, taulukot eivät tyhjenny oikein.</span><span class="sxs-lookup"><span data-stu-id="8f954-172">If this job gets stuck, the tables won't clear out correctly.</span></span> <span data-ttu-id="8f954-173">Tämän erätyön käynnistäminen uudelleen jatkaa prosessia valmistelutaulukoiden tyhjentämiseksi automaattisesti.</span><span class="sxs-lookup"><span data-stu-id="8f954-173">Restarting this batch job will continue the process to automatically clear out the staging tables.</span></span>

## <a name="see-also"></a><span data-ttu-id="8f954-174">Lisätietoja</span><span class="sxs-lookup"><span data-stu-id="8f954-174">See also</span></span>

[<span data-ttu-id="8f954-175">Tietojen hallinnan yleiskatsaus</span><span class="sxs-lookup"><span data-stu-id="8f954-175">Data management overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-entities-data-packages.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="8f954-176">Oman tietokannan tuonti (BYOD)</span><span class="sxs-lookup"><span data-stu-id="8f954-176">Bring your own database (BYOD)</span></span>](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="8f954-177">Tietojen tuonti- ja vientityöt – yleiskatsaus</span><span class="sxs-lookup"><span data-stu-id="8f954-177">Data import and export jobs overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="8f954-178">Muutosten seurannan ottaminen käyttöön yksiköille</span><span class="sxs-lookup"><span data-stu-id="8f954-178">Enable change tracking for entities</span></span>](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
