---
title: Asiakkaan alkuperäisen maksuennustemallin arvioiminen (esiversio)
description: Tässä ohjeaiheessa kuvataan vaiheet, joiden avulla opit lisää asiakkaan maksuennustemallista ja voit arvioida sen tehokkuuden.
author: ShivamPandey-msft
ms.date: 05/28/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-05-28
ms.dyn365.ops.version: AX 10.0.8
ms.openlocfilehash: 56ec9795f0eb8b15dd00578bf35739eaa9e3d086
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: fi-FI
ms.lasthandoff: 04/01/2021
ms.locfileid: "5818616"
---
# <a name="evaluate-the-initial-customer-payment-prediction-model-preview"></a><span data-ttu-id="abf2b-103">Asiakkaan alkuperäisen maksuennustemallin arvioiminen (esiversio)</span><span class="sxs-lookup"><span data-stu-id="abf2b-103">Evaluate the initial customer payment prediction model (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="abf2b-104">Tässä ohjeaiheessa kerrotaan, miten ennustemalli arvioidaan sen jälkeen, kun Finance Insights on otettu käyttöön ja ensimmäinen malli on luotu ja koulutettu.</span><span class="sxs-lookup"><span data-stu-id="abf2b-104">This topic explains how to evaluate a prediction model after you've turned on Finance Insights and then generated and trained your first model.</span></span> <span data-ttu-id="abf2b-105">Tässä ohjeaiheessa käsitellään asiakasmaksujen ennustamiseen liittyviä malleja.</span><span class="sxs-lookup"><span data-stu-id="abf2b-105">This topic addresses models for predicting customer payments.</span></span> <span data-ttu-id="abf2b-106">Siinä kuvataan vaiheet, joiden avulla opit lisää asiakkaan maksuennustemallista ja voit arvioida sen tehokkuuden.</span><span class="sxs-lookup"><span data-stu-id="abf2b-106">It describes the steps that you can take to understand the customer payment prediction model and evaluate its effectiveness.</span></span>

## <a name="getting-details-about-the-model"></a><span data-ttu-id="abf2b-107">Mallin tietojen hakeminen</span><span class="sxs-lookup"><span data-stu-id="abf2b-107">Getting details about the model</span></span>

<span data-ttu-id="abf2b-108">**Finance Insights -parametrit** -sivulla Microsoft Dynamics 365 Financessa tarkkuuspisteiden vieressä on **Paranna mallin tarkkuutta** -linkki.</span><span class="sxs-lookup"><span data-stu-id="abf2b-108">On the **Finance Insights parameters** page in Microsoft Dynamics 365 Finance, an **Improve model accuracy** link appears next to the accuracy score.</span></span>

<span data-ttu-id="abf2b-109">[![Paranna mallin tarkkuutta -linkki](./media/prediction-model.png)](./media/prediction-model.png)</span><span class="sxs-lookup"><span data-stu-id="abf2b-109">[![Improve model accuracy link](./media/prediction-model.png)](./media/prediction-model.png)</span></span>

<span data-ttu-id="abf2b-110">Tämä linkki vie AI Builderiin, josta saat lisätietoja nykyisestä mallista. Voit myös parantaa mallia siellä.</span><span class="sxs-lookup"><span data-stu-id="abf2b-110">This link takes you to AI Builder, where you can learn more about the current model and also take steps to improve it.</span></span> <span data-ttu-id="abf2b-111">Seuraavassa kuvassa on näyttöön avautuva sivu.</span><span class="sxs-lookup"><span data-stu-id="abf2b-111">The following illustration shows the page that is opened.</span></span>

<span data-ttu-id="abf2b-112">[![AI Builder](./media/what-to-predict.png)](./media/what-to-predict.png)</span><span class="sxs-lookup"><span data-stu-id="abf2b-112">[![AI Builder](./media/what-to-predict.png)](./media/what-to-predict.png)</span></span>

<span data-ttu-id="abf2b-113">Avautuva sivu sisältää seuraavat tiedot:</span><span class="sxs-lookup"><span data-stu-id="abf2b-113">The page that is opened shows the following information:</span></span>

- <span data-ttu-id="abf2b-114">**Suorituskyky**-osan mallin suorituskykyluokka kertoo mallin laadusta.</span><span class="sxs-lookup"><span data-stu-id="abf2b-114">In the **Performance** section, the model performance grade provides perspective on the quality of the model.</span></span> <span data-ttu-id="abf2b-115">Lisätietoja tästä luokasta on kohdassa [Ennustemallin suorituskyky](https://docs.microsoft.com/ai-builder/prediction-performance) AI Builderin dokumentaatiossa.</span><span class="sxs-lookup"><span data-stu-id="abf2b-115">For more information about this grade, see [Prediction model performance](https://docs.microsoft.com/ai-builder/prediction-performance) in the AI Builder documentation.</span></span>
- <span data-ttu-id="abf2b-116">**Vaikuttavimmat tiedot** -osassa näkyy, miten tärkeitä tietojen eri syöttötyypit olivat mallille.</span><span class="sxs-lookup"><span data-stu-id="abf2b-116">The **Most influential data** section shows how important different input types of data were for your model.</span></span> <span data-ttu-id="abf2b-117">Voit arvioida tämän luettelon ja vastaavat prosenttiosuudet ja määrittää, ovatko tiedot yhdenmukaisia yrityksen ja markkinoiden kanssa.</span><span class="sxs-lookup"><span data-stu-id="abf2b-117">You can evaluate this list and the corresponding percentages to determine whether the information is consistent with what you know about your business and market.</span></span>

    <span data-ttu-id="abf2b-118">[![Ennustemallin Suorituskyky- ja Vaikuttavimmat tiedot -osat](./media/models.png)](./media/models.png)</span><span class="sxs-lookup"><span data-stu-id="abf2b-118">[![Performance and Most influential data sections for the prediction model](./media/models.png)](./media/models.png)</span></span>

- <span data-ttu-id="abf2b-119">Valitse **Suorituskyky**-osassa **Katso tiedot**, jos haluat lisätietoja luokasta ja muista kohdista.</span><span class="sxs-lookup"><span data-stu-id="abf2b-119">In the **Performance** section, select **See details** to learn more about the grade and other considerations.</span></span> <span data-ttu-id="abf2b-120">Seuraavassa kuvassa nähdään, että malli käyttää vähemmän tietoja kuin suositellaan.</span><span class="sxs-lookup"><span data-stu-id="abf2b-120">In the following illustration, the details show that the model uses less information than is recommended.</span></span> <span data-ttu-id="abf2b-121">Siksi järjestelmä on luonut varoitussanoman.</span><span class="sxs-lookup"><span data-stu-id="abf2b-121">Therefore, the system has generated a warning message.</span></span>

    <span data-ttu-id="abf2b-122">[![Mallin suorituskykyyn liittyviä varoituksia](./media/details.png)](./media/details.png)</span><span class="sxs-lookup"><span data-stu-id="abf2b-122">[![Warnings about the model's performance](./media/details.png)](./media/details.png)</span></span>

## <a name="digging-deeper"></a><span data-ttu-id="abf2b-123">Lisätietoja</span><span class="sxs-lookup"><span data-stu-id="abf2b-123">Digging deeper</span></span>

<span data-ttu-id="abf2b-124">Vaikka tarkkuus on hyvä aloituskohta mallin arvioinnissa, ja suorituskyvyn luokka tarjoaa näkökulman, AI Builder sisältää yksityiskohtaisempia mittareita arviointia varten.</span><span class="sxs-lookup"><span data-stu-id="abf2b-124">Although accuracy is a good starting point for evaluating a model, and the performance grade provides perspective, AI Builder provides more detailed metrics that you can use for your evaluation.</span></span> <span data-ttu-id="abf2b-125">Jos haluat ladata tiedot, valitse **Suorituskyky**-osassa kolmen pisteen painike (**...**) **Käytä mallia** -painikkeen vieressä. Valitse sitten **Lataa yksityiskohtaiset mittarit**.</span><span class="sxs-lookup"><span data-stu-id="abf2b-125">To download the details, in the **Performance** section, select the ellipsis button (**...**) next to the **Use model** button, and then select **Download detailed metrics**.</span></span>

<span data-ttu-id="abf2b-126">[![Lataa yksityiskohtaiset mittarit -komento](./media/performance.png)](./media/performance.png)</span><span class="sxs-lookup"><span data-stu-id="abf2b-126">[![Download detailed metrics command](./media/performance.png)](./media/performance.png)</span></span>

<span data-ttu-id="abf2b-127">Seuraavassa kuvassa näkyy muoto, josta tiedot voidaan ladata.</span><span class="sxs-lookup"><span data-stu-id="abf2b-127">The following illustration shows the format that you can download the data in.</span></span>

<span data-ttu-id="abf2b-128">[![Ladattujen tietojen muoto](./media/data-format.png)](./media/data-format.png)</span><span class="sxs-lookup"><span data-stu-id="abf2b-128">[![Format of downloaded data](./media/data-format.png)](./media/data-format.png)</span></span>

<span data-ttu-id="abf2b-129">Tulosten tarkempi analyysi on hyvä aloittaa tarkastelemalla sekaannusmatriisimittaria.</span><span class="sxs-lookup"><span data-stu-id="abf2b-129">For a deeper analysis of the results, a good starting point is to review the "Confusion Matrix" metric.</span></span> <span data-ttu-id="abf2b-130">Tässä on esimerkiksi tietoja, jotka näkyvät kyseiselle mittarille edellisessä kuvassa.</span><span class="sxs-lookup"><span data-stu-id="abf2b-130">For example, here is the data that is shown for this metric in the previous illustration.</span></span>

`{"name": "Confusion Matrix", "value": {"schema_type": "confusion_matrix", "schema_version": "1.0.0", "data": {"class_labels": ["0", "1", "2"], "matrix": [[71, 9, 21], [5, 0, 27], [2, 0, 45]]}}, "type": "dictionaryNumericalList", "isGlobalScore": false}`

<span data-ttu-id="abf2b-131">Voit laajentaa nämä tiedot seuraavalla tavalla.</span><span class="sxs-lookup"><span data-stu-id="abf2b-131">You can expand this data in the following way.</span></span>

| &nbsp;                   | <span data-ttu-id="abf2b-132">Ennustettu ajoissa</span><span class="sxs-lookup"><span data-stu-id="abf2b-132">Predicted On time</span></span> | <span data-ttu-id="abf2b-133">Ennustettu myöhässä</span><span class="sxs-lookup"><span data-stu-id="abf2b-133">Predicted Late</span></span> | <span data-ttu-id="abf2b-134">Ennustettu erittäin paljon myöhässä</span><span class="sxs-lookup"><span data-stu-id="abf2b-134">Predicted Very late</span></span> |
|--------------------------|-------------------|----------------|---------------------|
| <span data-ttu-id="abf2b-135">Todellinen ajoissa tehty maksu</span><span class="sxs-lookup"><span data-stu-id="abf2b-135">Actual on time payment</span></span>   | <span data-ttu-id="abf2b-136">**71**</span><span class="sxs-lookup"><span data-stu-id="abf2b-136">**71**</span></span>            | <span data-ttu-id="abf2b-137">0</span><span class="sxs-lookup"><span data-stu-id="abf2b-137">0</span></span>              | <span data-ttu-id="abf2b-138">21</span><span class="sxs-lookup"><span data-stu-id="abf2b-138">21</span></span>                  |
| <span data-ttu-id="abf2b-139">Todellinen myöhässä oleva maksu</span><span class="sxs-lookup"><span data-stu-id="abf2b-139">Actual late payment</span></span>      | <span data-ttu-id="abf2b-140">5</span><span class="sxs-lookup"><span data-stu-id="abf2b-140">5</span></span>                 | <span data-ttu-id="abf2b-141">**0**</span><span class="sxs-lookup"><span data-stu-id="abf2b-141">**0**</span></span>          | <span data-ttu-id="abf2b-142">27</span><span class="sxs-lookup"><span data-stu-id="abf2b-142">27</span></span>                  |
| <span data-ttu-id="abf2b-143">Todellinen erittäin paljon myöhässä oleva maksu</span><span class="sxs-lookup"><span data-stu-id="abf2b-143">Actual very late payment</span></span> | <span data-ttu-id="abf2b-144">2</span><span class="sxs-lookup"><span data-stu-id="abf2b-144">2</span></span>                 | <span data-ttu-id="abf2b-145">0</span><span class="sxs-lookup"><span data-stu-id="abf2b-145">0</span></span>              | <span data-ttu-id="abf2b-146">**45**</span><span class="sxs-lookup"><span data-stu-id="abf2b-146">**45**</span></span>              |

<span data-ttu-id="abf2b-147">Sekaannusmatriisi näyttää satunnaisesti valitun testitietojoukon tulokset koulutusprosessista.</span><span class="sxs-lookup"><span data-stu-id="abf2b-147">The confusion matrix shows the results of a randomly selected test dataset from the training process.</span></span> <span data-ttu-id="abf2b-148">Koska näitä suljettuja laskuja ei käytetty mallin kouluttamisessa, ne ovat mallin kannalta hyviä testitapauksia.</span><span class="sxs-lookup"><span data-stu-id="abf2b-148">Because these closed invoices weren't used to train the model, they are good test cases for the model.</span></span> <span data-ttu-id="abf2b-149">Koska laskun todellinen tila on tiedossa, nähdään myös mallin suorituskyky.</span><span class="sxs-lookup"><span data-stu-id="abf2b-149">Additionally, because the actual state of the invoice is known, the model's performance can also be seen.</span></span>

<span data-ttu-id="abf2b-150">Ensimmäiseksi etsittävä seikka on yleisin todellinen arvo.</span><span class="sxs-lookup"><span data-stu-id="abf2b-150">The first thing to look for is the most common actual value.</span></span> <span data-ttu-id="abf2b-151">Vaikka tämä arvo ei ehkä ole täysin yhdenmukainen koko tietojoukon kanssa, se on kohtuullinen arvio.</span><span class="sxs-lookup"><span data-stu-id="abf2b-151">Although this value might not be perfectly aligned with the overall dataset, it's a reasonable approximation.</span></span> <span data-ttu-id="abf2b-152">Tässä tapauksessa **Todellinen ajoissa tehty maksu** tapahtuu 92 laskussa kaikista 171 laskusta. Se on yleisin todellinen arvo.</span><span class="sxs-lookup"><span data-stu-id="abf2b-152">In this case, **Actual on time payment** occurs for 92 of the 171 total invoices and is the most common actual value.</span></span> <span data-ttu-id="abf2b-153">Siksi se on hyvä mallin perustaso.</span><span class="sxs-lookup"><span data-stu-id="abf2b-153">Therefore, it's a good baseline for your model.</span></span> <span data-ttu-id="abf2b-154">Jos vain arvasit, että kaikki laskut maksetaan ajoissa, olet oikeassa 92 kertaa 171 laskun kohdalla (eli 54 prosenttia arvattiin oikein).</span><span class="sxs-lookup"><span data-stu-id="abf2b-154">If you just guessed that all invoices would be on time, you would be correct 92 out of 171 times (that is, 54 percent of the time).</span></span>

<span data-ttu-id="abf2b-155">On tärkeää ymmärtää, miten tasapainoinen tietojoukko on.</span><span class="sxs-lookup"><span data-stu-id="abf2b-155">It's important that you understand how balanced your dataset is.</span></span> <span data-ttu-id="abf2b-156">Tässä tapauksessa 92 laskua kaikkiaan 171 laskusta maksettiin ajoissa. 32 maksettiin myöhässä ja 47 erittäin paljon myöhässä.</span><span class="sxs-lookup"><span data-stu-id="abf2b-156">In this case, 92 out of 171 invoices were paid on time, 32 were paid late, and 47 were paid very late.</span></span> <span data-ttu-id="abf2b-157">Nämä arvot osoittavat, että tietojoukko on suhteellisen tasapainoinen. Tämä siksi, koska missään luokituksessa ei ole triviaaleja tuloksia.</span><span class="sxs-lookup"><span data-stu-id="abf2b-157">These values indicate a reasonably balanced dataset, because there are non-trivial results in each classification.</span></span> <span data-ttu-id="abf2b-158">Tilanne, jossa yksi näistä tiloista saa hyvin vähän tuloksia, voi olla haastava koneoppimismallille.</span><span class="sxs-lookup"><span data-stu-id="abf2b-158">A situation where one of the states has very few results can be challenging for a machine learning model.</span></span>

<span data-ttu-id="abf2b-159">Mallin tarkkuus ilmaisee testitietojoukon oikeiden ennusteiden määrän.</span><span class="sxs-lookup"><span data-stu-id="abf2b-159">The accuracy of the model indicates the number of correct predictions for the test dataset.</span></span> <span data-ttu-id="abf2b-160">Nämä oikeat ennusteet ovat arvoja, jotka näkyvät edellä olevassa esimerkissä lihavoituna.</span><span class="sxs-lookup"><span data-stu-id="abf2b-160">These correct predictions are the values that are shown in bold in the preceding example.</span></span> <span data-ttu-id="abf2b-161">Tässä tapauksessa arvot tuottavat lasketuksi tarkkuudeksi 67,8 prosenttia (= \[71 + 0 + 45\] ÷ 171).</span><span class="sxs-lookup"><span data-stu-id="abf2b-161">In this case, the values produce a calculated accuracy of 67.8 percent (= \[71 + 0 + 45\] ÷ 171).</span></span> <span data-ttu-id="abf2b-162">Tämä arvo merkitsee 14 prosentin parannusta perusarvaukseen, joka oli 54 prosenttia. Se on yksi mallin laadun ilmaisin.</span><span class="sxs-lookup"><span data-stu-id="abf2b-162">This value represents an improvement of 14 percent over the baseline guess of 54 percent and is one indicator of the model's quality.</span></span>

<span data-ttu-id="abf2b-163">Jos tarkastelemme lähemmin sekaannusmatriisia, huomaamme, että malli toimii hyvin ennustaessaan ajallaan ja erittäin paljon myöhässä suoritettavia maksuja.</span><span class="sxs-lookup"><span data-stu-id="abf2b-163">If you look more closely at the confusion matrix, you will notice that the model does a good job of predicting on-time and very late invoice payments.</span></span> <span data-ttu-id="abf2b-164">Se on kuitenkin väärässä kaikissa 32 laskussa, jotka maksettiin myöhässä (mutta ei erittäin paljon myöhässä).</span><span class="sxs-lookup"><span data-stu-id="abf2b-164">However, it's wrong about all 32 invoices that were actually paid late (but not very late).</span></span> <span data-ttu-id="abf2b-165">Tämä tulos viittaa siihen, että on tarpeen tutkia ja parantaa mallia.</span><span class="sxs-lookup"><span data-stu-id="abf2b-165">This result suggests that additional exploration and improvement of the model are required.</span></span>

<span data-ttu-id="abf2b-166">Tarkkuutta paremmin mallin suorituskykyä osoittava luku on F1-makropistemäärä.</span><span class="sxs-lookup"><span data-stu-id="abf2b-166">A number that represents the performance of the model better than accuracy is the F1 Macro score.</span></span> <span data-ttu-id="abf2b-167">Tämä pistemäärä osoittaa kunkin luokituksen tilan tulokset (ajallaan, myöhässä, erittäin paljon myöhässä).</span><span class="sxs-lookup"><span data-stu-id="abf2b-167">This score considers the results of each classification state (on-time, late, and very late).</span></span> <span data-ttu-id="abf2b-168">Tässä on esimerkiksi tietoja, jotka näkyvät F1-makromittarille edellisessä kuvassa.</span><span class="sxs-lookup"><span data-stu-id="abf2b-168">For example, here is the data that is shown for the "F1 Macro" metric in the previous illustration.</span></span>

`{"name": "F1 Macro", "value": 0.4927170868347339, "type": "percentage", "isGlobalScore": false}`

<span data-ttu-id="abf2b-169">Tässä tapauksessa F1-makropistemäärä, noin 49.3 prosenttia, osoittaa, että malli ei tuota tehokkaita ennusteita kaikissa tiloissa, vaikka yleinen tarkkuuspistemäärä näyttää olevan suhteellisen korkea.</span><span class="sxs-lookup"><span data-stu-id="abf2b-169">In this case, the F1 Macro score of approximately 49.3 percent indicates that the model doesn't provide effective predictions across each state, despite an overall accuracy score that seems reasonably high.</span></span>

## <a name="improving-the-model"></a><span data-ttu-id="abf2b-170">Mallin parantaminen</span><span class="sxs-lookup"><span data-stu-id="abf2b-170">Improving the model</span></span>

<span data-ttu-id="abf2b-171">Kun olet ymmärtänyt ensimmäisen mallin tulokset paremmin, voit parantaa mallia lisäämällä tai poistamalla toimintosarakkeita tai suodattamalla kaikki tietojoukon osat, jotka eivät tue tarkkoja ennusteita.</span><span class="sxs-lookup"><span data-stu-id="abf2b-171">After you understand the results of your first model better, you might want to improve the model by adding or removing feature columns, or by filtering any parts of the dataset that don't support accurate predictions.</span></span> <span data-ttu-id="abf2b-172">Sulje AI Builder ja käytä sitten **Paranna mallia** -linkkiä Dynamics 365 Financessa ja käynnistä AI Builder -prosessi uudelleen.</span><span class="sxs-lookup"><span data-stu-id="abf2b-172">Close AI Builder, and then use the **Improve model** link in Dynamics 365 Finance to restart the AI Builder process.</span></span> <span data-ttu-id="abf2b-173">Voit kokeilla erilaisia ominaisuuksia vaikuttamatta julkaistuun malliin.</span><span class="sxs-lookup"><span data-stu-id="abf2b-173">You can experiment with different characteristics without affecting the published model.</span></span> <span data-ttu-id="abf2b-174">Julkaistua mallia muutetaan vain, kun valitset **Julkaise**.</span><span class="sxs-lookup"><span data-stu-id="abf2b-174">The published model is affected only when you select **Publish**.</span></span> <span data-ttu-id="abf2b-175">Muista, että Dynamics 365 Finance -esiintymässä käytetään yhtä mallia.</span><span class="sxs-lookup"><span data-stu-id="abf2b-175">Remember that a single model is used for your instance of Dynamics 365 Finance.</span></span> <span data-ttu-id="abf2b-176">Tämän vuoksi sinun on tarkistettava kaikki uudet mallit huolellisesti ennen julkaisemista.</span><span class="sxs-lookup"><span data-stu-id="abf2b-176">Therefore, you should carefully review any new model before you publish it.</span></span>

## <a name="for-more-information"></a><span data-ttu-id="abf2b-177">Lisätietoja</span><span class="sxs-lookup"><span data-stu-id="abf2b-177">For more information</span></span>

<span data-ttu-id="abf2b-178">Lisätietoja ennustemallien arvioimisesta on kohdassa [Koneoppimismallien tulokset](/confusion-matrix.md)</span><span class="sxs-lookup"><span data-stu-id="abf2b-178">For more information about how to evaluate prediction models, [Results of machine learning models](/confusion-matrix.md)</span></span>

#### <a name="privacy-notice"></a><span data-ttu-id="abf2b-179">Tietosuojatiedot</span><span class="sxs-lookup"><span data-stu-id="abf2b-179">Privacy notice</span></span>
<span data-ttu-id="abf2b-180">Esiversiot (1) voivat käyttää vähemmän tietosuojaa ja suojaustoimenpiteitä kuin Dynamics 365 Finance and Operations -palvelu, (2) eivät sisälly tämän huoltotilauksen palvelutasosopimukseen, (3) niitä ei ole tarkoitettu henkilötietojen tai muiden sellaisten tietojen käsittelemiseen, joihin liittyy lainsäädännön tai määräysten vaatimustenmukaisuusvaatimuksia ja (4) niillä on rajoitettu tuki.</span><span class="sxs-lookup"><span data-stu-id="abf2b-180">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]